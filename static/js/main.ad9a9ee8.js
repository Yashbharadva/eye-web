/*! For license information please see main.ad9a9ee8.js.LICENSE.txt */
!function(){var e={1694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a)if(n.toString===Object.prototype.toString)for(var u in n)r.call(n,u)&&n[u]&&e.push(u);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},2110:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=h(n,y);try{c(t,y,g)}catch(b){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,k=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===b||e.$$typeof===k||e.$$typeof===y)},t.typeOf=w},8309:function(e,t,n){"use strict";e.exports=n(746)},908:function(e,t,n){var r=n(8136)(n(7009),"DataView");e.exports=r},9676:function(e,t,n){var r=n(5403),i=n(2747),a=n(6037),o=n(4154),u=n(7728);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=i,s.prototype.get=a,s.prototype.has=o,s.prototype.set=u,e.exports=s},8384:function(e,t,n){var r=n(3894),i=n(8699),a=n(4957),o=n(7184),u=n(7109);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=i,s.prototype.get=a,s.prototype.has=o,s.prototype.set=u,e.exports=s},5797:function(e,t,n){var r=n(8136)(n(7009),"Map");e.exports=r},8059:function(e,t,n){var r=n(4086),i=n(9255),a=n(9186),o=n(3423),u=n(3739);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=i,s.prototype.get=a,s.prototype.has=o,s.prototype.set=u,e.exports=s},8319:function(e,t,n){var r=n(8136)(n(7009),"Promise");e.exports=r},3924:function(e,t,n){var r=n(8136)(n(7009),"Set");e.exports=r},692:function(e,t,n){var r=n(8059),i=n(5774),a=n(1596);function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=i,o.prototype.has=a,e.exports=o},2854:function(e,t,n){var r=n(8384),i=n(511),a=n(835),o=n(707),u=n(8832),s=n(5077);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=u,c.prototype.set=s,e.exports=c},7197:function(e,t,n){var r=n(7009).Symbol;e.exports=r},6219:function(e,t,n){var r=n(7009).Uint8Array;e.exports=r},7091:function(e,t,n){var r=n(8136)(n(7009),"WeakMap");e.exports=r},4903:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}},7538:function(e,t,n){var r=n(6478),i=n(4963),a=n(3629),o=n(5174),u=n(6800),s=n(9102),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=a(e),l=!n&&i(e),f=!n&&!l&&o(e),h=!n&&!l&&!f&&s(e),d=n||l||f||h,p=d?r(e.length,String):[],v=p.length;for(var m in e)!t&&!c.call(e,m)||d&&("length"==m||f&&("offset"==m||"parent"==m)||h&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||u(m,v))||p.push(m);return p}},1705:function(e){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},7897:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},7112:function(e,t,n){var r=n(9231);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},1986:function(e,t,n){var r=n(1705),i=n(3629);e.exports=function(e,t,n){var a=t(e);return i(e)?a:r(a,n(e))}},9066:function(e,t,n){var r=n(7197),i=n(1587),a=n(3581),o=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?i(e):a(e)}},4906:function(e,t,n){var r=n(9066),i=n(3141);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},1848:function(e,t,n){var r=n(3355),i=n(3141);e.exports=function e(t,n,a,o,u){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,a,o,e,u))}},3355:function(e,t,n){var r=n(2854),i=n(5305),a=n(2206),o=n(8078),u=n(8383),s=n(3629),c=n(5174),l=n(9102),f="[object Arguments]",h="[object Array]",d="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,v,m,y){var g=s(e),b=s(t),k=g?h:u(e),w=b?h:u(t),x=(k=k==f?d:k)==d,E=(w=w==f?d:w)==d,_=k==w;if(_&&c(e)){if(!c(t))return!1;g=!0,x=!1}if(_&&!x)return y||(y=new r),g||l(e)?i(e,t,n,v,m,y):a(e,t,k,n,v,m,y);if(!(1&n)){var S=x&&p.call(e,"__wrapped__"),I=E&&p.call(t,"__wrapped__");if(S||I){var T=S?e.value():e,C=I?t.value():t;return y||(y=new r),m(T,C,n,v,y)}}return!!_&&(y||(y=new r),o(e,t,n,v,m,y))}},6703:function(e,t,n){var r=n(4786),i=n(257),a=n(8092),o=n(7907),u=/^\[object .+?Constructor\]$/,s=Function.prototype,c=Object.prototype,l=s.toString,f=c.hasOwnProperty,h=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||i(e))&&(r(e)?h:u).test(o(e))}},8150:function(e,t,n){var r=n(9066),i=n(4635),a=n(3141),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&i(e.length)&&!!o[r(e)]}},3654:function(e,t,n){var r=n(2936),i=n(8836),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}},6478:function(e){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},6194:function(e){e.exports=function(e){return function(t){return e(t)}}},75:function(e){e.exports=function(e,t){return e.has(t)}},5525:function(e,t,n){var r=n(7009)["__core-js_shared__"];e.exports=r},5305:function(e,t,n){var r=n(692),i=n(7897),a=n(75);e.exports=function(e,t,n,o,u,s){var c=1&n,l=e.length,f=t.length;if(l!=f&&!(c&&f>l))return!1;var h=s.get(e),d=s.get(t);if(h&&d)return h==t&&d==e;var p=-1,v=!0,m=2&n?new r:void 0;for(s.set(e,t),s.set(t,e);++p<l;){var y=e[p],g=t[p];if(o)var b=c?o(g,y,p,t,e,s):o(y,g,p,e,t,s);if(void 0!==b){if(b)continue;v=!1;break}if(m){if(!i(t,(function(e,t){if(!a(m,t)&&(y===e||u(y,e,n,o,s)))return m.push(t)}))){v=!1;break}}else if(y!==g&&!u(y,g,n,o,s)){v=!1;break}}return s.delete(e),s.delete(t),v}},2206:function(e,t,n){var r=n(7197),i=n(6219),a=n(9231),o=n(5305),u=n(234),s=n(2230),c=r?r.prototype:void 0,l=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,f,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!f(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var d=u;case"[object Set]":var p=1&r;if(d||(d=s),e.size!=t.size&&!p)return!1;var v=h.get(e);if(v)return v==t;r|=2,h.set(e,t);var m=o(d(e),d(t),r,c,f,h);return h.delete(e),m;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},8078:function(e,t,n){var r=n(8248),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,a,o,u){var s=1&n,c=r(e),l=c.length;if(l!=r(t).length&&!s)return!1;for(var f=l;f--;){var h=c[f];if(!(s?h in t:i.call(t,h)))return!1}var d=u.get(e),p=u.get(t);if(d&&p)return d==t&&p==e;var v=!0;u.set(e,t),u.set(t,e);for(var m=s;++f<l;){var y=e[h=c[f]],g=t[h];if(a)var b=s?a(g,y,h,t,e,u):a(y,g,h,e,t,u);if(!(void 0===b?y===g||o(y,g,n,a,u):b)){v=!1;break}m||(m="constructor"==h)}if(v&&!m){var k=e.constructor,w=t.constructor;k==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof k&&k instanceof k&&"function"==typeof w&&w instanceof w||(v=!1)}return u.delete(e),u.delete(t),v}},1032:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},8248:function(e,t,n){var r=n(1986),i=n(5918),a=n(2742);e.exports=function(e){return r(e,a,i)}},2799:function(e,t,n){var r=n(5964);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},8136:function(e,t,n){var r=n(6703),i=n(40);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},1587:function(e,t,n){var r=n(7197),i=Object.prototype,a=i.hasOwnProperty,o=i.toString,u=r?r.toStringTag:void 0;e.exports=function(e){var t=a.call(e,u),n=e[u];try{e[u]=void 0;var r=!0}catch(s){}var i=o.call(e);return r&&(t?e[u]=n:delete e[u]),i}},5918:function(e,t,n){var r=n(4903),i=n(8174),a=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,u=o?function(e){return null==e?[]:(e=Object(e),r(o(e),(function(t){return a.call(e,t)})))}:i;e.exports=u},8383:function(e,t,n){var r=n(908),i=n(5797),a=n(8319),o=n(3924),u=n(7091),s=n(9066),c=n(7907),l="[object Map]",f="[object Promise]",h="[object Set]",d="[object WeakMap]",p="[object DataView]",v=c(r),m=c(i),y=c(a),g=c(o),b=c(u),k=s;(r&&k(new r(new ArrayBuffer(1)))!=p||i&&k(new i)!=l||a&&k(a.resolve())!=f||o&&k(new o)!=h||u&&k(new u)!=d)&&(k=function(e){var t=s(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case v:return p;case m:return l;case y:return f;case g:return h;case b:return d}return t}),e.exports=k},40:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},5403:function(e,t,n){var r=n(9620);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},2747:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},6037:function(e,t,n){var r=n(9620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},4154:function(e,t,n){var r=n(9620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},7728:function(e,t,n){var r=n(9620);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},6800:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},5964:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},257:function(e,t,n){var r=n(5525),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},2936:function(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},3894:function(e){e.exports=function(){this.__data__=[],this.size=0}},8699:function(e,t,n){var r=n(7112),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},4957:function(e,t,n){var r=n(7112);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},7184:function(e,t,n){var r=n(7112);e.exports=function(e){return r(this.__data__,e)>-1}},7109:function(e,t,n){var r=n(7112);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},4086:function(e,t,n){var r=n(9676),i=n(8384),a=n(5797);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(a||i),string:new r}}},9255:function(e,t,n){var r=n(2799);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},9186:function(e,t,n){var r=n(2799);e.exports=function(e){return r(this,e).get(e)}},3423:function(e,t,n){var r=n(2799);e.exports=function(e){return r(this,e).has(e)}},3739:function(e,t,n){var r=n(2799);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},234:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},9620:function(e,t,n){var r=n(8136)(Object,"create");e.exports=r},8836:function(e,t,n){var r=n(2709)(Object.keys,Object);e.exports=r},9494:function(e,t,n){e=n.nmd(e);var r=n(1032),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,o=a&&a.exports===i&&r.process,u=function(){try{var e=a&&a.require&&a.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=u},3581:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},2709:function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},7009:function(e,t,n){var r=n(1032),i="object"==typeof self&&self&&self.Object===Object&&self,a=r||i||Function("return this")();e.exports=a},5774:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},1596:function(e){e.exports=function(e){return this.__data__.has(e)}},2230:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},511:function(e,t,n){var r=n(8384);e.exports=function(){this.__data__=new r,this.size=0}},835:function(e){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},707:function(e){e.exports=function(e){return this.__data__.get(e)}},8832:function(e){e.exports=function(e){return this.__data__.has(e)}},5077:function(e,t,n){var r=n(8384),i=n(5797),a=n(8059);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var o=n.__data__;if(!i||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(o)}return n.set(e,t),this.size=n.size,this}},7907:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},9231:function(e){e.exports=function(e,t){return e===t||e!==e&&t!==t}},4963:function(e,t,n){var r=n(4906),i=n(3141),a=Object.prototype,o=a.hasOwnProperty,u=a.propertyIsEnumerable,s=r(function(){return arguments}())?r:function(e){return i(e)&&o.call(e,"callee")&&!u.call(e,"callee")};e.exports=s},3629:function(e){var t=Array.isArray;e.exports=t},1473:function(e,t,n){var r=n(4786),i=n(4635);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},5174:function(e,t,n){e=n.nmd(e);var r=n(7009),i=n(9488),a=t&&!t.nodeType&&t,o=a&&e&&!e.nodeType&&e,u=o&&o.exports===a?r.Buffer:void 0,s=(u?u.isBuffer:void 0)||i;e.exports=s},8111:function(e,t,n){var r=n(1848);e.exports=function(e,t){return r(e,t)}},4786:function(e,t,n){var r=n(9066),i=n(8092);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},4635:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},8092:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},3141:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},9102:function(e,t,n){var r=n(8150),i=n(6194),a=n(9494),o=a&&a.isTypedArray,u=o?i(o):r;e.exports=u},2742:function(e,t,n){var r=n(7538),i=n(3654),a=n(1473);e.exports=function(e){return a(e)?r(e):i(e)}},8174:function(e){e.exports=function(){return[]}},9488:function(e){e.exports=function(){return!1}},888:function(e,t,n){"use strict";var r=n(9047);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4501:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,k=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.isFragment=function(e){return w(e)===a},t.isMemo=function(e){return w(e)===v}},3873:function(e,t,n){"use strict";e.exports=n(4501)},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var F,L=Object.assign;function V(e){if(void 0===F)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return"\n"+F+e}var j=!1;function U(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function z(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case x:return"Portal";case S:return"Profiler";case _:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ee=null,_e=null;function Se(e){if(e=bi(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ie(e){Ee?_e?_e.push(e):_e=[e]:Ee=e}function Te(){if(Ee){var e=Ee,t=_e;if(_e=Ee=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ce(e,t){return e(t)}function Ne(){}var Ae=!1;function Oe(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ce(e,t,n)}finally{Ae=!1,(null!==Ee||null!==_e)&&(Ne(),Te())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Re=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Re=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Re=!1}function Me(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Fe=!1,Le=null,Ve=!1,je=null,Ue={onError:function(e){Fe=!0,Le=e}};function ze(e,t,n,r,i,a,o,u,s){Fe=!1,Le=null,Me.apply(Ue,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Be(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,$e=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,Et,_t,St,It=!1,Tt=[],Ct=null,Nt=null,At=null,Ot=new Map,Pt=new Map,Rt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Ft(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=gi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void St(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Vt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function jt(e,t,n){Vt(e)&&n.delete(t)}function Ut(){It=!1,null!==Ct&&Vt(Ct)&&(Ct=null),null!==Nt&&Vt(Nt)&&(Nt=null),null!==At&&Vt(At)&&(At=null),Ot.forEach(jt),Pt.forEach(jt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function Bt(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==Nt&&zt(Nt,e),null!==At&&zt(At,e),Ot.forEach(t),Pt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Rt.shift()}var qt=k.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,qt.transition=a}}function Kt(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,qt.transition=a}}function Gt(e,t,n,r){if(Ht){var i=Qt(e,t,n,r);if(null===i)Hr(e,t,r,$t,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Ft(Ct,e,t,n,r,i),!0;case"dragenter":return Nt=Ft(Nt,e,t,n,r,i),!0;case"mouseover":return At=Ft(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ot.set(a,Ft(Ot.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,Ft(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&wt(a),null===(a=Qt(e,t,n,r))&&Hr(e,t,r,$t,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var $t=null;function Qt(e,t,n,r){if($t=null,null!==(e=gi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $t=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=L({},cn,{view:0,detail:0}),hn=an(fn),dn=L({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(L({},dn,{dataTransfer:0})),mn=an(L({},fn,{relatedTarget:0})),yn=an(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(gn),kn=an(L({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Sn(){return _n}var In=L({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(In),Cn=an(L({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(L({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),An=an(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=L({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(On),Rn=[9,13,27,32],Dn=l&&"CompositionEvent"in window,Mn=null;l&&"documentMode"in document&&(Mn=document.documentMode);var Fn=l&&"TextEvent"in window&&!Mn,Ln=l&&(!Dn||Mn&&8<Mn&&11>=Mn),Vn=String.fromCharCode(32),jn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ie(r),0<(t=Kr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function $n(e){Vr(e,0)}function Qn(e){if(G(ki(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Qn(Gn)){var t=[];Wn(t,Gn,e,we(e)),Oe($n,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Gn)}function ar(e,t){if("click"===e)return Qn(t)}function or(e,t){if("input"===e||"change"===e)return Qn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,br=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==$(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Er={},_r={};function Sr(e){if(Er[e])return Er[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return Er[e]=n[t];return e}l&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Ir=Sr("animationend"),Tr=Sr("animationiteration"),Cr=Sr("animationstart"),Nr=Sr("transitionend"),Ar=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Ar.set(e,t),s(t,[e])}for(var Rr=0;Rr<Or.length;Rr++){var Dr=Or[Rr];Pr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Pr(Ir,"onAnimationEnd"),Pr(Tr,"onAnimationIteration"),Pr(Cr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(ze.apply(this,arguments),Fe){if(!Fe)throw Error(a(198));var l=Le;Fe=!1,Le=null,Ve||(Ve=!0,je=l)}}(r,t,void 0,e),e.currentTarget=null}function Vr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Lr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Lr(i,u,c),a=s}}}if(Ve)throw e=je,Ve=!1,je=null,e}function jr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Fr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Ur("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Wt;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Oe((function(){var r=a,i=we(n),o=[];e:{var u=Ar.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Nn;break;case Ir:case Tr:case Cr:s=yn;break;case Nr:s=An;break;case"scroll":s=hn;break;case"wheel":s=Pn;break;case"copy":case"cut":case"paste":s=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Pe(p,h))&&l.push(Wr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===ke||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:ki(s),d=null==c?u:ki(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Gr(d))p++;for(d=0,v=h;v;v=Gr(v))d++;for(;0<p-d;)l=Gr(l),p--;for(;0<d-p;)h=Gr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Gr(l),h=Gr(h)}l=null}else l=null;null!==s&&$r(o,u,s,l,!1),null!==c&&null!==f&&$r(o,f,c,l,!0)}if("select"===(s=(u=r?ki(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Yn;else if(Hn(u))if(Xn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Wn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?ki(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,kr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":kr(o,n,i)}var g;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(g=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Bn=!0)),0<(y=Kr(r,b)).length&&(b=new kn(b,e,null,n,i),o.push({event:b,listeners:y}),g?b.data=g:null!==(g=zn(n))&&(b.data=g))),(g=Fn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(jn=!0,Vn);case"textInput":return(e=t.data)===Vn&&jn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&Un(e,t)?(e=en(),Zt=Jt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Vr(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=Pe(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function $r(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Pe(n,a))&&o.unshift(Wr(n,s,u)):i||null!=(s=Pe(n,a))&&o.push(Wr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Qr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ki(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],Ei=-1;function _i(e){return{current:e}}function Si(e){0>Ei||(e.current=xi[Ei],xi[Ei]=null,Ei--)}function Ii(e,t){Ei++,xi[Ei]=e.current,e.current=t}var Ti={},Ci=_i(Ti),Ni=_i(!1),Ai=Ti;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Si(Ni),Si(Ci)}function Di(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Ii(Ci,t),Ii(Ni,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return L({},n,r)}function Fi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ai=Ci.current,Ii(Ci,e),Ii(Ni,Ni.current),!0}function Li(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Mi(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Si(Ni),Si(Ci),Ii(Ci,e)):Si(Ni),Ii(Ni,n)}var Vi=null,ji=!1,Ui=!1;function zi(e){null===Vi?Vi=[e]:Vi.push(e)}function Bi(){if(!Ui&&null!==Vi){Ui=!0;var e=0,t=bt;try{var n=Vi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Vi=null,ji=!1}catch(i){throw null!==Vi&&(Vi=Vi.slice(e+1)),Ge(Ze,Bi),i}finally{bt=t,Ui=!1}}return null}var qi=[],Hi=0,Wi=null,Ki=0,Gi=[],$i=0,Qi=null,Yi=1,Xi="";function Ji(e,t){qi[Hi++]=Ki,qi[Hi++]=Wi,Wi=e,Ki=t}function Zi(e,t,n){Gi[$i++]=Yi,Gi[$i++]=Xi,Gi[$i++]=Qi,Qi=e;var r=Yi;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else Yi=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Wi;)Wi=qi[--Hi],qi[Hi]=null,Ki=qi[--Hi],qi[Hi]=null;for(;e===Qi;)Qi=Gi[--$i],Gi[$i]=null,Xi=Gi[--$i],Gi[$i]=null,Yi=Gi[--$i],Gi[$i]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=k.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=_i(null),ga=null,ba=null,ka=null;function wa(){ka=ba=ga=null}function xa(e){var t=ya.current;Si(ya),e._currentValue=t}function Ea(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _a(e,t){ga=e,ka=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ku=!0),e.firstContext=null)}function Sa(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===ga)throw Error(a(308));ba=e,ga.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var Ia=null;function Ta(e){null===Ia?Ia=[e]:Ia.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Na(e,r)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Aa=!1;function Oa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ra(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cs)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Na(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Na(e,n)}function Ma(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Fa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function La(e,t,n,r){var i=e.updateQueue;Aa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=L({},f,h);break e;case 2:Aa=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Fs|=o,e.lanes=o,e.memoizedState=f}}function Va(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var ja=(new r.Component).refs;function Ua(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Ra(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(nc(t,e,i,r),Ma(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Ra(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(nc(t,e,i,r),Ma(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Ra(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Da(e,i,r))&&(nc(t,e,r,n),Ma(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Sa(a):(i=Pi(t)?Ai:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ha(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ja,Oa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Sa(a):(a=Pi(t)?Ai:Ci.current,i.context=Oi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ua(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),La(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ka(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===ja&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $a(e){return(0,e._init)(e._payload)}function Qa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Lc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===E?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&$a(a)===t.type)?((r=i(t,n.props)).ref=Ka(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=Ka(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=Ka(e,null,t),n.return=e,n;case x:return(t=Vc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case P:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:f(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return f(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),ia&&Ji(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Ji(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}function m(i,u,s,c){var l=M(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var b=d(i,v,g.value,c);if(null===b){null===v&&(v=y);break}e&&v&&null===b.alternate&&t(i,v),u=o(b,u,m),null===f?l=b:f.sibling=b,f=b,v=y}if(g.done)return n(i,v),ia&&Ji(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return ia&&Ji(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===E&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===E){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&$a(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ka(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===E?((a=Mc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Dc(o.type,o.key,o.props,null,r.mode,s)).ref=Ka(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Vc(o,r.mode,s)).return=r,r=a}return u(r);case P:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(M(o))return m(r,a,o,s);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Lc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Ya=Qa(!0),Xa=Qa(!1),Ja={},Za=_i(Ja),eo=_i(Ja),to=_i(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Ii(to,t),Ii(eo,e),Ii(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(Za),Ii(Za,t)}function io(){Si(Za),Si(eo),Si(to)}function ao(e){no(to.current);var t=no(Za.current),n=se(t,e.type);t!==n&&(Ii(eo,e),Ii(Za,n))}function oo(e){eo.current===e&&(Si(Za),Si(eo))}var uo=_i(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=k.ReactCurrentDispatcher,ho=k.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,bo=!1,ko=0,wo=0;function xo(){throw Error(a(321))}function Eo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function _o(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),bo){o=0;do{if(bo=!1,ko=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(bo)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function So(){var e=0!==ko;return ko=0,e}function Io(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,Fs|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(ku=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Fs|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(ku=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Oo(){}function Po(e,t){var n=vo,r=To(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,ku=!0),r=r.queue,Ho(Mo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,jo(9,Do.bind(null,n,r,i,t),void 0,null),null===Ns)throw Error(a(349));0!==(30&po)||Ro(n,t,i)}return i}function Ro(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,Fo(t)&&Lo(e)}function Mo(e,t,n){return n((function(){Fo(t)&&Lo(e)}))}function Fo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Lo(e){var t=Na(e,1);null!==t&&nc(t,e,1,-1)}function Vo(e){var t=Io();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function jo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Uo(){return To().memoizedState}function zo(e,t,n,r){var i=Io();vo.flags|=e,i.memoizedState=jo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&Eo(r,o.deps))return void(i.memoizedState=jo(t,n,a,r))}vo.flags|=e,i.memoizedState=jo(1|t,n,a,r)}function qo(e,t){return zo(8390656,8,e,t)}function Ho(e,t){return Bo(2048,8,e,t)}function Wo(e,t){return Bo(4,2,e,t)}function Ko(e,t){return Bo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function $o(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Go.bind(null,t,e),n)}function Qo(){}function Yo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ku=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Fs|=n,e.baseState=!0),t)}function Zo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{bt=n,ho.transition=r}}function eu(){return To().memoizedState}function tu(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){nc(n,e,r,ec()),au(n,t,r)}}function nu(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(nc(n,e,r,i=ec()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){bo=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Sa,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},uu={readContext:Sa,useCallback:function(e,t){return Io().memoizedState=[e,void 0===t?null:t],e},useContext:Sa,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=Io();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Io();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Io().memoizedState=e},useState:Vo,useDebugValue:Qo,useDeferredValue:function(e){return Io().memoizedState=e},useTransition:function(){var e=Vo(!1),t=e[0];return e=Zo.bind(null,e[1]),Io().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Io();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ns)throw Error(a(349));0!==(30&po)||Ro(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Mo.bind(null,r,o,e),[e]),r.flags|=2048,jo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Io(),t=Ns.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=ko++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Sa,useCallback:Yo,useContext:Sa,useEffect:Ho,useImperativeHandle:$o,useInsertionEffect:Wo,useLayoutEffect:Ko,useMemo:Xo,useReducer:No,useRef:Uo,useState:function(){return No(Co)},useDebugValue:Qo,useDeferredValue:function(e){return Jo(To(),mo.memoizedState,e)},useTransition:function(){return[No(Co)[0],To().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Sa,useCallback:Yo,useContext:Sa,useEffect:Ho,useImperativeHandle:$o,useInsertionEffect:Wo,useLayoutEffect:Ko,useMemo:Xo,useReducer:Ao,useRef:Uo,useState:function(){return Ao(Co)},useDebugValue:Qo,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],To().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Ra(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hs||(Hs=!0,Ws=r),hu(0,t)},n}function vu(e,t,n){(n=Ra(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Ks?Ks=new Set([this]):Ks.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ra(-1,1)).tag=2,Da(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bu=k.ReactCurrentOwner,ku=!1;function wu(e,t,n,r){t.child=null===e?Xa(t,null,n,r):Ya(t,e.child,n,r)}function xu(e,t,n,r,i){n=n.render;var a=t.ref;return _a(t,i),r=_o(e,t,n,r,a,i),n=So(),null===e||ku?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hu(e,t,i))}function Eu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Pc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,_u(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Hu(e,t,i)}return t.flags|=1,(e=Rc(a,r)).ref=t.ref,e.return=t,t.child=e}function _u(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(ku=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Hu(e,t,i);0!==(131072&e.flags)&&(ku=!0)}}return Tu(e,t,n,r,i)}function Su(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ii(Rs,Ps),Ps|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ii(Rs,Ps),Ps|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ii(Rs,Ps),Ps|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ii(Rs,Ps),Ps|=r;return wu(e,t,i,n),t.child}function Iu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=Pi(n)?Ai:Ci.current;return a=Oi(t,a),_a(t,i),n=_o(e,t,n,r,a,i),r=So(),null===e||ku?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hu(e,t,i))}function Cu(e,t,n,r,i){if(Pi(n)){var a=!0;Fi(t)}else a=!1;if(_a(t,i),null===t.stateNode)qu(e,t),qa(t,n,r),Wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Sa(c):c=Oi(t,c=Pi(n)?Ai:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Ha(t,o,r,c),Aa=!1;var h=t.memoizedState;o.state=h,La(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ni.current||Aa?("function"===typeof l&&(Ua(t,n,l,r),s=t.memoizedState),(u=Aa||Ba(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Pa(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Sa(s):s=Oi(t,s=Pi(n)?Ai:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Ha(t,o,r,s),Aa=!1,h=t.memoizedState,o.state=h,La(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ni.current||Aa?("function"===typeof d&&(Ua(t,n,d,r),p=t.memoizedState),(c=Aa||Ba(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Nu(e,t,n,r,a,i)}function Nu(e,t,n,r,i,a){Iu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Li(t,n,!1),Hu(e,t,a);r=t.stateNode,bu.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ya(t,e.child,null,a),t.child=Ya(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function Au(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ro(e,t.containerInfo)}function Ou(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Pu,Ru,Du,Mu={dehydrated:null,treeContext:null,retryLane:0};function Fu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Lu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ii(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Fc(s,i,0,null),e=Mc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Fu(n),t.memoizedState=Mu,e):Vu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,ju(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ya(t,e.child,null,u),t.child.memoizedState=Fu(u),t.memoizedState=Mu,o);if(0===(1&t.mode))return ju(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,ju(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),ku||s){if(null!==(r=Ns)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Na(e,i),nc(r,e,i,-1))}return vc(),ju(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[$i++]=Yi,Gi[$i++]=Xi,Gi[$i++]=Qi,Yi=e.id,Xi=e.overflow,Qi=t),(t=Vu(t,r.children)).flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Rc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Rc(r,u):(u=Mc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Fu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Mu,i}return e=(u=e.child).sibling,i=Rc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Vu(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function ju(e,t,n,r){return null!==r&&pa(r),Ya(t,e.child,null,n),(e=Vu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Uu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ea(e.return,t,n)}function zu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Bu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Uu(e,n,t);else if(19===e.tag)Uu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ii(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zu(t,!0,n,null,a);break;case"together":zu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fs|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ku(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ku(t),null;case 1:case 17:return Pi(t.type)&&Ri(),Ku(t),null;case 3:return r=t.stateNode,io(),Si(Ni),Si(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Ku(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ru(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ku(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)jr(Mr[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":Y(r,o),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},jr("invalid",r);break;case"textarea":ie(r,o),jr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&jr("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Pu(e,t),t.stateNode=e;e:{switch(s=be(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)jr(Mr[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":Y(e,r),i=Q(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=L({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&jr("scroll",e):null!=l&&b(e,o,l,s))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ku(t),null;case 6:if(e&&null!=t.stateNode)Du(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ku(t),null;case 13:if(Si(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ku(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ds&&(Ds=3):vc())),null!==t.updateQueue&&(t.flags|=4),Ku(t),null);case 4:return io(),null===e&&Br(t.stateNode.containerInfo),Ku(t),null;case 10:return xa(t.type._context),Ku(t),null;case 19:if(Si(uo),null===(o=t.memoizedState))return Ku(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Wu(o,!1);else{if(0!==Ds||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Wu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ii(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>Bs&&(t.flags|=128,r=!0,Wu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Ku(t),null}else 2*Xe()-o.renderingStartTime>Bs&&1073741824!==n&&(t.flags|=128,r=!0,Wu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=uo.current,Ii(uo,r?1&n|2:1&n),t):(Ku(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ps)&&(Ku(t),6&t.subtreeFlags&&(t.flags|=8192)):Ku(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function $u(e,t){switch(ta(t),t.tag){case 1:return Pi(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Si(Ni),Si(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Si(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(uo),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Pu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ru=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=L({},i,{value:void 0}),r=L({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&jr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Du=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qu=!1,Yu=!1,Xu="function"===typeof WeakSet?WeakSet:Set,Ju=null;function Zu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){_c(e,t,r)}else n.current=null}function es(e,t,n){try{n()}catch(r){_c(e,t,r)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&es(t,n,a)}i=i.next}while(i!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function as(e){var t=e.alternate;null!==t&&(e.alternate=null,as(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function os(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||os(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}var ls=null,fs=!1;function hs(e,t,n){for(n=n.child;null!==n;)ds(e,t,n),n=n.sibling}function ds(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Yu||Zu(n,t);case 6:var r=ls,i=fs;ls=null,hs(e,t,n),fs=i,null!==(ls=r)&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ls.removeChild(n.stateNode));break;case 18:null!==ls&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),Bt(e)):si(ls,n.stateNode));break;case 4:r=ls,i=fs,ls=n.stateNode.containerInfo,fs=!0,hs(e,t,n),ls=r,fs=i;break;case 0:case 11:case 14:case 15:if(!Yu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&es(n,t,o),i=i.next}while(i!==r)}hs(e,t,n);break;case 1:if(!Yu&&(Zu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){_c(n,t,u)}hs(e,t,n);break;case 21:hs(e,t,n);break;case 22:1&n.mode?(Yu=(r=Yu)||null!==n.memoizedState,hs(e,t,n),Yu=r):hs(e,t,n);break;default:hs(e,t,n)}}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xu),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:ls=s.stateNode,fs=!1;break e;case 3:case 4:ls=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===ls)throw Error(a(160));ds(o,u,i),ls=null,fs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){_c(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ms(t,e),t=t.sibling}function ms(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vs(t,e),ys(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(m){_c(e,e.return,m)}try{ns(5,e,e.return)}catch(m){_c(e,e.return,m)}}break;case 1:vs(t,e),ys(e),512&r&&null!==n&&Zu(n,n.return);break;case 5:if(vs(t,e),ys(e),512&r&&null!==n&&Zu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){_c(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&X(i,o),be(s,u);var l=be(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):b(i,f,h,l)}switch(s){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){_c(e,e.return,m)}}break;case 6:if(vs(t,e),ys(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){_c(e,e.return,m)}}break;case 3:if(vs(t,e),ys(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){_c(e,e.return,m)}break;case 4:default:vs(t,e),ys(e);break;case 13:vs(t,e),ys(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zs=Xe())),4&r&&ps(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Yu=(l=Yu)||f,vs(t,e),Yu=l):vs(t,e),ys(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Ju=e,f=e.child;null!==f;){for(h=Ju=f;null!==Ju;){switch(p=(d=Ju).child,d.tag){case 0:case 11:case 14:case 15:ns(4,d,d.return);break;case 1:Zu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){_c(r,n,m)}}break;case 5:Zu(d,d.return);break;case 22:if(null!==d.memoizedState){ws(h);continue}}null!==p?(p.return=d,Ju=p):ws(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){_c(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){_c(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vs(t,e),ys(e),4&r&&ps(e);case 21:}}function ys(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(os(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cs(e,us(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ss(e,us(e),o);break;default:throw Error(a(161))}}catch(u){_c(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gs(e,t,n){Ju=e,bs(e,t,n)}function bs(e,t,n){for(var r=0!==(1&e.mode);null!==Ju;){var i=Ju,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Qu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Yu;u=Qu;var c=Yu;if(Qu=o,(Yu=s)&&!c)for(Ju=i;null!==Ju;)s=(o=Ju).child,22===o.tag&&null!==o.memoizedState?xs(i):null!==s?(s.return=o,Ju=s):xs(i);for(;null!==a;)Ju=a,bs(a,t,n),a=a.sibling;Ju=i,Qu=u,Yu=c}ks(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Ju=a):ks(e)}}function ks(e){for(;null!==Ju;){var t=Ju;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yu||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Yu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Va(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Va(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}Yu||512&t.flags&&is(t)}catch(d){_c(t,t.return,d)}}if(t===e){Ju=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ju=n;break}Ju=t.return}}function ws(e){for(;null!==Ju;){var t=Ju;if(t===e){Ju=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ju=n;break}Ju=t.return}}function xs(e){for(;null!==Ju;){var t=Ju;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(s){_c(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){_c(t,i,s)}}var a=t.return;try{is(t)}catch(s){_c(t,a,s)}break;case 5:var o=t.return;try{is(t)}catch(s){_c(t,o,s)}}}catch(s){_c(t,t.return,s)}if(t===e){Ju=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Ju=u;break}Ju=t.return}}var Es,_s=Math.ceil,Ss=k.ReactCurrentDispatcher,Is=k.ReactCurrentOwner,Ts=k.ReactCurrentBatchConfig,Cs=0,Ns=null,As=null,Os=0,Ps=0,Rs=_i(0),Ds=0,Ms=null,Fs=0,Ls=0,Vs=0,js=null,Us=null,zs=0,Bs=1/0,qs=null,Hs=!1,Ws=null,Ks=null,Gs=!1,$s=null,Qs=0,Ys=0,Xs=null,Js=-1,Zs=0;function ec(){return 0!==(6&Cs)?Xe():-1!==Js?Js:Js=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cs)&&0!==Os?Os&-Os:null!==va.transition?(0===Zs&&(Zs=vt()),Zs):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,r){if(50<Ys)throw Ys=0,Xs=null,Error(a(185));yt(e,n,r),0!==(2&Cs)&&e===Ns||(e===Ns&&(0===(2&Cs)&&(Ls|=n),4===Ds&&uc(e,Os)),rc(e,r),1===n&&0===Cs&&0===(1&t.mode)&&(Bs=Xe()+500,ji&&Bi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===Ns?Os:0);if(0===r)null!==n&&$e(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&$e(n),1===t)0===e.tag?function(e){ji=!0,zi(e)}(sc.bind(null,e)):zi(sc.bind(null,e)),oi((function(){0===(6&Cs)&&Bi()})),n=null;else{switch(kt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Js=-1,Zs=0,0!==(6&Cs))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===Ns?Os:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Cs;Cs|=2;var o=pc();for(Ns===e&&Os===t||(qs=null,Bs=Xe()+500,hc(e,t));;)try{gc();break}catch(s){dc(e,s)}wa(),Ss.current=o,Cs=i,null!==As?t=0:(Ns=null,Os=0,t=Ds)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ms,hc(e,0),uc(e,r),rc(e,Xe()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Ms,hc(e,0),uc(e,r),rc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Us,qs);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=zs+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Us,qs),t);break}wc(e,Us,qs);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_s(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Us,qs),r);break}wc(e,Us,qs);break;default:throw Error(a(329))}}}return rc(e,Xe()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=js;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Us,Us=n,null!==t&&oc(t)),e}function oc(e){null===Us?Us=e:Us.push.apply(Us,e)}function uc(e,t){for(t&=~Vs,t&=~Ls,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(0!==(6&Cs))throw Error(a(327));xc();var t=ht(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ms,hc(e,0),uc(e,t),rc(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Us,qs),rc(e,Xe()),null}function cc(e,t){var n=Cs;Cs|=1;try{return e(t)}finally{0===(Cs=n)&&(Bs=Xe()+500,ji&&Bi())}}function lc(e){null!==$s&&0===$s.tag&&0===(6&Cs)&&xc();var t=Cs;Cs|=1;var n=Ts.transition,r=bt;try{if(Ts.transition=null,bt=1,e)return e()}finally{bt=r,Ts.transition=n,0===(6&(Cs=t))&&Bi()}}function fc(){Ps=Rs.current,Si(Rs)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==As)for(n=As.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:io(),Si(Ni),Si(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Si(uo);break;case 10:xa(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Ns=e,As=e=Rc(e.current,null),Os=Ps=t,Ds=0,Ms=null,Vs=Ls=Fs=0,Us=js=null,null!==Ia){for(t=0;t<Ia.length;t++)if(null!==(r=(n=Ia[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ia=null}return e}function dc(e,t){for(;;){var n=As;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,bo=!1,ko=0,Is.current=null,null===n||null===n.return){Ds=1,Ms=t,As=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Os,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Ds&&(Ds=2),null===js?js=[o]:js.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Fa(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Ks||!Ks.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Fa(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}kc(n)}catch(k){t=k,As===n&&null!==n&&(As=n=n.return);continue}break}}function pc(){var e=Ss.current;return Ss.current=ou,null===e?ou:e}function vc(){0!==Ds&&3!==Ds&&2!==Ds||(Ds=4),null===Ns||0===(268435455&Fs)&&0===(268435455&Ls)||uc(Ns,Os)}function mc(e,t){var n=Cs;Cs|=2;var r=pc();for(Ns===e&&Os===t||(qs=null,hc(e,t));;)try{yc();break}catch(i){dc(e,i)}if(wa(),Cs=n,Ss.current=r,null!==As)throw Error(a(261));return Ns=null,Os=0,Ds}function yc(){for(;null!==As;)bc(As)}function gc(){for(;null!==As&&!Qe();)bc(As)}function bc(e){var t=Es(e.alternate,e,Ps);e.memoizedProps=e.pendingProps,null===t?kc(e):As=t,Is.current=null}function kc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gu(n,t,Ps)))return void(As=n)}else{if(null!==(n=$u(n,t)))return n.flags&=32767,void(As=n);if(null===e)return Ds=6,void(As=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(As=t);As=t=e}while(null!==t);0===Ds&&(Ds=5)}function wc(e,t,n){var r=bt,i=Ts.transition;try{Ts.transition=null,bt=1,function(e,t,n,r){do{xc()}while(null!==$s);if(0!==(6&Cs))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ns&&(As=Ns=null,Os=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gs||(Gs=!0,Nc(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ts.transition,Ts.transition=null;var u=bt;bt=1;var s=Cs;Cs|=4,Is.current=null,function(e,t){if(ei=Ht,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Ju=t;null!==Ju;)if(e=(t=Ju).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ju=e;else for(;null!==Ju;){t=Ju;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=t.stateNode.containerInfo;1===k.nodeType?k.textContent="":9===k.nodeType&&k.documentElement&&k.removeChild(k.documentElement);break;default:throw Error(a(163))}}catch(w){_c(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Ju=e;break}Ju=t.return}v=ts,ts=!1}(e,n),ms(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,gs(n,e,i),Ye(),Cs=s,bt=u,Ts.transition=o}else e.current=n;if(Gs&&(Gs=!1,$s=e,Qs=i),0===(o=e.pendingLanes)&&(Ks=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Hs)throw Hs=!1,e=Ws,Ws=null,e;0!==(1&Qs)&&0!==e.tag&&xc(),0!==(1&(o=e.pendingLanes))?e===Xs?Ys++:(Ys=0,Xs=e):Ys=0,Bi()}(e,t,n,r)}finally{Ts.transition=i,bt=r}return null}function xc(){if(null!==$s){var e=kt(Qs),t=Ts.transition,n=bt;try{if(Ts.transition=null,bt=16>e?16:e,null===$s)var r=!1;else{if(e=$s,$s=null,Qs=0,0!==(6&Cs))throw Error(a(331));var i=Cs;for(Cs|=4,Ju=e.current;null!==Ju;){var o=Ju,u=o.child;if(0!==(16&Ju.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Ju=l;null!==Ju;){var f=Ju;switch(f.tag){case 0:case 11:case 15:ns(8,f,o)}var h=f.child;if(null!==h)h.return=f,Ju=h;else for(;null!==Ju;){var d=(f=Ju).sibling,p=f.return;if(as(f),f===l){Ju=null;break}if(null!==d){d.return=p,Ju=d;break}Ju=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Ju=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Ju=u;else e:for(;null!==Ju;){if(0!==(2048&(o=Ju).flags))switch(o.tag){case 0:case 11:case 15:ns(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Ju=g;break e}Ju=o.return}}var b=e.current;for(Ju=b;null!==Ju;){var k=(u=Ju).child;if(0!==(2064&u.subtreeFlags)&&null!==k)k.return=u,Ju=k;else e:for(u=b;null!==Ju;){if(0!==(2048&(s=Ju).flags))try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(x){_c(s,s.return,x)}if(s===u){Ju=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Ju=w;break e}Ju=s.return}}if(Cs=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{bt=n,Ts.transition=t}}return!1}function Ec(e,t,n){e=Da(e,t=pu(0,t=lu(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function _c(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ks||!Ks.has(r))){t=Da(t,e=vu(t,e=lu(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Ns===e&&(Os&n)===n&&(4===Ds||3===Ds&&(130023424&Os)===Os&&500>Xe()-zs?hc(e,0):Vs|=n),rc(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Na(e,t))&&(yt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ic(e,n)}function Nc(e,t){return Ge(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new Ac(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Pc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case E:return Mc(n.children,i,o,t);case _:u=8,i|=8;break;case S:return(e=Oc(12,n,t,2|i)).elementType=S,e.lanes=o,e;case N:return(e=Oc(13,n,t,i)).elementType=N,e.lanes=o,e;case A:return(e=Oc(19,n,t,i)).elementType=A,e.lanes=o,e;case R:return Fc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:u=10;break e;case T:u=9;break e;case C:u=11;break e;case O:u=14;break e;case P:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Oc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function Vc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,i,a,o,u,s){return e=new jc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Oc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oa(a),e}function zc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Bc(e){if(!e)return Ti;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Mi(e,n,t)}return t}function qc(e,t,n,r,i,a,o,u,s){return(e=Uc(n,r,!0,e,0,a,0,u,s)).context=Bc(null),n=e.current,(a=Ra(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Da(n,a,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function Hc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ra(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Da(i,t,o))&&(nc(e,i,o,a),Ma(e,i,o)),o}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}Es=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)ku=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ku=!1,function(e,t,n){switch(t.tag){case 3:Au(t),da();break;case 5:ao(t);break;case 1:Pi(t.type)&&Fi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ii(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ii(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Lu(e,t,n):(Ii(uo,1&uo.current),null!==(e=Hu(e,t,n))?e.sibling:null);Ii(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ii(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Su(e,t,n)}return Hu(e,t,n)}(e,t,n);ku=0!==(131072&e.flags)}else ku=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qu(e,t),e=t.pendingProps;var i=Oi(t,Ci.current);_a(t,n),i=_o(null,t,r,e,i,n);var o=So();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(o=!0,Fi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Oa(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Wa(t,r,e,n),t=Nu(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===O)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=Eu(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Au(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Pa(e,t),La(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ou(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Ou(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Hu(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Iu(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Lu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ya(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ii(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ni.current){t=Hu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Ra(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Ea(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Ea(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,_a(t,n),r=r(i=Sa(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),Eu(e,t,r,i=ma(r.type,i),n);case 15:return _u(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),qu(e,t),t.tag=1,Pi(r)?(e=!0,Fi(t)):e=!1,_a(t,n),qa(t,r,i),Wa(t,r,i,n),Nu(null,t,r,!0,e,n);case 19:return Bu(e,t,n);case 22:return Su(e,t,n)}throw Error(a(156,t.tag))};var $c="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Wc(o);u.call(e)}}Hc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Wc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Wc(s);u.call(e)}}var s=Uc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),lc((function(){Hc(t,s,n,r)})),s}(n,t,e,i,r);return Wc(o)}Yc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Hc(e,t,null,null)},Yc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Hc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Lt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Xe()),0===(6&Cs)&&(Bs=Xe()+500,Bi()))}break;case 13:lc((function(){var t=Na(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Gc(e,1)}},xt=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)nc(t,e,134217728,ec());Gc(e,134217728)}},Et=function(e){if(13===e.tag){var t=tc(e),n=Na(e,t);if(null!==n)nc(n,e,t,ec());Gc(e,t)}},_t=function(){return bt},St=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));G(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Ne=lc;var tl={usingClientEntryPoint:!1,Events:[bi,ki,wi,Ie,Te,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return zc(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=$c;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=$c;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},3381:function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},3813:function(e,t,n){var r=n(3381);e.exports=d,e.exports.parse=a,e.exports.compile=function(e,t){return u(a(e,t),t)},e.exports.tokensToFunction=u,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e,t){for(var n,r=[],a=0,o=0,u="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],h=n[1],d=n.index;if(u+=e.slice(o,d),o=d+f.length,h)u+=h[1];else{var p=e[o],v=n[2],m=n[3],y=n[4],g=n[5],b=n[6],k=n[7];u&&(r.push(u),u="");var w=null!=v&&null!=p&&p!==v,x="+"===b||"*"===b,E="?"===b||"*"===b,_=n[2]||l,S=y||g;r.push({name:m||a++,prefix:v||"",delimiter:_,optional:E,repeat:x,partial:w,asterisk:!!k,pattern:S?c(S):k?".*":"[^"+s(_)+"]+?"})}}return o<e.length&&(u+=e.substr(o)),u&&r.push(u),r}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function u(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var a="",u=t||{},s=(i||{}).pretty?o:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var f,h=u[l.name];if(null==h){if(l.optional){l.partial&&(a+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(f=s(h[d]),!n[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");a+=(0===d?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):s(h),!n[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');a+=l.prefix+f}}else a+=l}return a}}function s(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,a=!1!==n.end,o="",u=0;u<e.length;u++){var c=e[u];if("string"===typeof c)o+=s(c);else{var h=s(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+h+d+")*"),o+=d=c.optional?c.partial?h+"("+d+")?":"(?:"+h+"("+d+"))?":h+"("+d+")"}}var p=s(n.delimiter||"/"),v=o.slice(-p.length)===p;return i||(o=(v?o.slice(0,-p.length):o)+"(?:"+p+"(?=$))?"),o+=a?"$":i&&v?"":"(?="+p+"|$)",l(new RegExp("^"+o,f(n)),t)}function d(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(d(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return h(a(e,n),t,n)}(e,t,n)}},9195:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,k=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}},8228:function(e,t,n){"use strict";n(9195)},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.jsx=c,t.jsxs=c},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var k=b.prototype=new g;k.constructor=b,v(k,y.prototype),k.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,E={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!_.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:E.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=N(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=N(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},R={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:R,ReactCurrentOwner:E};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=E.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!_.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,k(e),!v)if(null!==r(c))v=!0,R(x);else{var t=r(l);null!==t&&D(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(I),I=-1),p=!0;var a=d;try{for(k(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),k(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&D(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,_=!1,S=null,I=-1,T=5,C=-1;function N(){return!(t.unstable_now()-C<T)}function A(){if(null!==S){var e=t.unstable_now();C=e;var n=!0;try{n=S(!0,e)}finally{n?E():(_=!1,S=null)}}else _=!1}if("function"===typeof b)E=function(){b(A)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,P=O.port2;O.port1.onmessage=A,E=function(){P.postMessage(null)}}else E=function(){y(A,0)};function R(e){S=e,_||(_=!0,E())}function D(e,n){I=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,R(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(I),I=-1):m=!0,D(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,R(x))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},9613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(t),s=0;s<a.length;s++){var c=a[s];if(!u(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r](a,a.exports,n),a.loaded=!0,a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".3dd5b190.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="eye-web:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var u,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=r),e[r]=[i];var h=function(t,n){u.onerror=u.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=h.bind(null,u.onerror),u.onload=h.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="/eye-web/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),u=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,i[1](u)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],u=r[1],s=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(s)s(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkeye_web=self.webpackChunkeye_web||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return pt},SDK_VERSION:function(){return _n},_DEFAULT_ENTRY_NAME:function(){return fn},_addComponent:function(){return vn},_addOrOverwriteComponent:function(){return mn},_apps:function(){return dn},_clearComponents:function(){return kn},_components:function(){return pn},_getProvider:function(){return gn},_registerComponent:function(){return yn},_removeServiceInstance:function(){return bn},deleteApp:function(){return Cn},getApp:function(){return In},getApps:function(){return Tn},initializeApp:function(){return Sn},onLog:function(){return On},registerVersion:function(){return An},setLogLevel:function(){return Pn}});var t=n(2791),r=n(1250),i={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},a=t.createContext&&t.createContext(i),o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)},u=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function s(e){return e&&e.map((function(e,n){return t.createElement(e.tag,o({key:n},e.attr),s(e.child))}))}function c(e){return function(n){return t.createElement(l,o({attr:o({},e.attr)},n),s(e.child))}}function l(e){var n=function(n){var r,i=e.attr,a=e.size,s=e.title,c=u(e,["attr","size","title"]),l=a||n.size||"1em";return n.className&&(r=n.className),e.className&&(r=(r?r+" ":"")+e.className),t.createElement("svg",o({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,c,{className:r,style:o(o({color:e.color||n.color},n.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&t.createElement("title",null,s),e.children)};return void 0!==a?t.createElement(a.Consumer,null,(function(e){return n(e)})):n(i)}function f(e){return c({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M511.6 76.3C264.3 76.2 64 276.4 64 523.5 64 718.9 189.3 885 363.8 946c23.5 5.9 19.9-10.8 19.9-22.2v-77.5c-135.7 15.9-141.2-73.9-150.3-88.9C215 726 171.5 718 184.5 703c30.9-15.9 62.4 4 98.9 57.9 26.4 39.1 77.9 32.5 104 26 5.7-23.5 17.9-44.5 34.7-60.8-140.6-25.2-199.2-111-199.2-213 0-49.5 16.3-95 48.3-131.7-20.4-60.5 1.9-112.3 4.9-120 58.1-5.2 118.5 41.6 123.2 45.3 33-8.9 70.7-13.6 112.9-13.6 42.4 0 80.2 4.9 113.5 13.9 11.3-8.6 67.3-48.8 121.3-43.9 2.9 7.7 24.7 58.3 5.5 118 32.4 36.8 48.9 82.7 48.9 132.3 0 102.2-59 188.1-200 212.9a127.5 127.5 0 0 1 38.1 91v112.5c.8 9 0 17.9 15 17.9 177.1-59.7 304.6-227 304.6-424.1 0-247.2-200.4-447.3-447.5-447.3z"}}]})(e)}function h(e){return c({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M881 442.4H519.7v148.5h206.4c-8.9 48-35.9 88.6-76.6 115.8-34.4 23-78.3 36.6-129.9 36.6-99.9 0-184.4-67.5-214.6-158.2-7.6-23-12-47.6-12-72.9s4.4-49.9 12-72.9c30.3-90.6 114.8-158.1 214.7-158.1 56.3 0 106.8 19.4 146.6 57.4l110-110.1c-66.5-62-153.2-100-256.6-100-149.9 0-279.6 86-342.7 211.4-26 51.8-40.8 110.4-40.8 172.4S151 632.8 177 684.6C240.1 810 369.8 896 519.7 896c103.6 0 190.4-34.4 253.8-93 72.5-66.8 114.4-165.2 114.4-282.1 0-27.2-2.4-53.3-6.9-78.5z"}}]})(e)}function d(e){return c({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0 0 11.6 0l43.6-43.5a8.2 8.2 0 0 0 0-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]})(e)}function p(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M5 22h14c1.103 0 2-.897 2-2V9a1 1 0 0 0-1-1h-3V7c0-2.757-2.243-5-5-5S7 4.243 7 7v1H4a1 1 0 0 0-1 1v11c0 1.103.897 2 2 2zM9 7c0-1.654 1.346-3 3-3s3 1.346 3 3v1H9V7zm-4 3h2v2h2v-2h6v2h2v-2h2l.002 10H5V10z"}}]})(e)}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function m(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,v(e,t)}function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y.apply(this,arguments)}function g(e){return"/"===e.charAt(0)}function b(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var k=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],a=e&&g(e),o=t&&g(t),u=a||o;if(e&&g(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var s=i[i.length-1];n="."===s||".."===s||""===s}else n=!1;for(var c=0,l=i.length;l>=0;l--){var f=i[l];"."===f?b(i,l):".."===f?(b(i,l),c++):c&&(b(i,l),c--)}if(!u)for(;c--;c)i.unshift("..");!u||""===i[0]||i[0]&&g(i[0])||i.unshift("");var h=i.join("/");return n&&"/"!==h.substr(-1)&&(h+="/"),h},w="Invariant failed";function x(e,t){if(!e)throw new Error(w)}function E(e){return"/"===e.charAt(0)?e:"/"+e}function _(e){return"/"===e.charAt(0)?e.substr(1):e}function S(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function I(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function T(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function C(e,t,n,r){var i;"string"===typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=y({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(kA){throw kA instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):kA}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=k(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function N(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var a="function"===typeof e?e(t,n):e;"string"===typeof a?"function"===typeof r?r(a,i):i(!0):i(!1!==a)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var A=!("undefined"===typeof window||!window.document||!window.document.createElement);function O(e,t){t(window.confirm(e))}var P="popstate",R="hashchange";function D(){try{return window.history.state||{}}catch(kA){return{}}}function M(e){void 0===e&&(e={}),A||x(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,a=i.forceRefresh,o=void 0!==a&&a,u=i.getUserConfirmation,s=void 0===u?O:u,c=i.keyLength,l=void 0===c?6:c,f=e.basename?I(E(e.basename)):"";function h(e){var t=e||{},n=t.key,r=t.state,i=window.location,a=i.pathname+i.search+i.hash;return f&&(a=S(a,f)),C(a,r,n)}function d(){return Math.random().toString(36).substr(2,l)}var p=N();function v(e){y(U,e),U.length=t.length,p.notifyListeners(U.location,U.action)}function m(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||k(h(e.state))}function g(){k(h(D()))}var b=!1;function k(e){if(b)b=!1,v();else{p.confirmTransitionTo(e,"POP",s,(function(t){t?v({action:"POP",location:e}):function(e){var t=U.location,n=_.indexOf(t.key);-1===n&&(n=0);var r=_.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(b=!0,F(i))}(e)}))}}var w=h(D()),_=[w.key];function M(e){return f+T(e)}function F(e){t.go(e)}var L=0;function V(e){1===(L+=e)&&1===e?(window.addEventListener(P,m),r&&window.addEventListener(R,g)):0===L&&(window.removeEventListener(P,m),r&&window.removeEventListener(R,g))}var j=!1;var U={length:t.length,action:"POP",location:w,createHref:M,push:function(e,r){var i="PUSH",a=C(e,r,d(),U.location);p.confirmTransitionTo(a,i,s,(function(e){if(e){var r=M(a),u=a.key,s=a.state;if(n)if(t.pushState({key:u,state:s},null,r),o)window.location.href=r;else{var c=_.indexOf(U.location.key),l=_.slice(0,c+1);l.push(a.key),_=l,v({action:i,location:a})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",a=C(e,r,d(),U.location);p.confirmTransitionTo(a,i,s,(function(e){if(e){var r=M(a),u=a.key,s=a.state;if(n)if(t.replaceState({key:u,state:s},null,r),o)window.location.replace(r);else{var c=_.indexOf(U.location.key);-1!==c&&(_[c]=a.key),v({action:i,location:a})}else window.location.replace(r)}}))},go:F,goBack:function(){F(-1)},goForward:function(){F(1)},block:function(e){void 0===e&&(e=!1);var t=p.setPrompt(e);return j||(V(1),j=!0),function(){return j&&(j=!1,V(-1)),t()}},listen:function(e){var t=p.appendListener(e);return V(1),function(){V(-1),t()}}};return U}var F="hashchange",L={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+_(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:_,decodePath:E},slash:{encodePath:E,decodePath:E}};function V(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function j(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function U(e){window.location.replace(V(window.location.href)+"#"+e)}function z(e){void 0===e&&(e={}),A||x(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,i=void 0===r?O:r,a=n.hashType,o=void 0===a?"slash":a,u=e.basename?I(E(e.basename)):"",s=L[o],c=s.encodePath,l=s.decodePath;function f(){var e=l(j());return u&&(e=S(e,u)),C(e)}var h=N();function d(e){y(M,e),M.length=t.length,h.notifyListeners(M.location,M.action)}var p=!1,v=null;function m(){var e,t,n=j(),r=c(n);if(n!==r)U(r);else{var a=f(),o=M.location;if(!p&&(t=a,(e=o).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(v===T(a))return;v=null,function(e){if(p)p=!1,d();else{var t="POP";h.confirmTransitionTo(e,t,i,(function(n){n?d({action:t,location:e}):function(e){var t=M.location,n=w.lastIndexOf(T(t));-1===n&&(n=0);var r=w.lastIndexOf(T(e));-1===r&&(r=0);var i=n-r;i&&(p=!0,_(i))}(e)}))}}(a)}}var g=j(),b=c(g);g!==b&&U(b);var k=f(),w=[T(k)];function _(e){t.go(e)}var P=0;function R(e){1===(P+=e)&&1===e?window.addEventListener(F,m):0===P&&window.removeEventListener(F,m)}var D=!1;var M={length:t.length,action:"POP",location:k,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=V(window.location.href)),n+"#"+c(u+T(e))},push:function(e,t){var n="PUSH",r=C(e,void 0,void 0,M.location);h.confirmTransitionTo(r,n,i,(function(e){if(e){var t=T(r),i=c(u+t);if(j()!==i){v=t,function(e){window.location.hash=e}(i);var a=w.lastIndexOf(T(M.location)),o=w.slice(0,a+1);o.push(t),w=o,d({action:n,location:r})}else d()}}))},replace:function(e,t){var n="REPLACE",r=C(e,void 0,void 0,M.location);h.confirmTransitionTo(r,n,i,(function(e){if(e){var t=T(r),i=c(u+t);j()!==i&&(v=t,U(i));var a=w.indexOf(T(M.location));-1!==a&&(w[a]=t),d({action:n,location:r})}}))},go:_,goBack:function(){_(-1)},goForward:function(){_(1)},block:function(e){void 0===e&&(e=!1);var t=h.setPrompt(e);return D||(R(1),D=!0),function(){return D&&(D=!1,R(-1)),t()}},listen:function(e){var t=h.appendListener(e);return R(1),function(){R(-1),t()}}};return M}function B(e,t,n){return Math.min(Math.max(e,t),n)}function q(e){void 0===e&&{};var t=e,n=t.getUserConfirmation,r=t.initialEntries,i=void 0===r?["/"]:r,a=t.initialIndex,o=void 0===a?0:a,u=t.keyLength,s=void 0===u?6:u,c=N();function l(e){y(m,e),m.length=m.entries.length,c.notifyListeners(m.location,m.action)}function f(){return Math.random().toString(36).substr(2,s)}var h=B(o,0,i.length-1),d=i.map((function(e){return C(e,void 0,"string"===typeof e?f():e.key||f())})),p=T;function v(e){var t=B(m.index+e,0,m.entries.length-1),r=m.entries[t];c.confirmTransitionTo(r,"POP",n,(function(e){e?l({action:"POP",location:r,index:t}):l()}))}var m={length:d.length,action:"POP",location:d[h],index:h,entries:d,createHref:p,push:function(e,t){var r="PUSH",i=C(e,t,f(),m.location);c.confirmTransitionTo(i,r,n,(function(e){if(e){var t=m.index+1,n=m.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),l({action:r,location:i,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",i=C(e,t,f(),m.location);c.confirmTransitionTo(i,r,n,(function(e){e&&(m.entries[m.index]=i,l({action:r,location:i}))}))},go:v,goBack:function(){v(-1)},goForward:function(){v(1)},canGo:function(e){var t=m.index+e;return t>=0&&t<m.entries.length},block:function(e){return void 0===e&&!1,c.setPrompt(e)},listen:function(e){return c.appendListener(e)}};return m}var H=n(2007),W=n.n(H),K=1073741823,G="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};function $(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var Q=t.createContext||function(e,n){var r,i,a="__create-react-context-"+function(){var e="__global_unique_id__";return G[e]=(G[e]||0)+1}()+"__",o=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).emitter=$(t.props.value),t}m(t,e);var r=t.prototype;return r.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,r=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(r,i)?(t="function"===typeof n?n(r,i):K,0!==(t|=0)&&this.emitter.set(e.value,t)):t=0}},r.render=function(){return this.props.children},t}(t.Component);o.childContextTypes=((r={})[a]=W().object.isRequired,r);var u=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}m(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?K:t},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?K:e},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(t.Component);return u.contextTypes=((i={})[a]=W().object,i),{Provider:o,Consumer:u}},Y=Q,X=n(3813),J=n.n(X);n(8228);function Z(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n(2110);var ee=function(e){var t=Y();return t.displayName=e,t},te=ee("Router-History"),ne=ee("Router"),re=function(e){function n(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._pendingLocation=e}))),n}m(n,e),n.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=n.prototype;return r.componentDidMount=function(){var e=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen((function(t){e._isMounted&&e.setState({location:t})}))),this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},r.render=function(){return t.createElement(ne.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},t.createElement(te.Provider,{children:this.props.children||null,value:this.props.history}))},n}(t.Component);t.Component;t.Component;var ie={},ae=0;function oe(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,a=void 0!==i&&i,o=n.strict,u=void 0!==o&&o,s=n.sensitive,c=void 0!==s&&s;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=ie[n]||(ie[n]={});if(r[e])return r[e];var i=[],a={regexp:J()(e,i,t),keys:i};return ae<1e4&&(r[e]=a,ae++),a}(n,{end:a,strict:u,sensitive:c}),i=r.regexp,o=r.keys,s=i.exec(e);if(!s)return null;var l=s[0],f=s.slice(1),h=e===l;return a&&!h?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:h,params:o.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}}),null)}var ue=function(e){function n(){return e.apply(this,arguments)||this}return m(n,e),n.prototype.render=function(){var e=this;return t.createElement(ne.Consumer,null,(function(n){n||x(!1);var r=e.props.location||n.location,i=y({},n,{location:r,match:e.props.computedMatch?e.props.computedMatch:e.props.path?oe(r.pathname,e.props):n.match}),a=e.props,o=a.children,u=a.component,s=a.render;return Array.isArray(o)&&function(e){return 0===t.Children.count(e)}(o)&&(o=null),t.createElement(ne.Provider,{value:i},i.match?o?"function"===typeof o?o(i):o:u?t.createElement(u,i):s?s(i):null:"function"===typeof o?o(i):null)}))},n}(t.Component);function se(e){return"/"===e.charAt(0)?e:"/"+e}function ce(e,t){if(!e)return t;var n=se(e);return 0!==t.pathname.indexOf(n)?t:y({},t,{pathname:t.pathname.substr(n.length)})}function le(e){return"string"===typeof e?e:T(e)}function fe(e){return function(){x(!1)}}function he(){}t.Component;t.Component;var de=t.useContext;var pe=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=M(t.props),t}return m(n,e),n.prototype.render=function(){return t.createElement(re,{history:this.history,children:this.props.children})},n}(t.Component);var ve=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=z(t.props),t}return m(n,e),n.prototype.render=function(){return t.createElement(re,{history:this.history,children:this.props.children})},n}(t.Component);var me=function(e,t){return"function"===typeof e?e(t):e},ye=function(e,t){return"string"===typeof e?C(e,null,null,t):e},ge=function(e){return e},be=t.forwardRef;"undefined"===typeof be&&(be=ge);var ke=be((function(e,n){var r=e.innerRef,i=e.navigate,a=e.onClick,o=Z(e,["innerRef","navigate","onClick"]),u=o.target,s=y({},o,{onClick:function(e){try{a&&a(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||u&&"_self"!==u||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),i())}});return s.ref=ge!==be&&n||r,t.createElement("a",s)}));var we=be((function(e,n){var r=e.component,i=void 0===r?ke:r,a=e.replace,o=e.to,u=e.innerRef,s=Z(e,["component","replace","to","innerRef"]);return t.createElement(ne.Consumer,null,(function(e){e||x(!1);var r=e.history,c=ye(me(o,e.location),e.location),l=c?r.createHref(c):"",f=y({},s,{href:l,navigate:function(){var t=me(o,e.location),n=T(e.location)===T(ye(t));(a||n?r.replace:r.push)(t)}});return ge!==be?f.ref=n||u:f.innerRef=u,t.createElement(i,f)}))})),xe=function(e){return e},Ee=t.forwardRef;"undefined"===typeof Ee&&(Ee=xe);Ee((function(e,n){var r=e["aria-current"],i=void 0===r?"page":r,a=e.activeClassName,o=void 0===a?"active":a,u=e.activeStyle,s=e.className,c=e.exact,l=e.isActive,f=e.location,h=e.sensitive,d=e.strict,p=e.style,v=e.to,m=e.innerRef,g=Z(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return t.createElement(ne.Consumer,null,(function(e){e||x(!1);var r=f||e.location,a=ye(me(v,r),r),b=a.pathname,k=b&&b.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),w=k?oe(r.pathname,{path:k,exact:c,sensitive:h,strict:d}):null,E=!!(l?l(w,r):w),_="function"===typeof s?s(E):s,S="function"===typeof p?p(E):p;E&&(_=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(_,o),S=y({},S,u));var I=y({"aria-current":E&&i||null,className:_,style:S,to:a},g);return xe!==Ee?I.ref=n||m:I.innerRef=m,t.createElement(we,I)}))}));var _e=n(184),Se=function(){return(0,_e.jsxs)("div",{className:"navbar",children:[(0,_e.jsxs)("a",{href:"/",children:[(0,_e.jsx)("img",{src:"https://salinaka-ecommerce.web.app/images/logo-full.059e10fa5fedbfb65165e7565ed3936f.png",alt:""})," "]}),(0,_e.jsxs)("ul",{className:"navigation-bar",children:[(0,_e.jsx)("ui",{className:"home",children:"Home"}),(0,_e.jsx)("ui",{className:"home",children:"Shop"}),(0,_e.jsx)("ui",{className:"home",children:"Featured"}),(0,_e.jsx)("ui",{className:"home",children:"Recommended"})]}),(0,_e.jsx)("div",{className:"logo-search",children:(0,_e.jsx)("input",{className:"serach-type",type:"search",placeholder:"Search product.."})}),(0,_e.jsx)("div",{className:"logo",children:(0,_e.jsx)(d,{})}),(0,_e.jsx)("div",{className:"cart-bag",children:(0,_e.jsx)(p,{size:"22px"})}),(0,_e.jsxs)("div",{className:"sign-up-in",children:[(0,_e.jsx)(we,{className:"sign-up",to:"sign-up",children:"Sign-up"}),(0,_e.jsx)("div",{className:"sign-in",children:"Sign-in"})]})]})},Ie=function(){return(0,_e.jsx)("div",{className:"main",children:(0,_e.jsxs)("div",{className:"banner",children:[(0,_e.jsx)("img",{src:"https://salinaka-ecommerce.web.app/images/banner-girl.789f1fa6f451ad26c5039fcbc049ace7.png",alt:""}),(0,_e.jsx)("h1",{children:"See everything with Clarity"}),(0,_e.jsxs)("p",{children:["Buying eyewear should leave you happy and good-looking, with money in your pocket. Glasses, sunglasses, and ",(0,_e.jsx)("br",{}),(0,_e.jsx)("p",{className:"p-next",children:"contacts\u2014we've got your eyes covered."})]}),(0,_e.jsx)("div",{className:"shop",children:"SHOP NOW"})]})})};function Te(e){if(Array.isArray(e))return e}function Ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ne(e,t){if(e){if("string"===typeof e)return Ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ce(e,t):void 0}}function Ae(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Oe(e,t){return Te(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||Ne(e,t)||Ae()}function Pe(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(kA){return!1}}function Re(e,t,n){return Re=Pe()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&v(i,n.prototype),i},Re.apply(null,arguments)}function De(e){return De=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},De(e)}function Me(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=De(e)););return e}function Fe(){return Fe="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Me(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Fe.apply(this,arguments)}function Le(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Ne(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function Ve(e){return Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ve(e)}function je(){je=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(I){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new E(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return S()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=k(o,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(I){return{type:"throw",arg:I}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};u(p,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(_([])));m&&m!==t&&n.call(m,i)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function r(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==Ve(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,o,u)}),(function(e){r("throw",e,o,u)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function k(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function _(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,u(y,"constructor",d),u(d,"constructor",h),h.displayName=u(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(b.prototype),u(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(y),u(y,o,"Generator"),u(y,i,(function(){return this})),u(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=_,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function Ue(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function ze(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Ue(a,r,i,o,u,"next",e)}function u(e){Ue(a,r,i,o,u,"throw",e)}o(void 0)}))}}function Be(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}function qe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function He(e,t){if(t&&("object"===Ve(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return qe(e)}function We(e){var t=Pe();return function(){var n,r=De(e);if(t){var i=De(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return He(this,n)}}function Ke(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Ge(e){return function(e){if(Array.isArray(e))return Ce(e)}(e)||Ke(e)||Ne(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ye(e,t,n){return t&&Qe(e.prototype,t),n&&Qe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Je(e){var t="function"===typeof Map?new Map:void 0;return Je=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Re(e,arguments,De(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),v(n,e)},Je(e)}var Ze=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},et={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ze(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},tt=function(e){return function(e){var t=Ze(e);return et.encodeByteArray(t,!0)}(e).replace(/\./g,"")},nt=function(e){try{return et.decodeString(e,!0)}catch(kA){console.error("base64Decode failed: ",kA)}return null};function rt(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&it(n)&&(e[n]=rt(e[n],t[n]));return e}function it(e){return"__proto__"!==e}var at=function(){function e(){var t=this;$e(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Ye(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function ot(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[tt(JSON.stringify({alg:"none",type:"JWT"})),tt(JSON.stringify(a)),""].join(".")}function ut(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function st(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ut())}function ct(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(kA){return!1}}function lt(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function ft(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function ht(){var e=ut();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function dt(){return"object"===typeof indexedDB}var pt=function(e){Be(n,e);var t=We(n);function n(e,r,i){var a;return $e(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(qe(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(qe(a),vt.prototype.create),a}return Ye(n)}(Je(Error)),vt=function(){function e(t,n,r){$e(this,e),this.service=t,this.serviceName=n,this.errors=r}return Ye(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?mt(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new pt(n,a,t);return o}}]),e}();function mt(e,t){return e.replace(yt,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var yt=/\{\$([^}]+)}/g;function gt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function bt(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(kt(u)&&kt(s)){if(!bt(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function kt(e){return null!==e&&"object"===typeof e}function wt(e){for(var t=[],n=function(){var e=Oe(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function xt(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=Oe(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Et(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function _t(e,t){var n=new St(e,t);return n.subscribe.bind(n)}var St=function(){function e(t,n){var r=this;$e(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Ye(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Le(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=It),void 0===r.error&&(r.error=It),void 0===r.complete&&(r.complete=It);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(kA){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(kA){"undefined"!==typeof console&&console.error&&console.error(kA)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function It(){}function Tt(e){return e&&e._delegate?e._delegate:e}var Ct=function(){function e(t,n,r){$e(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Ye(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Nt="[DEFAULT]",At=function(){function e(t,n){$e(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Ye(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new at;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(kA){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(kA){if(r)return null;throw kA}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Nt})}catch(kA){}var t,n=Le(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=Oe(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(kA){}}}catch(s){n.e(s)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=ze(je().mark((function e(){var t;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Ge(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Ge(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Le(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=Oe(i.value,2),s=u[0],c=u[1],l=this.normalizeInstanceIdentifier(s);r===l&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Le(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(py){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Nt?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(py){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt;return this.component?this.component.multipleInstances?e:Nt:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Ot,Pt,Rt=function(){function e(t){$e(this,e),this.name=t,this.providers=new Map}return Ye(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new At(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Dt=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Pt||(Pt={}));var Mt={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},Ft=Pt.INFO,Lt=(Xe(Ot={},Pt.DEBUG,"log"),Xe(Ot,Pt.VERBOSE,"log"),Xe(Ot,Pt.INFO,"info"),Xe(Ot,Pt.WARN,"warn"),Xe(Ot,Pt.ERROR,"error"),Ot),Vt=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Lt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},jt=function(){function e(t){$e(this,e),this.name=t,this._logLevel=Ft,this._logHandler=Vt,this._userLogHandler=null,Dt.push(this)}return Ye(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Pt))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Mt[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Pt.DEBUG].concat(t)),this._logHandler.apply(this,[this,Pt.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Pt.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Pt.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Pt.INFO].concat(t)),this._logHandler.apply(this,[this,Pt.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Pt.WARN].concat(t)),this._logHandler.apply(this,[this,Pt.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Pt.ERROR].concat(t)),this._logHandler.apply(this,[this,Pt.ERROR].concat(t))}}]),e}();function Ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ut(Object(n),!0).forEach((function(t){Xe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Bt,qt;var Ht=new WeakMap,Wt=new WeakMap,Kt=new WeakMap,Gt=new WeakMap,$t=new WeakMap;var Qt={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Wt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Kt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Jt(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Yt(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(qt||(qt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Zt(this),n),Jt(Ht.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Jt(e.apply(Zt(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Zt(this),t].concat(r));return Kt.set(a,t.sort?t.sort():[t]),Jt(a)}}function Xt(e){return"function"===typeof e?Yt(e):(e instanceof IDBTransaction&&function(e){if(!Wt.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Wt.set(e,t)}}(e),function(e,t){return t.some((function(t){return e instanceof t}))}(e,Bt||(Bt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Qt):e)}function Jt(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Jt(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Ht.set(t,e)})).catch((function(){})),$t.set(t,e),t}(e);if(Gt.has(e))return Gt.get(e);var t=Xt(e);return t!==e&&(Gt.set(e,t),$t.set(t,e)),t}var Zt=function(e){return $t.get(e)};var en,tn,nn=["get","getKey","getAll","getAllKeys","count"],rn=["put","add","delete","clear"],an=new Map;function on(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(an.get(t))return an.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=rn.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||nn.includes(n))){var a=function(){var e=ze(je().mark((function e(t){var a,o,u,s,c,l,f=arguments;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return an.set(t,a),a}}}Qt=function(e){return zt(zt({},e),{},{get:function(t,n,r){return on(t,n)||e.get(t,n,r)},has:function(t,n){return!!on(t,n)||e.has(t,n)}})}(Qt);var un=function(){function e(t){$e(this,e),this.container=t}return Ye(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var sn="@firebase/app",cn="0.7.27",ln=new jt("@firebase/app"),fn="[DEFAULT]",hn=(Xe(en={},sn,"fire-core"),Xe(en,"@firebase/app-compat","fire-core-compat"),Xe(en,"@firebase/analytics","fire-analytics"),Xe(en,"@firebase/analytics-compat","fire-analytics-compat"),Xe(en,"@firebase/app-check","fire-app-check"),Xe(en,"@firebase/app-check-compat","fire-app-check-compat"),Xe(en,"@firebase/auth","fire-auth"),Xe(en,"@firebase/auth-compat","fire-auth-compat"),Xe(en,"@firebase/database","fire-rtdb"),Xe(en,"@firebase/database-compat","fire-rtdb-compat"),Xe(en,"@firebase/functions","fire-fn"),Xe(en,"@firebase/functions-compat","fire-fn-compat"),Xe(en,"@firebase/installations","fire-iid"),Xe(en,"@firebase/installations-compat","fire-iid-compat"),Xe(en,"@firebase/messaging","fire-fcm"),Xe(en,"@firebase/messaging-compat","fire-fcm-compat"),Xe(en,"@firebase/performance","fire-perf"),Xe(en,"@firebase/performance-compat","fire-perf-compat"),Xe(en,"@firebase/remote-config","fire-rc"),Xe(en,"@firebase/remote-config-compat","fire-rc-compat"),Xe(en,"@firebase/storage","fire-gcs"),Xe(en,"@firebase/storage-compat","fire-gcs-compat"),Xe(en,"@firebase/firestore","fire-fst"),Xe(en,"@firebase/firestore-compat","fire-fst-compat"),Xe(en,"fire-js","fire-js"),Xe(en,"firebase","fire-js-all"),en),dn=new Map,pn=new Map;function vn(e,t){try{e.container.addComponent(t)}catch(kA){ln.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),kA)}}function mn(e,t){e.container.addOrOverwriteComponent(t)}function yn(e){var t=e.name;if(pn.has(t))return ln.debug("There were multiple attempts to register component ".concat(t,".")),!1;pn.set(t,e);var n,r=Le(dn.values());try{for(r.s();!(n=r.n()).done;){vn(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function gn(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function bn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fn;gn(e,t).clearInstance(n)}function kn(){pn.clear()}var wn=(Xe(tn={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Xe(tn,"bad-app-name","Illegal App name: '{$appName}"),Xe(tn,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Xe(tn,"app-deleted","Firebase App named '{$appName}' already deleted"),Xe(tn,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Xe(tn,"invalid-log-argument","First argument to `onLog` must be null or a function."),Xe(tn,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),Xe(tn,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),Xe(tn,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),Xe(tn,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),tn),xn=new vt("app","Firebase",wn),En=function(){function e(t,n,r){var i=this;$e(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ct("app",(function(){return i}),"PUBLIC"))}return Ye(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw xn.create("app-deleted",{appName:this._name})}}]),e}(),_n="9.8.4";function Sn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:fn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw xn.create("bad-app-name",{appName:String(i)});var a=dn.get(i);if(a){if(bt(e,a.options)&&bt(r,a.config))return a;throw xn.create("duplicate-app",{appName:i})}var o,u=new Rt(i),s=Le(pn.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new En(e,r,u);return dn.set(i,l),l}function In(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fn,t=dn.get(e);if(!t)throw xn.create("no-app",{appName:e});return t}function Tn(){return Array.from(dn.values())}function Cn(e){return Nn.apply(this,arguments)}function Nn(){return Nn=ze(je().mark((function e(t){var n;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!dn.has(n)){e.next=6;break}return dn.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),Nn.apply(this,arguments)}function An(e,t,n){var r,i=null!==(r=hn[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void ln.warn(u.join(" "))}yn(new Ct("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function On(e,t){if(null!==e&&"function"!==typeof e)throw xn.create("invalid-log-argument");!function(e,t){var n,r=Le(Dt);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Mt[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Pt[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Pn(e){var t;t=e,Dt.forEach((function(e){e.setLogLevel(t)}))}var Rn="firebase-heartbeat-store",Dn=null;function Mn(){return Dn||(Dn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=Jt(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(Jt(u.result),e.oldVersion,e.newVersion,Jt(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Rn)}}).catch((function(e){throw xn.create("storage-open",{originalErrorMessage:e.message})}))),Dn}function Fn(e){return Ln.apply(this,arguments)}function Ln(){return Ln=ze(je().mark((function e(t){var n,r;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Mn();case 3:return r=e.sent,e.abrupt("return",r.transaction(Rn).objectStore(Rn).get(Un(t)));case 7:throw e.prev=7,e.t0=e.catch(0),xn.create("storage-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Ln.apply(this,arguments)}function Vn(e,t){return jn.apply(this,arguments)}function jn(){return jn=ze(je().mark((function e(t,n){var r,i,a,o;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Mn();case 3:return i=e.sent,a=i.transaction(Rn,"readwrite"),o=a.objectStore(Rn),e.next=8,o.put(n,Un(t));case 8:return e.abrupt("return",a.done);case 11:throw e.prev=11,e.t0=e.catch(0),xn.create("storage-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),jn.apply(this,arguments)}function Un(e){return"".concat(e.name,"!").concat(e.options.appId)}var zn=function(){function e(t){var n=this;$e(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Wn(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return Ye(e,[{key:"triggerHeartbeat",value:function(){var e=ze(je().mark((function e(){var t,n,r;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Bn(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=ze(je().mark((function e(){var t,n,r,i,a;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Bn(),n=qn(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=tt(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Bn(){return(new Date).toISOString().substring(0,10)}function qn(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=Le(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Kn(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Kn(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Hn,Wn=function(){function e(t){$e(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Ye(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=ze(je().mark((function e(){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(dt()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=ze(je().mark((function e(){var t;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Fn(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=ze(je().mark((function e(t){var n,r;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Vn(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=ze(je().mark((function e(t){var n,r;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Vn(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(Ge(r.heartbeats),Ge(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Kn(e){return tt(JSON.stringify({version:2,heartbeats:e})).length}Hn="",yn(new Ct("platform-logger",(function(e){return new un(e)}),"PRIVATE")),yn(new Ct("heartbeat",(function(e){return new zn(e)}),"PRIVATE")),An(sn,cn,Hn),An(sn,cn,"esm2017"),An("fire-js","");var Gn,$n="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Qn={},Yn=Yn||{},Xn=$n||self;function Jn(){}function Zn(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function er(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var tr="closure_uid_"+(1e9*Math.random()>>>0),nr=0;function rr(e,t,n){return e.call.apply(e.bind,arguments)}function ir(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function ar(e,t,n){return(ar=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?rr:ir).apply(null,arguments)}function or(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function ur(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function sr(){this.s=this.s,this.o=this.o}var cr={};sr.prototype.s=!1,sr.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,tr)&&e[tr]||(e[tr]=++nr)}(this);delete cr[e]}},sr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var lr=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},fr=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function hr(e){return Array.prototype.concat.apply([],arguments)}function dr(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function pr(e){return/^[\s\xa0]*$/.test(e)}var vr,mr=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function yr(e,t){return-1!=e.indexOf(t)}function gr(e,t){return e<t?-1:e>t?1:0}e:{var br=Xn.navigator;if(br){var kr=br.userAgent;if(kr){vr=kr;break e}}vr=""}function wr(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function xr(e){var t={};for(var n in e)t[n]=e[n];return t}var Er="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _r(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Er.length;a++)n=Er[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Sr(e){return Sr[" "](e),e}Sr[" "]=Jn;var Ir,Tr=yr(vr,"Opera"),Cr=yr(vr,"Trident")||yr(vr,"MSIE"),Nr=yr(vr,"Edge"),Ar=Nr||Cr,Or=yr(vr,"Gecko")&&!(yr(vr.toLowerCase(),"webkit")&&!yr(vr,"Edge"))&&!(yr(vr,"Trident")||yr(vr,"MSIE"))&&!yr(vr,"Edge"),Pr=yr(vr.toLowerCase(),"webkit")&&!yr(vr,"Edge");function Rr(){var e=Xn.document;return e?e.documentMode:void 0}e:{var Dr="",Mr=function(){var e=vr;return Or?/rv:([^\);]+)(\)|;)/.exec(e):Nr?/Edge\/([\d\.]+)/.exec(e):Cr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Pr?/WebKit\/(\S+)/.exec(e):Tr?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Mr&&(Dr=Mr?Mr[1]:""),Cr){var Fr=Rr();if(null!=Fr&&Fr>parseFloat(Dr)){Ir=String(Fr);break e}}Ir=Dr}var Lr,Vr={};function jr(){return function(e){var t=Vr;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=mr(String(Ir)).split("."),n=mr("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=gr(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||gr(0==a[2].length,0==o[2].length)||gr(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Xn.document&&Cr){var Ur=Rr();Lr=Ur||(parseInt(Ir,10)||void 0)}else Lr=void 0;var zr=Lr,Br=function(){if(!Xn.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Xn.addEventListener("test",Jn,t),Xn.removeEventListener("test",Jn,t)}catch(n){}return e}();function qr(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Hr(e,t){if(qr.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Or){e:{try{Sr(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Wr[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Hr.Z.h.call(this)}}qr.prototype.h=function(){this.defaultPrevented=!0},ur(Hr,qr);var Wr={2:"touch",3:"pen",4:"mouse"};Hr.prototype.h=function(){Hr.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Kr="closure_listenable_"+(1e6*Math.random()|0),Gr=0;function $r(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Gr,this.ca=this.fa=!1}function Qr(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Yr(e){this.src=e,this.g={},this.h=0}function Xr(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=lr(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Qr(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Jr(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Yr.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Jr(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new $r(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Zr="closure_lm_"+(1e6*Math.random()|0),ei={};function ti(e,t,n,r,i){if(r&&r.once)return ri(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)ti(e,t[a],n,r,i);return null}return n=li(n),e&&e[Kr]?e.N(t,n,er(r)?!!r.capture:!!r,i):ni(e,t,n,!1,r,i)}function ni(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=er(i)?!!i.capture:!!i,u=si(e);if(u||(e[Zr]=u=new Yr(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=ui;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Br||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(oi(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ri(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)ri(e,t[a],n,r,i);return null}return n=li(n),e&&e[Kr]?e.O(t,n,er(r)?!!r.capture:!!r,i):ni(e,t,n,!0,r,i)}function ii(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)ii(e,t[a],n,r,i);else r=er(r)?!!r.capture:!!r,n=li(n),e&&e[Kr]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Jr(a=e.g[t],n,r,i))&&(Qr(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=si(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Jr(t,n,r,i)),(n=-1<e?t[e]:null)&&ai(n))}function ai(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Kr])Xr(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(oi(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=si(t))?(Xr(n,e),0==n.h&&(n.src=null,t[Zr]=null)):Qr(e)}}}function oi(e){return e in ei?ei[e]:ei[e]="on"+e}function ui(e,t){if(e.ca)e=!0;else{t=new Hr(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&ai(e),e=n.call(r,t)}return e}function si(e){return(e=e[Zr])instanceof Yr?e:null}var ci="__closure_events_fn_"+(1e9*Math.random()>>>0);function li(e){return"function"===typeof e?e:(e[ci]||(e[ci]=function(t){return e.handleEvent(t)}),e[ci])}function fi(){sr.call(this),this.i=new Yr(this),this.P=this,this.I=null}function hi(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new qr(t,e);else if(t instanceof qr)t.target=t.target||e;else{var i=t;_r(t=new qr(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=di(o,r,!0,t)&&i}if(i=di(o=t.g=e,r,!0,t)&&i,i=di(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=di(o=t.g=n[a],r,!1,t)&&i}function di(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&Xr(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}ur(fi,sr),fi.prototype[Kr]=!0,fi.prototype.removeEventListener=function(e,t,n,r){ii(this,e,t,n,r)},fi.prototype.M=function(){if(fi.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Qr(n[r]);delete t.g[e],t.h--}}this.I=null},fi.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},fi.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var pi=Xn.JSON.stringify;function vi(){var e=Ei,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var mi,yi=function(){function e(){$e(this,e),this.h=this.g=null}return Ye(e,[{key:"add",value:function(e,t){var n=gi.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),gi=new(function(){function e(t,n){$e(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Ye(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new bi}),(function(e){return e.reset()})),bi=function(){function e(){$e(this,e),this.next=this.g=this.h=null}return Ye(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function ki(e){Xn.setTimeout((function(){throw e}),0)}function wi(e,t){mi||function(){var e=Xn.Promise.resolve(void 0);mi=function(){e.then(_i)}}(),xi||(mi(),xi=!0),Ei.add(e,t)}var xi=!1,Ei=new yi;function _i(){for(var e;e=vi();){try{e.h.call(e.g)}catch(n){ki(n)}var t=gi;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}xi=!1}function Si(e,t){fi.call(this),this.h=e||1,this.g=t||Xn,this.j=ar(this.kb,this),this.l=Date.now()}function Ii(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Ti(e,t,n){if("function"===typeof e)n&&(e=ar(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=ar(e.handleEvent,e)}return 2147483647<Number(t)?-1:Xn.setTimeout(e,t||0)}function Ci(e){e.g=Ti((function(){e.g=null,e.i&&(e.i=!1,Ci(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}ur(Si,fi),(Gn=Si.prototype).da=!1,Gn.S=null,Gn.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),hi(this,"tick"),this.da&&(Ii(this),this.start()))}},Gn.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Gn.M=function(){Si.Z.M.call(this),Ii(this),delete this.g};var Ni=function(e){Be(n,e);var t=We(n);function n(e,r){var i;return $e(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Ye(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Ci(this)}},{key:"M",value:function(){Fe(De(n.prototype),"M",this).call(this),this.g&&(Xn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(sr);function Ai(e){sr.call(this),this.h=e,this.g={}}ur(Ai,sr);var Oi=[];function Pi(e,t,n,r){Array.isArray(n)||(n&&(Oi[0]=n.toString()),n=Oi);for(var i=0;i<n.length;i++){var a=ti(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Ri(e){wr(e.g,(function(e,t){this.g.hasOwnProperty(t)&&ai(e)}),e),e.g={}}function Di(){this.g=!0}function Mi(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return pi(n)}catch(wA){return t}}(e,n)+(r?" "+r:"")}))}Ai.prototype.M=function(){Ai.Z.M.call(this),Ri(this)},Ai.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Di.prototype.Aa=function(){this.g=!1},Di.prototype.info=function(){};var Fi={},Li=null;function Vi(){return Li=Li||new fi}function ji(e){qr.call(this,Fi.Ma,e)}function Ui(e){var t=Vi();hi(t,new ji(t,e))}function zi(e,t){qr.call(this,Fi.STAT_EVENT,e),this.stat=t}function Bi(e){var t=Vi();hi(t,new zi(t,e))}function qi(e,t){qr.call(this,Fi.Na,e),this.size=t}function Hi(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Xn.setTimeout((function(){e()}),t)}Fi.Ma="serverreachability",ur(ji,qr),Fi.STAT_EVENT="statevent",ur(zi,qr),Fi.Na="timingevent",ur(qi,qr);var Wi={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Ki={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Gi(){}function $i(e){return e.h||(e.h=e.i())}function Qi(){}Gi.prototype.h=null;var Yi,Xi={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ji(){qr.call(this,"d")}function Zi(){qr.call(this,"c")}function ea(){}function ta(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Ai(this),this.P=ra,e=Ar?125:void 0,this.W=new Si(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new na}function na(){this.i=null,this.g="",this.h=!1}ur(Ji,qr),ur(Zi,qr),ur(ea,Gi),ea.prototype.g=function(){return new XMLHttpRequest},ea.prototype.i=function(){return{}},Yi=new ea;var ra=45e3,ia={},aa={};function oa(e,t,n){e.K=1,e.v=Na(Ea(t)),e.s=n,e.U=!0,ua(e,null)}function ua(e,t){e.F=Date.now(),fa(e),e.A=Ea(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Ba(n.h,"t",r),e.C=0,n=e.l.H,e.h=new na,e.g=Wo(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Ni(ar(e.Ia,e,e.g),e.O)),Pi(e.V,e.g,"readystatechange",e.gb),t=e.H?xr(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ui(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function sa(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function ca(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=la(e,n))==aa){4==t&&(e.o=4,Bi(14),i=!1),Mi(e.j,e.m,null,"[Incomplete Response]");break}if(r==ia){e.o=4,Bi(15),Mi(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Mi(e.j,e.m,r,null),ma(e,r)}sa(e)&&r!=aa&&r!=ia&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Bi(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Lo(t),t.L=!0,Bi(11))):(Mi(e.j,e.m,n,"[Invalid Chunked Response]"),va(e),pa(e))}function la(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?aa:(n=Number(t.substring(n,r)),isNaN(n)?ia:(r+=1)+n>t.length?aa:(t=t.substr(r,n),e.C=r+n,t))}function fa(e){e.Y=Date.now()+e.P,ha(e,e.P)}function ha(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Hi(ar(e.eb,e),t)}function da(e){e.B&&(Xn.clearTimeout(e.B),e.B=null)}function pa(e){0==e.l.G||e.I||Uo(e.l,e)}function va(e){da(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Ii(e.W),Ri(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function ma(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Ya(n.i,e)))if(n.I=e.N,!e.J&&Ya(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;jo(n),Co(n)}Fo(n),Bi(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Hi(ar(n.ab,n),6e3));if(1>=Qa(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else Bo(n,11)}else if((e.J||n.g==e)&&jo(n),!pr(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(yr(l,"spdy")||yr(l,"quic")||yr(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Xa(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Ca(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Ho(r,r.H?r.la:null,r.W),d.J){Ja(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(da(p),fa(p)),r.g=d}else Mo(r);0<n.l.length&&Oo(n)}else"stop"!=a[0]&&"close"!=a[0]||Bo(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Bo(n,7):To(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}Ui(4)}catch(a){}}function ya(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Zn(e)||"string"===typeof e)fr(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Zn(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Zn(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function ga(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof ga)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function ba(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];ka(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)ka(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function ka(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Gn=ta.prototype).setTimeout=function(e){this.P=e},Gn.gb=function(e){e=e.target;var t=this.L;t&&3==xo(e)?t.l():this.Ia(e)},Gn.Ia=function(e){try{if(e==this.g)e:{var t=xo(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Ar||this.g&&(this.h.h||this.g.ga()||Eo(this.g)))){this.I||4!=t||7==n||Ui(8==n||0>=r?3:2),da(this);var i=this.g.ba();this.N=i;t:if(sa(this)){var a=Eo(this.g);e="";var o=a.length,u=4==xo(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){va(this),pa(this);var s="";break t}this.h.i=new Xn.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pr(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Bi(12),va(this),pa(this);break e}Mi(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ma(this,i)}this.U?(ca(this,t,s),Ar&&this.i&&3==t&&(Pi(this.V,this.W,"tick",this.fb),this.W.start())):(Mi(this.j,this.m,s,null),ma(this,s)),4==t&&va(this),this.i&&!this.I&&(4==t?Uo(this.l,this):(this.i=!1,fa(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,Bi(12)):(this.o=0,Bi(13)),va(this),pa(this)}}}catch(t){}},Gn.fb=function(){if(this.g){var e=xo(this.g),t=this.g.ga();this.C<t.length&&(da(this),ca(this,e,t),this.i&&4!=e&&fa(this))}},Gn.cancel=function(){this.I=!0,va(this)},Gn.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Ui(3),Bi(17)),va(this),this.o=2,pa(this)):ha(this,this.Y-e)},(Gn=ga.prototype).R=function(){ba(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Gn.T=function(){return ba(this),this.g.concat()},Gn.get=function(e,t){return ka(this.h,e)?this.h[e]:t},Gn.set=function(e,t){ka(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Gn.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var wa=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function xa(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof xa){this.g=void 0!==t?t:e.g,_a(this,e.j),this.s=e.s,Sa(this,e.i),Ia(this,e.m),this.l=e.l,t=e.h;var n=new Va;n.i=t.i,t.g&&(n.g=new ga(t.g),n.h=t.h),Ta(this,n),this.o=e.o}else e&&(n=String(e).match(wa))?(this.g=!!t,_a(this,n[1]||"",!0),this.s=Aa(n[2]||""),Sa(this,n[3]||"",!0),Ia(this,n[4]),this.l=Aa(n[5]||"",!0),Ta(this,n[6]||"",!0),this.o=Aa(n[7]||"")):(this.g=!!t,this.h=new Va(null,this.g))}function Ea(e){return new xa(e)}function _a(e,t,n){e.j=n?Aa(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Sa(e,t,n){e.i=n?Aa(t,!0):t}function Ia(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Ta(e,t,n){t instanceof Va?(e.h=t,function(e,t){t&&!e.j&&(ja(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Ua(this,t),Ba(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Oa(t,Fa)),e.h=new Va(t,e.g))}function Ca(e,t,n){e.h.set(t,n)}function Na(e){return Ca(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Aa(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Oa(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Pa),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Pa(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}xa.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Oa(t,Ra,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Oa(t,Ra,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Oa(n,"/"==n.charAt(0)?Ma:Da,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Oa(n,La)),e.join("")};var Ra=/[#\/\?@]/g,Da=/[#\?:]/g,Ma=/[#\?]/g,Fa=/[#\?@]/g,La=/#/g;function Va(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ja(e){e.g||(e.g=new ga,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Ua(e,t){ja(e),t=qa(e,t),ka(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,ka((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&ba(e)))}function za(e,t){return ja(e),t=qa(e,t),ka(e.g.h,t)}function Ba(e,t,n){Ua(e,t),0<n.length&&(e.i=null,e.g.set(qa(e,t),dr(n)),e.h+=n.length)}function qa(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Gn=Va.prototype).add=function(e,t){ja(this),this.i=null,e=qa(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Gn.forEach=function(e,t){ja(this),this.g.forEach((function(n,r){fr(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Gn.T=function(){ja(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Gn.R=function(e){ja(this);var t=[];if("string"===typeof e)za(this,e)&&(t=hr(t,this.g.get(qa(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=hr(t,e[n])}return t},Gn.set=function(e,t){return ja(this),this.i=null,za(this,e=qa(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Gn.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Gn.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var Ha=Ye((function e(t,n){$e(this,e),this.h=t,this.g=n}));function Wa(e){this.l=e||Ga,Xn.PerformanceNavigationTiming?e=0<(e=Xn.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Xn.g&&Xn.g.Ea&&Xn.g.Ea()&&Xn.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ka,Ga=10;function $a(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Qa(e){return e.h?1:e.g?e.g.size:0}function Ya(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Xa(e,t){e.g?e.g.add(t):e.h=t}function Ja(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Za(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Le(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return dr(e.i)}function eo(){}function to(){this.g=new eo}function no(e,t,n){var r=n||"";try{ya(e,(function(e,n){var i=e;er(e)&&(i=pi(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(kA){throw t.push(r+"type="+encodeURIComponent("_badmap")),kA}}function ro(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function io(e){this.l=e.$b||null,this.j=e.ib||!1}function ao(e,t){fi.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=oo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Wa.prototype.cancel=function(){if(this.i=Za(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Le(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},eo.prototype.stringify=function(e){return Xn.JSON.stringify(e,void 0)},eo.prototype.parse=function(e){return Xn.JSON.parse(e,void 0)},ur(io,Gi),io.prototype.g=function(){return new ao(this.l,this.j)},io.prototype.i=(Ka={},function(){return Ka}),ur(ao,fi);var oo=0;function uo(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function so(e){e.readyState=4,e.l=null,e.j=null,e.A=null,co(e)}function co(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Gn=ao.prototype).open=function(e,t){if(this.readyState!=oo)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,co(this)},Gn.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Xn).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Gn.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,so(this)),this.readyState=oo},Gn.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,co(this)),this.g&&(this.readyState=3,co(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Xn.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;uo(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Gn.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?so(this):co(this),3==this.readyState&&uo(this)}},Gn.Ua=function(e){this.g&&(this.response=this.responseText=e,so(this))},Gn.Ta=function(e){this.g&&(this.response=e,so(this))},Gn.ha=function(){this.g&&so(this)},Gn.setRequestHeader=function(e,t){this.v.append(e,t)},Gn.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Gn.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ao.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var lo=Xn.JSON.parse;function fo(e){fi.call(this),this.headers=new ga,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ho,this.K=this.L=!1}ur(fo,fi);var ho="",po=/^https?$/i,vo=["POST","PUT"];function mo(e){return"content-type"==e.toLowerCase()}function yo(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,go(e),ko(e)}function go(e){e.D||(e.D=!0,hi(e,"complete"),hi(e,"error"))}function bo(e){if(e.h&&"undefined"!=typeof Yn&&(!e.C[1]||4!=xo(e)||2!=e.ba()))if(e.v&&4==xo(e))Ti(e.Fa,0,e);else if(hi(e,"readystatechange"),4==xo(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(wa)[1]||null;if(!a&&Xn.self&&Xn.self.location){var o=Xn.self.location.protocol;a=o.substr(0,o.length-1)}i=!po.test(a?a.toLowerCase():"")}t=i}if(t)hi(e,"complete"),hi(e,"success");else{e.m=6;try{var u=2<xo(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",go(e)}}finally{ko(e)}}}function ko(e,t){if(e.g){wo(e);var n=e.g,r=e.C[0]?Jn:null;e.g=null,e.C=null,t||hi(e,"ready");try{n.onreadystatechange=r}catch(kA){}}}function wo(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Xn.clearTimeout(e.A),e.A=null)}function xo(e){return e.g?e.g.readyState:0}function Eo(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case ho:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function _o(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return wr(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Ca(e,t,n))}function So(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Io(e){this.za=0,this.l=[],this.h=new Di,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=So("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=So("baseRetryDelayMs",5e3,e),this.$a=So("retryDelaySeedMs",1e4,e),this.Ya=So("forwardChannelMaxRetries",2,e),this.ra=So("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Wa(e&&e.concurrentRequestLimit),this.Ca=new to,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function To(e){if(No(e),3==e.G){var t=e.V++,n=Ea(e.F);Ca(n,"SID",e.J),Ca(n,"RID",t),Ca(n,"TYPE","terminate"),Ro(e,n),(t=new ta(e,e.h,t,void 0)).K=2,t.v=Na(Ea(n)),n=!1,Xn.navigator&&Xn.navigator.sendBeacon&&(n=Xn.navigator.sendBeacon(t.v.toString(),"")),!n&&Xn.Image&&((new Image).src=t.v,n=!0),n||(t.g=Wo(t.l,null),t.g.ea(t.v)),t.F=Date.now(),fa(t)}qo(e)}function Co(e){e.g&&(Lo(e),e.g.cancel(),e.g=null)}function No(e){Co(e),e.u&&(Xn.clearTimeout(e.u),e.u=null),jo(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Xn.clearTimeout(e.m),e.m=null)}function Ao(e,t){e.l.push(new Ha(e.Za++,t)),3==e.G&&Oo(e)}function Oo(e){$a(e.i)||e.m||(e.m=!0,wi(e.Ha,e),e.C=0)}function Po(e,t){var n;n=t?t.m:e.V++;var r=Ea(e.F);Ca(r,"SID",e.J),Ca(r,"RID",n),Ca(r,"AID",e.U),Ro(e,r),e.o&&e.s&&_o(r,e.o,e.s),n=new ta(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Do(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Xa(e.i,n),oa(n,r,t)}function Ro(e,t){e.j&&ya({},(function(e,n){Ca(t,n,e)}))}function Do(e,t,n){n=Math.min(e.l.length,n);var r=e.j?ar(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{no(l,o,"req"+c+"_")}catch(bu){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Mo(e){e.g||e.u||(e.Y=1,wi(e.Ga,e),e.A=0)}function Fo(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Hi(ar(e.Ga,e),zo(e,e.A)),e.A++,!0)}function Lo(e){null!=e.B&&(Xn.clearTimeout(e.B),e.B=null)}function Vo(e){e.g=new ta(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Ea(e.oa);Ca(t,"RID","rpc"),Ca(t,"SID",e.J),Ca(t,"CI",e.N?"0":"1"),Ca(t,"AID",e.U),Ro(e,t),Ca(t,"TYPE","xmlhttp"),e.o&&e.s&&_o(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Na(Ea(t)),n.s=null,n.U=!0,ua(n,e)}function jo(e){null!=e.v&&(Xn.clearTimeout(e.v),e.v=null)}function Uo(e,t){var n=null;if(e.g==t){jo(e),Lo(e),e.g=null;var r=2}else{if(!Ya(e.i,t))return;n=t.D,Ja(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;hi(r=Vi(),new qi(r,n,t,i)),Oo(e)}else Mo(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Qa(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Hi(ar(e.Ha,e,t),zo(e,e.C)),e.C++,!0))}(e,t)||2==r&&Fo(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Bo(e,5);break;case 4:Bo(e,10);break;case 3:Bo(e,6);break;default:Bo(e,2)}}function zo(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Bo(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=ar(e.jb,e);n||(n=new xa("//www.google.com/images/cleardot.gif"),Xn.location&&"http"==Xn.location.protocol||_a(n,"https"),Na(n)),function(e,t){var n=new Di;if(Xn.Image){var r=new Image;r.onload=or(ro,n,r,"TestLoadImage: loaded",!0,t),r.onerror=or(ro,n,r,"TestLoadImage: error",!1,t),r.onabort=or(ro,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=or(ro,n,r,"TestLoadImage: timeout",!1,t),Xn.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Bi(2);e.G=0,e.j&&e.j.va(t),qo(e),No(e)}function qo(e){e.G=0,e.I=-1,e.j&&(0==Za(e.i).length&&0==e.l.length||(e.i.i.length=0,dr(e.l),e.l.length=0),e.j.ua())}function Ho(e,t,n){var r=function(e){return e instanceof xa?Ea(e):new xa(e,void 0)}(n);if(""!=r.i)t&&Sa(r,t+"."+r.i),Ia(r,r.m);else{var i=Xn.location;r=function(e,t,n,r){var i=new xa(null,void 0);return e&&_a(i,e),t&&Sa(i,t),n&&Ia(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&wr(e.aa,(function(e,t){Ca(r,t,e)})),t=e.D,n=e.sa,t&&n&&Ca(r,t,n),Ca(r,"VER",e.ma),Ro(e,r),r}function Wo(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new fo(new io({ib:!0})):new fo(e.qa)).L=e.H,t}function Ko(){}function Go(){if(Cr&&!(10<=Number(zr)))throw Error("Environmental error: no available transport.")}function $o(e,t){fi.call(this),this.g=new Io(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!pr(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!pr(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Xo(this)}function Qo(e){Ji.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Yo(){Zi.call(this),this.status=1}function Xo(e){this.g=e}(Gn=fo.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Yi.g(),this.C=this.u?$i(this.u):$i(Yi),this.g.onreadystatechange=ar(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void yo(this,a)}e=n||"";var i=new ga(this.headers);r&&ya(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=mo,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Xn.FormData&&e instanceof Xn.FormData,!(0<=lr(vo,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{wo(this),0<this.B&&((this.K=function(e){return Cr&&jr()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ar(this.pa,this)):this.A=Ti(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){yo(this,a)}},Gn.pa=function(){"undefined"!=typeof Yn&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,hi(this,"timeout"),this.abort(8))},Gn.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,hi(this,"complete"),hi(this,"abort"),ko(this))},Gn.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ko(this,!0)),fo.Z.M.call(this)},Gn.Fa=function(){this.s||(this.F||this.v||this.l?bo(this):this.cb())},Gn.cb=function(){bo(this)},Gn.ba=function(){try{return 2<xo(this)?this.g.status:-1}catch(Ka){return-1}},Gn.ga=function(){try{return this.g?this.g.responseText:""}catch(Ka){return""}},Gn.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),lo(t)}},Gn.Da=function(){return this.m},Gn.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Gn=Io.prototype).ma=8,Gn.G=1,Gn.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Gn.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new ta(this,this.h,e,void 0),n=this.s;if(this.P&&(n?_r(n=xr(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Do(this,t,r),Ca(i=Ea(this.F),"RID",e),Ca(i,"CVER",22),this.D&&Ca(i,"X-HTTP-Session-Id",this.D),Ro(this,i),this.o&&n&&_o(i,this.o,n),Xa(this.i,t),this.Ra&&Ca(i,"TYPE","init"),this.ja?(Ca(i,"$req",r),Ca(i,"SID","null"),t.$=!0,oa(t,i,null)):oa(t,i,r),this.G=2}}else 3==this.G&&(e?Po(this,e):0==this.l.length||$a(this.i)||Po(this))},Gn.Ga=function(){if(this.u=null,Vo(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Hi(ar(this.bb,this),e)}},Gn.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Bi(10),Co(this),Vo(this))},Gn.ab=function(){null!=this.v&&(this.v=null,Co(this),Fo(this),Bi(19))},Gn.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Bi(2)):(this.h.info("Failed to ping google.com"),Bi(1))},(Gn=Ko.prototype).xa=function(){},Gn.wa=function(){},Gn.va=function(){},Gn.ua=function(){},Gn.Oa=function(){},Go.prototype.g=function(e,t){return new $o(e,t)},ur($o,fi),$o.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),wi(ar(e.hb,e,t))),Bi(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Ho(e,null,e.W),Oo(e)},$o.prototype.close=function(){To(this.g)},$o.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Ao(this.g,t)}else this.v?((t={}).__data__=pi(e),Ao(this.g,t)):Ao(this.g,e)},$o.prototype.M=function(){this.g.j=null,delete this.j,To(this.g),delete this.g,$o.Z.M.call(this)},ur(Qo,Ji),ur(Yo,Zi),ur(Xo,Ko),Xo.prototype.xa=function(){hi(this.g,"a")},Xo.prototype.wa=function(e){hi(this.g,new Qo(e))},Xo.prototype.va=function(e){hi(this.g,new Yo(e))},Xo.prototype.ua=function(){hi(this.g,"b")},Go.prototype.createWebChannel=Go.prototype.g,$o.prototype.send=$o.prototype.u,$o.prototype.open=$o.prototype.m,$o.prototype.close=$o.prototype.close,Wi.NO_ERROR=0,Wi.TIMEOUT=8,Wi.HTTP_ERROR=6,Ki.COMPLETE="complete",Qi.EventType=Xi,Xi.OPEN="a",Xi.CLOSE="b",Xi.ERROR="c",Xi.MESSAGE="d",fi.prototype.listen=fi.prototype.N,fo.prototype.listenOnce=fo.prototype.O,fo.prototype.getLastError=fo.prototype.La,fo.prototype.getLastErrorCode=fo.prototype.Da,fo.prototype.getStatus=fo.prototype.ba,fo.prototype.getResponseJson=fo.prototype.Qa,fo.prototype.getResponseText=fo.prototype.ga,fo.prototype.send=fo.prototype.ea;var Jo=Qn.createWebChannelTransport=function(){return new Go},Zo=Qn.getStatEventTarget=function(){return Vi()},eu=Qn.ErrorCode=Wi,tu=Qn.EventType=Ki,nu=Qn.Event=Fi,ru=Qn.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},iu=Qn.FetchXmlHttpFactory=io,au=Qn.WebChannel=Qi,ou=Qn.XhrIo=fo,uu="@firebase/firestore",su=function(){function e(t){$e(this,e),this.uid=t}return Ye(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();su.UNAUTHENTICATED=new su(null),su.GOOGLE_CREDENTIALS=new su("google-credentials-uid"),su.FIRST_PARTY=new su("first-party-uid"),su.MOCK_USER=new su("mock-user");var cu="9.8.4",lu=new jt("@firebase/firestore");function fu(){return lu.logLevel}function hu(e){if(lu.logLevel<=Pt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(vu);lu.debug.apply(lu,["Firestore (".concat(cu,"): ").concat(e)].concat(Ge(i)))}}function du(e){if(lu.logLevel<=Pt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(vu);lu.error.apply(lu,["Firestore (".concat(cu,"): ").concat(e)].concat(Ge(i)))}}function pu(e){if(lu.logLevel<=Pt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(vu);lu.warn.apply(lu,["Firestore (".concat(cu,"): ").concat(e)].concat(Ge(i)))}}function vu(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function mu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(cu,") INTERNAL ASSERTION FAILED: ")+e;throw du(t),new Error(t)}function yu(e,t){e||mu()}function gu(e,t){return e}var bu={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ku=function(e){Be(n,e);var t=We(n);function n(e,r){var i;return $e(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Ye(n)}(pt),wu=Ye((function e(){var t=this;$e(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),xu=Ye((function e(t,n){$e(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Eu=function(){function e(){$e(this,e)}return Ye(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(su.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),_u=function(){function e(t){$e(this,e),this.token=t,this.changeListener=null}return Ye(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Su=function(){function e(t){$e(this,e),this.t=t,this.currentUser=su.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Ye(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new wu;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new wu,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(ze(je().mark((function e(){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){hu("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(hu("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new wu)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(hu("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(yu("string"==typeof n.accessToken),new xu(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return yu(null===e||"string"==typeof e),new su(e)}}]),e}(),Iu=Ye((function e(t,n,r){$e(this,e),this.type="FirstParty",this.user=su.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),Tu=function(){function e(t,n,r){$e(this,e),this.h=t,this.l=n,this.m=r}return Ye(e,[{key:"getToken",value:function(){return Promise.resolve(new Iu(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(su.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Cu=Ye((function e(t){$e(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Nu=function(){function e(t){$e(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return Ye(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&hu("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,hu("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){hu("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):hu("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(yu("string"==typeof t.token),e.p=t.token,new Cu(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Au(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Ou=function(){function e(){$e(this,e)}return Ye(e,null,[{key:"I",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Au(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Pu(e,t){return e<t?-1:e>t?1:0}function Ru(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Du(e){return e+"\0"}var Mu=function(){function e(t,n){if($e(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new ku(bu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ku(bu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new ku(bu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ku(bu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Ye(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Pu(this.nanoseconds,e.nanoseconds):Pu(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Fu=function(){function e(t){$e(this,e),this.timestamp=t}return Ye(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Mu(0,0))}},{key:"max",value:function(){return new e(new Mu(253402300799,999999999))}}]),e}(),Lu=function(){function e(t,n,r){$e(this,e),void 0===n?n=0:n>t.length&&mu(),void 0===r?r=t.length-n:r>t.length-n&&mu(),this.segments=t,this.offset=n,this.len=r}return Ye(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Vu=function(e){Be(n,e);var t=We(n);function n(){return $e(this,n),t.apply(this,arguments)}return Ye(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new ku(bu.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,Ge(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Lu),ju=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Uu=function(e){Be(n,e);var t=We(n);function n(){return $e(this,n),t.apply(this,arguments)}return Ye(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return ju.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new ku(bu.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new ku(bu.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new ku(bu.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new ku(bu.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Lu),zu=function(){function e(t){$e(this,e),this.path=t}return Ye(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Vu.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Vu.fromString(t))}},{key:"fromName",value:function(t){return new e(Vu.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Vu.emptyPath())}},{key:"comparator",value:function(e,t){return Vu.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Vu(t.slice()))}}]),e}(),Bu=Ye((function e(t,n,r,i){$e(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function qu(e){return e.fields.find((function(e){return 2===e.kind}))}function Hu(e){return e.fields.filter((function(e){return 2!==e.kind}))}Bu.UNKNOWN_ID=-1;var Wu=Ye((function e(t,n){$e(this,e),this.fieldPath=t,this.kind=n})),Ku=function(){function e(t,n){$e(this,e),this.sequenceNumber=t,this.offset=n}return Ye(e,null,[{key:"empty",value:function(){return new e(0,Qu.min())}}]),e}();function Gu(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Fu.fromTimestamp(1e9===r?new Mu(n+1,0):new Mu(n,r));return new Qu(i,zu.empty(),t)}function $u(e){return new Qu(e.readTime,e.key,-1)}var Qu=function(){function e(t,n,r){$e(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Ye(e,null,[{key:"min",value:function(){return new e(Fu.min(),zu.empty(),-1)}},{key:"max",value:function(){return new e(Fu.max(),zu.empty(),-1)}}]),e}();function Yu(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=zu.comparator(e.documentKey,t.documentKey))?n:Pu(e.largestBatchId,t.largestBatchId)}var Xu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ju=function(){function e(){$e(this,e),this.onCommittedListeners=[]}return Ye(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Zu(e){return es.apply(this,arguments)}function es(){return es=ze(je().mark((function e(t){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===bu.FAILED_PRECONDITION&&t.message===Xu){e.next=2;break}throw t;case 2:hu("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),es.apply(this,arguments)}var ts=function(){function e(t){var n=this;$e(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Ye(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&mu(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Le(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(u){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u(s)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),ns=function(){function e(t,n){var r=this;$e(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.T=new wu,this.transaction.oncomplete=function(){r.T.resolve()},this.transaction.onabort=function(){n.error?r.T.reject(new as(t,n.error)):r.T.resolve()},this.transaction.onerror=function(e){var n=ls(e.target.error);r.T.reject(new as(t,n))}}return Ye(e,[{key:"A",get:function(){return this.T.promise}},{key:"abort",value:function(e){e&&this.T.reject(e),this.aborted||(hu("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"R",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new us(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new as(n,t)}}}]),e}(),rs=function(){function e(t,n,r){$e(this,e),this.name=t,this.version=n,this.P=r,12.2===e.v(ut())&&du("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Ye(e,[{key:"k",value:function(){var e=ze(je().mark((function e(t){var n=this;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return hu("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new as(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new ku(bu.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new ku(bu.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new as(t,n))},i.onupgradeneeded=function(e){hu("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.P.O(t,i.transaction,e.oldVersion,n.version).next((function(){hu("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.M&&(this.db.onversionchange=function(e){return n.M(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"F",value:function(e){this.M=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=ze(je().mark((function e(t,n,r,i){var a,o,u,s,c,l=this;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(je().mark((function e(){var n,o;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.k(t);case 2:return l.db=e.sent,n=ns.open(l.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.R(),e})).catch((function(e){return n.abort(e),ts.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.A;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s=e.t1,c="FirebaseError"!==s.name&&o<3,hu("SimpleDb","Transaction failed with error:",s.message,"Retrying:",c),this.close(),c){e.next=15;break}return e.abrupt("return",Promise.reject(s));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return hu("SimpleDb","Removing database:",e),ss(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"V",value:function(){if(!dt())return!1;if(e.S())return!0;var t=ut(),n=e.v(t),r=0<n&&n<10,i=e.D(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"S",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/eye-web",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.C)}},{key:"N",value:function(e,t){return e.store(t)}},{key:"v",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"D",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),is=function(){function e(t){$e(this,e),this.$=t,this.B=!1,this.L=null}return Ye(e,[{key:"isDone",get:function(){return this.B}},{key:"U",get:function(){return this.L}},{key:"cursor",set:function(e){this.$=e}},{key:"done",value:function(){this.B=!0}},{key:"q",value:function(e){this.L=e}},{key:"delete",value:function(){return ss(this.$.delete())}}]),e}(),as=function(e){Be(n,e);var t=We(n);function n(e,r){var i;return $e(this,n),(i=t.call(this,bu.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return Ye(n)}(ku);function os(e){return"IndexedDbTransactionError"===e.name}var us=function(){function e(t){$e(this,e),this.store=t}return Ye(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(hu("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(hu("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),ss(n)}},{key:"add",value:function(e){return hu("SimpleDb","ADD",this.store.name,e,e),ss(this.store.add(e))}},{key:"get",value:function(e){var t=this;return ss(this.store.get(e)).next((function(n){return void 0===n&&(n=null),hu("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return hu("SimpleDb","DELETE",this.store.name,e),ss(this.store.delete(e))}},{key:"count",value:function(){return hu("SimpleDb","COUNT",this.store.name),ss(this.store.count())}},{key:"K",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.G(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new ts((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"j",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new ts((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"W",value:function(e,t){hu("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.H=!1;var r=this.cursor(n);return this.G(r,(function(e,t,n){return n.delete()}))}},{key:"J",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.G(r,t)}},{key:"Y",value:function(e){var t=this.cursor({});return new ts((function(n,r){t.onerror=function(e){var t=ls(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"G",value:function(e,t){var n=[];return new ts((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new is(i),o=t(i.primaryKey,i.value,a);if(o instanceof ts){var u=o.catch((function(e){return a.done(),ts.reject(e)}));n.push(u)}a.isDone?r():null===a.U?i.continue():i.continue(a.U)}else r()}})).next((function(){return ts.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function ss(e){return new ts((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=ls(e.target.error);n(t)}}))}var cs=!1;function ls(e){var t=rs.v(ut());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new ku("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return cs||(cs=!0,setTimeout((function(){throw r}),0)),r}}return e}var fs=function(){function e(t,n){$e(this,e),this.asyncQueue=t,this.X=n,this.task=null}return Ye(e,[{key:"start",value:function(){}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"Z",value:function(e){var t=this;hu("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,ze(je().mark((function e(){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=hu,e.t1="Documents written: ",e.next=6,t.X.tt();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!os(e.t4)){e.next=17;break}hu("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,Zu(e.t4);case 19:return e.next=21,t.Z(1);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),hs=function(){function e(t,n){$e(this,e),this.localStore=t,this.persistence=n}return Ye(e,[{key:"tt",value:function(){var e=ze(je().mark((function e(){var t,n=this,r=arguments;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.et(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"et",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return ts.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return hu("IndexBackiller","Processing collection: ".concat(t)),n.nt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"nt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.st(i,n)})).next((function(n){return hu("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"st",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=$u(t);Yu(r,n)>0&&(n=r)})),new Qu(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),ds=function(){function e(t,n){var r=this;$e(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.it(e)},this.rt=function(e){return n.writeSequenceNumber(e)})}return Ye(e,[{key:"it",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.rt&&this.rt(e),e}}]),e}();function ps(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function vs(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ms(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}ds.ot=-1;var ys=function(){function e(t,n){$e(this,e),this.comparator=t,this.root=n||bs.EMPTY}return Ye(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,bs.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,bs.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new gs(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new gs(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new gs(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new gs(this.root,e,this.comparator,!0)}}]),e}(),gs=function(){function e(t,n,r,i){$e(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Ye(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),bs=function(){function e(t,n,r,i,a){$e(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Ye(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw mu();if(this.right.isRed())throw mu();var e=this.left.check();if(e!==this.right.check())throw mu();return e+(this.isRed()?0:1)}}]),e}();bs.EMPTY=null,bs.RED=!0,bs.BLACK=!1,bs.EMPTY=new(function(){function e(){$e(this,e),this.size=0}return Ye(e,[{key:"key",get:function(){throw mu()}},{key:"value",get:function(){throw mu()}},{key:"color",get:function(){throw mu()}},{key:"left",get:function(){throw mu()}},{key:"right",get:function(){throw mu()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new bs(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var ks=function(){function e(t){$e(this,e),this.comparator=t,this.data=new ys(this.comparator)}return Ye(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new ws(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new ws(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),ws=function(){function e(t){$e(this,e),this.iter=t}return Ye(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function xs(e){return e.hasNext()?e.getNext():void 0}var Es=function(){function e(t){$e(this,e),this.fields=t,t.sort(Uu.comparator)}return Ye(e,[{key:"unionWith",value:function(t){var n,r=new ks(Uu.comparator),i=Le(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=Le(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=Le(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Ru(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var _s=function(e){function t(e){$e(this,t),this.binaryString=e}return Ye(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Pu(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();_s.EMPTY_BYTE_STRING=new _s("");var Ss=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Is(e){if(yu(!!e),"string"==typeof e){var t=0,n=Ss.exec(e);if(yu(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ts(e.seconds),nanos:Ts(e.nanos)}}function Ts(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Cs(e){return"string"==typeof e?_s.fromBase64String(e):_s.fromUint8Array(e)}function Ns(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function As(e){var t=e.mapValue.fields.__previous_value__;return Ns(t)?As(t):t}function Os(e){var t=Is(e.mapValue.fields.__local_write_time__.timestampValue);return new Mu(t.seconds,t.nanos)}var Ps=Ye((function e(t,n,r,i,a,o,u,s){$e(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),Rs=function(){function e(t,n){$e(this,e),this.projectId=t,this.database=n||"(default)"}return Ye(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Ds(e){return null==e}function Ms(e){return 0===e&&1/e==-1/0}function Fs(e){return"number"==typeof e&&Number.isInteger(e)&&!Ms(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Ls={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Vs={nullValue:"NULL_VALUE"};function js(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ns(e)?4:Zs(e)?9007199254740991:10:mu()}function Us(e,t){if(e===t)return!0;var n=js(e);if(n!==js(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Os(e).isEqual(Os(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Is(e.timestampValue),r=Is(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Cs(e.bytesValue).isEqual(Cs(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ts(e.geoPointValue.latitude)===Ts(t.geoPointValue.latitude)&&Ts(e.geoPointValue.longitude)===Ts(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ts(e.integerValue)===Ts(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Ts(e.doubleValue),r=Ts(t.doubleValue);return n===r?Ms(n)===Ms(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ru(e.arrayValue.values||[],t.arrayValue.values||[],Us);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ps(n)!==ps(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Us(n[i],r[i])))return!1;return!0}(e,t);default:return mu()}}function zs(e,t){return void 0!==(e.values||[]).find((function(e){return Us(e,t)}))}function Bs(e,t){if(e===t)return 0;var n=js(e),r=js(t);if(n!==r)return Pu(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pu(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Ts(e.integerValue||e.doubleValue),r=Ts(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return qs(e.timestampValue,t.timestampValue);case 4:return qs(Os(e),Os(t));case 5:return Pu(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Cs(e),r=Cs(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Pu(n[i],r[i]);if(0!==a)return a}return Pu(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Pu(Ts(e.latitude),Ts(t.latitude));return 0!==n?n:Pu(Ts(e.longitude),Ts(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Bs(n[i],r[i]);if(a)return a}return Pu(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Ls.mapValue&&t===Ls.mapValue)return 0;if(e===Ls.mapValue)return 1;if(t===Ls.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Pu(r[o],a[o]);if(0!==u)return u;var s=Bs(n[r[o]],i[a[o]]);if(0!==s)return s}return Pu(r.length,a.length)}(e.mapValue,t.mapValue);default:throw mu()}}function qs(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Pu(e,t);var n=Is(e),r=Is(t),i=Pu(n.seconds,r.seconds);return 0!==i?i:Pu(n.nanos,r.nanos)}function Hs(e){return Ws(e)}function Ws(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Is(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Cs(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,zu.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Le(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Ws(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Le(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Ws(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):mu();var t,n}function Ks(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Gs(e){return!!e&&"integerValue"in e}function $s(e){return!!e&&"arrayValue"in e}function Qs(e){return!!e&&"nullValue"in e}function Ys(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Xs(e){return!!e&&"mapValue"in e}function Js(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return vs(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Js(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Js(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Zs(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function ec(e){return"nullValue"in e?Vs:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Ks(Rs.empty(),zu.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:mu()}function tc(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Ks(Rs.empty(),zu.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Ls:mu()}function nc(e,t){var n=Bs(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function rc(e,t){var n=Bs(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var ic=function(){function e(t){$e(this,e),this.value=t}return Ye(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Xs(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Js(t)}},{key:"setAll",value:function(e){var t=this,n=Uu.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Js(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Xs(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Us(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Xs(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){vs(t,(function(t,n){return e[t]=n}));var r,i=Le(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Js(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function ac(e){var t=[];return vs(e.fields,(function(e,n){var r=new Uu([e]);if(Xs(n)){var i=ac(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Le(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Es(t)}var oc=function(){function e(t,n,r,i,a,o){$e(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return Ye(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=ic.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=ic.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Fu.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Fu.min(),Fu.min(),ic.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Fu.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Fu.min(),ic.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Fu.min(),ic.empty(),2)}}]),e}(),uc=Ye((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;$e(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ut=null}));function sc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new uc(e,t,n,r,i,a,o)}function cc(e){var t=gu(e);if(null===t.ut){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Hs(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Ds(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Hs(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Hs(e)})).join(",")),t.ut=n}return t.ut}function lc(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Ic(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Us(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Cc(e.startAt,t.startAt)&&Cc(e.endAt,t.endAt)}function fc(e){return zu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function hc(e,t){return e.filters.filter((function(e){return e instanceof vc&&e.field.isEqual(t)}))}function dc(e,t,n){var r,i=Vs,a=!0,o=Le(hc(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Vs,c=!0;switch(u.op){case"<":case"<=":s=ec(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=Vs}nc({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];nc({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function pc(e,t,n){var r,i=Ls,a=!0,o=Le(hc(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Ls,c=!0;switch(u.op){case">=":case">":s=tc(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=Ls}rc({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];rc({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var vc=function(e){Be(n,e);var t=We(n);function n(e,r,i){var a;return $e(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Ye(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(Bs(t,this.value)):null!==t&&js(this.value)===js(t)&&this.at(Bs(t,this.value))}},{key:"at",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return mu()}}},{key:"ht",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,r):new mc(e,t,r):"array-contains"===t?new kc(e,r):"in"===t?new wc(e,r):"not-in"===t?new xc(e,r):"array-contains-any"===t?new Ec(e,r):new n(e,t,r)}},{key:"ct",value:function(e,t,n){return"in"===t?new yc(e,n):new gc(e,n)}}]),n}(function(){return Ye((function e(){$e(this,e)}))}()),mc=function(e){Be(n,e);var t=We(n);function n(e,r,i){var a;return $e(this,n),(a=t.call(this,e,r,i)).key=zu.fromName(i.referenceValue),a}return Ye(n,[{key:"matches",value:function(e){var t=zu.comparator(e.key,this.key);return this.at(t)}}]),n}(vc),yc=function(e){Be(n,e);var t=We(n);function n(e,r){var i;return $e(this,n),(i=t.call(this,e,"in",r)).keys=bc("in",r),i}return Ye(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(vc),gc=function(e){Be(n,e);var t=We(n);function n(e,r){var i;return $e(this,n),(i=t.call(this,e,"not-in",r)).keys=bc("not-in",r),i}return Ye(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(vc);function bc(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return zu.fromName(e.referenceValue)}))}var kc=function(e){Be(n,e);var t=We(n);function n(e,r){return $e(this,n),t.call(this,e,"array-contains",r)}return Ye(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return $s(t)&&zs(t.arrayValue,this.value)}}]),n}(vc),wc=function(e){Be(n,e);var t=We(n);function n(e,r){return $e(this,n),t.call(this,e,"in",r)}return Ye(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&zs(this.value.arrayValue,t)}}]),n}(vc),xc=function(e){Be(n,e);var t=We(n);function n(e,r){return $e(this,n),t.call(this,e,"not-in",r)}return Ye(n,[{key:"matches",value:function(e){if(zs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!zs(this.value.arrayValue,t)}}]),n}(vc),Ec=function(e){Be(n,e);var t=We(n);function n(e,r){return $e(this,n),t.call(this,e,"array-contains-any",r)}return Ye(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!$s(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return zs(t.value.arrayValue,e)}))}}]),n}(vc),_c=Ye((function e(t,n){$e(this,e),this.position=t,this.inclusive=n})),Sc=Ye((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";$e(this,e),this.field=t,this.dir=n}));function Ic(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Tc(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?zu.comparator(zu.fromName(o.referenceValue),n.key):Bs(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Cc(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Us(e.position[n],t.position[n]))return!1;return!0}var Nc=Ye((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;$e(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.lt=null,this.ft=null,this.startAt,this.endAt}));function Ac(e,t,n,r,i,a,o,u){return new Nc(e,t,n,r,i,a,o,u)}function Oc(e){return new Nc(e)}function Pc(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Rc(e){var t,n=Le(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.ht())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Dc(e){return null!==e.collectionGroup}function Mc(e){var t=gu(e);if(null===t.lt){t.lt=[];var n=Rc(t),r=Pc(t);if(null!==n&&null===r)n.isKeyField()||t.lt.push(new Sc(n)),t.lt.push(new Sc(Uu.keyField(),"asc"));else{var i,a=!1,o=Le(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.lt.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.lt.push(new Sc(Uu.keyField(),s))}}}return t.lt}function Fc(e){var t=gu(e);if(!t.ft)if("F"===t.limitType)t.ft=sc(t.path,t.collectionGroup,Mc(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Le(Mc(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Sc(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new _c(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new _c(t.startAt.position,t.startAt.inclusive):null;t.ft=sc(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.ft}function Lc(e,t,n){return new Nc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Vc(e,t){return lc(Fc(e),Fc(t))&&e.limitType===t.limitType}function jc(e){return"".concat(cc(Fc(e)),"|lt:").concat(e.limitType)}function Uc(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Hs(t.value));var t})).join(", "),"]")),Ds(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Hs(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Hs(e)})).join(",")),"Target(".concat(t,")")}(Fc(e)),"; limitType=").concat(e.limitType,")")}function zc(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):zu.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Le(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Le(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Tc(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Mc(e),t))&&!(e.endAt&&!function(e,t,n){var r=Tc(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Mc(e),t))}(e,t)}function Bc(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function qc(e){return function(t,n){var r,i=!1,a=Le(Mc(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Hc(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Hc(e,t,n){var r=e.field.isKeyField()?zu.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Bs(r,i):mu()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return mu()}}function Wc(e,t){if(e.dt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ms(t)?"-0":t}}function Kc(e){return{integerValue:""+e}}function Gc(e,t){return Fs(t)?Kc(t):Wc(e,t)}var $c=Ye((function e(){$e(this,e),this._=void 0}));function Qc(e,t,n){return e instanceof Jc?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Zc?el(e,t):e instanceof tl?nl(e,t):function(e,t){var n=Xc(e,t),r=il(n)+il(e._t);return Gs(n)&&Gs(e._t)?Kc(r):Wc(e.wt,r)}(e,t)}function Yc(e,t,n){return e instanceof Zc?el(e,t):e instanceof tl?nl(e,t):n}function Xc(e,t){return e instanceof rl?Gs(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Jc=function(e){Be(n,e);var t=We(n);function n(){return $e(this,n),t.apply(this,arguments)}return Ye(n)}($c),Zc=function(e){Be(n,e);var t=We(n);function n(e){var r;return $e(this,n),(r=t.call(this)).elements=e,r}return Ye(n)}($c);function el(e,t){var n,r=al(t),i=Le(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Us(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var tl=function(e){Be(n,e);var t=We(n);function n(e){var r;return $e(this,n),(r=t.call(this)).elements=e,r}return Ye(n)}($c);function nl(e,t){var n,r=al(t),i=Le(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Us(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var rl=function(e){Be(n,e);var t=We(n);function n(e,r){var i;return $e(this,n),(i=t.call(this)).wt=e,i._t=r,i}return Ye(n)}($c);function il(e){return Ts(e.integerValue||e.doubleValue)}function al(e){return $s(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var ol=Ye((function e(t,n){$e(this,e),this.field=t,this.transform=n}));var ul=Ye((function e(t,n){$e(this,e),this.version=t,this.transformResults=n})),sl=function(){function e(t,n){$e(this,e),this.updateTime=t,this.exists=n}return Ye(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function cl(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var ll=Ye((function e(){$e(this,e)}));function fl(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new El(e.key,sl.none()):new ml(e.key,e.data,sl.none());var n,r=e.data,i=ic.empty(),a=new ks(Uu.comparator),o=Le(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new yl(e.key,i,new Es(a.toArray()),sl.none())}function hl(e,t,n){e instanceof ml?function(e,t,n){var r=e.value.clone(),i=bl(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof yl?function(e,t,n){if(cl(e.precondition,t)){var r=bl(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(gl(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function dl(e,t,n,r){return e instanceof ml?function(e,t,n,r){if(!cl(e.precondition,t))return n;var i=e.value.clone(),a=kl(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof yl?function(e,t,n,r){if(!cl(e.precondition,t))return n;var i=kl(e.fieldTransforms,r,t),a=t.data;return a.setAll(gl(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return cl(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function pl(e,t){var n,r=null,i=Le(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Xc(a.transform,o||null);null!=u&&(null===r&&(r=ic.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function vl(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ru(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Zc&&t instanceof Zc||e instanceof tl&&t instanceof tl?Ru(e.elements,t.elements,Us):e instanceof rl&&t instanceof rl?Us(e._t,t._t):e instanceof Jc&&t instanceof Jc}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var ml=function(e){Be(n,e);var t=We(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return $e(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Ye(n,[{key:"getFieldMask",value:function(){return null}}]),n}(ll),yl=function(e){Be(n,e);var t=We(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return $e(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return Ye(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(ll);function gl(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function bl(e,t,n){var r=new Map;yu(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Yc(o,u,n[i]))}return r}function kl(e,t,n){var r,i=new Map,a=Le(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Qc(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var wl,xl,El=function(e){Be(n,e);var t=We(n);function n(e,r){var i;return $e(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Ye(n,[{key:"getFieldMask",value:function(){return null}}]),n}(ll),_l=function(e){Be(n,e);var t=We(n);function n(e,r){var i;return $e(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Ye(n,[{key:"getFieldMask",value:function(){return null}}]),n}(ll),Sl=Ye((function e(t){$e(this,e),this.count=t}));function Il(e){switch(e){default:return mu();case bu.CANCELLED:case bu.UNKNOWN:case bu.DEADLINE_EXCEEDED:case bu.RESOURCE_EXHAUSTED:case bu.INTERNAL:case bu.UNAVAILABLE:case bu.UNAUTHENTICATED:return!1;case bu.INVALID_ARGUMENT:case bu.NOT_FOUND:case bu.ALREADY_EXISTS:case bu.PERMISSION_DENIED:case bu.FAILED_PRECONDITION:case bu.ABORTED:case bu.OUT_OF_RANGE:case bu.UNIMPLEMENTED:case bu.DATA_LOSS:return!0}}function Tl(e){if(void 0===e)return du("GRPC error has no .code"),bu.UNKNOWN;switch(e){case wl.OK:return bu.OK;case wl.CANCELLED:return bu.CANCELLED;case wl.UNKNOWN:return bu.UNKNOWN;case wl.DEADLINE_EXCEEDED:return bu.DEADLINE_EXCEEDED;case wl.RESOURCE_EXHAUSTED:return bu.RESOURCE_EXHAUSTED;case wl.INTERNAL:return bu.INTERNAL;case wl.UNAVAILABLE:return bu.UNAVAILABLE;case wl.UNAUTHENTICATED:return bu.UNAUTHENTICATED;case wl.INVALID_ARGUMENT:return bu.INVALID_ARGUMENT;case wl.NOT_FOUND:return bu.NOT_FOUND;case wl.ALREADY_EXISTS:return bu.ALREADY_EXISTS;case wl.PERMISSION_DENIED:return bu.PERMISSION_DENIED;case wl.FAILED_PRECONDITION:return bu.FAILED_PRECONDITION;case wl.ABORTED:return bu.ABORTED;case wl.OUT_OF_RANGE:return bu.OUT_OF_RANGE;case wl.UNIMPLEMENTED:return bu.UNIMPLEMENTED;case wl.DATA_LOSS:return bu.DATA_LOSS;default:return mu()}}(xl=wl||(wl={}))[xl.OK=0]="OK",xl[xl.CANCELLED=1]="CANCELLED",xl[xl.UNKNOWN=2]="UNKNOWN",xl[xl.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xl[xl.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xl[xl.NOT_FOUND=5]="NOT_FOUND",xl[xl.ALREADY_EXISTS=6]="ALREADY_EXISTS",xl[xl.PERMISSION_DENIED=7]="PERMISSION_DENIED",xl[xl.UNAUTHENTICATED=16]="UNAUTHENTICATED",xl[xl.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xl[xl.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xl[xl.ABORTED=10]="ABORTED",xl[xl.OUT_OF_RANGE=11]="OUT_OF_RANGE",xl[xl.UNIMPLEMENTED=12]="UNIMPLEMENTED",xl[xl.INTERNAL=13]="INTERNAL",xl[xl.UNAVAILABLE=14]="UNAVAILABLE",xl[xl.DATA_LOSS=15]="DATA_LOSS";var Cl=function(){function e(t,n){$e(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Ye(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Le(n);try{for(i.s();!(r=i.n()).done;){var a=Oe(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){vs(this.inner,(function(t,n){var r,i=Le(n);try{for(i.s();!(r=i.n()).done;){var a=Oe(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return ms(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Nl=new ys(zu.comparator);function Al(){return Nl}var Ol=new ys(zu.comparator);function Pl(){for(var e=Ol,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Rl(e){var t=Ol;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Dl(){return Fl()}function Ml(){return Fl()}function Fl(){return new Cl((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Ll=new ys(zu.comparator),Vl=new ks(zu.comparator);function jl(){for(var e=Vl,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Ul=new ks(Pu);function zl(){return Ul}var Bl=function(){function e(t,n,r,i,a){$e(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Ye(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,ql.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Fu.min(),r,zl(),Al(),jl())}}]),e}(),ql=function(){function e(t,n,r,i,a){$e(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Ye(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(_s.EMPTY_BYTE_STRING,n,jl(),jl(),jl())}}]),e}(),Hl=Ye((function e(t,n,r,i){$e(this,e),this.gt=t,this.removedTargetIds=n,this.key=r,this.yt=i})),Wl=Ye((function e(t,n){$e(this,e),this.targetId=t,this.It=n})),Kl=Ye((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_s.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;$e(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Gl=function(){function e(){$e(this,e),this.Tt=0,this.Et=Yl(),this.At=_s.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}return Ye(e,[{key:"current",get:function(){return this.Rt}},{key:"resumeToken",get:function(){return this.At}},{key:"Pt",get:function(){return 0!==this.Tt}},{key:"vt",get:function(){return this.bt}},{key:"Vt",value:function(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}},{key:"St",value:function(){var e=jl(),t=jl(),n=jl();return this.Et.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:mu()}})),new ql(this.At,this.Rt,e,t,n)}},{key:"Dt",value:function(){this.bt=!1,this.Et=Yl()}},{key:"Ct",value:function(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}},{key:"xt",value:function(e){this.bt=!0,this.Et=this.Et.remove(e)}},{key:"Nt",value:function(){this.Tt+=1}},{key:"kt",value:function(){this.Tt-=1}},{key:"Ot",value:function(){this.bt=!0,this.Rt=!0}}]),e}(),$l=function(){function e(t){$e(this,e),this.Mt=t,this.Ft=new Map,this.$t=Al(),this.Bt=Ql(),this.Lt=new ks(Pu)}return Ye(e,[{key:"Ut",value:function(e){var t,n=Le(e.gt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.yt&&e.yt.isFoundDocument()?this.qt(r,e.yt):this.Kt(r,e.key,e.yt)}}catch(u){n.e(u)}finally{n.f()}var i,a=Le(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Kt(o,e.key,e.yt)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Gt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Qt(n);switch(e.state){case 0:t.jt(n)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||t.removeTarget(n);break;case 3:t.jt(n)&&(r.Ot(),r.Vt(e.resumeToken));break;case 4:t.jt(n)&&(t.Wt(n),r.Vt(e.resumeToken));break;default:mu()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((function(e,r){n.jt(r)&&t(r)}))}},{key:"zt",value:function(e){var t=e.targetId,n=e.It.count,r=this.Ht(t);if(r){var i=r.target;if(fc(i))if(0===n){var a=new zu(i.path);this.Kt(t,a,oc.newNoDocument(a,Fu.min()))}else yu(1===n);else this.Jt(t)!==n&&(this.Wt(t),this.Lt=this.Lt.add(t))}}},{key:"Yt",value:function(e){var t=this,n=new Map;this.Ft.forEach((function(r,i){var a=t.Ht(i);if(a){if(r.current&&fc(a.target)){var o=new zu(a.target.path);null!==t.$t.get(o)||t.Xt(i,o)||t.Kt(i,o,oc.newNoDocument(o,e))}r.vt&&(n.set(i,r.St()),r.Dt())}}));var r=jl();this.Bt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Ht(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.$t.forEach((function(t,n){return n.setReadTime(e)}));var i=new Bl(e,n,this.Lt,this.$t,r);return this.$t=Al(),this.Bt=Ql(),this.Lt=new ks(Pu),i}},{key:"qt",value:function(e,t){if(this.jt(e)){var n=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,n),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}}},{key:"Kt",value:function(e,t,n){if(this.jt(e)){var r=this.Qt(e);this.Xt(e,t)?r.Ct(t,1):r.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),n&&(this.$t=this.$t.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Ft.delete(e)}},{key:"Jt",value:function(e){var t=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Nt",value:function(e){this.Qt(e).Nt()}},{key:"Qt",value:function(e){var t=this.Ft.get(e);return t||(t=new Gl,this.Ft.set(e,t)),t}},{key:"Zt",value:function(e){var t=this.Bt.get(e);return t||(t=new ks(Pu),this.Bt=this.Bt.insert(e,t)),t}},{key:"jt",value:function(e){var t=null!==this.Ht(e);return t||hu("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Ht",value:function(e){var t=this.Ft.get(e);return t&&t.Pt?null:this.Mt.te(e)}},{key:"Wt",value:function(e){var t=this;this.Ft.set(e,new Gl),this.Mt.getRemoteKeysForTarget(e).forEach((function(n){t.Kt(e,n,null)}))}},{key:"Xt",value:function(e,t){return this.Mt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Ql(){return new ys(zu.comparator)}function Yl(){return new ys(zu.comparator)}var Xl={asc:"ASCENDING",desc:"DESCENDING"},Jl={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Zl=Ye((function e(t,n){$e(this,e),this.databaseId=t,this.dt=n}));function ef(e,t){return e.dt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function tf(e,t){return e.dt?t.toBase64():t.toUint8Array()}function nf(e,t){return ef(e,t.toTimestamp())}function rf(e){return yu(!!e),Fu.fromTimestamp(function(e){var t=Is(e);return new Mu(t.seconds,t.nanos)}(e))}function af(e,t){return function(e){return new Vu(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function of(e){var t=Vu.fromString(e);return yu(Nf(t)),t}function uf(e,t){return af(e.databaseId,t.path)}function sf(e,t){var n=of(t);if(n.get(1)!==e.databaseId.projectId)throw new ku(bu.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ku(bu.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new zu(hf(n))}function cf(e,t){return af(e.databaseId,t)}function lf(e){var t=of(e);return 4===t.length?Vu.emptyPath():hf(t)}function ff(e){return new Vu(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function hf(e){return yu(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function df(e,t,n){return{name:uf(e,t),fields:n.value.mapValue.fields}}function pf(e,t,n){var r=sf(e,t.name),i=rf(t.updateTime),a=new ic({mapValue:{fields:t.fields}}),o=oc.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function vf(e,t){return"found"in t?function(e,t){yu(!!t.found),t.found.name,t.found.updateTime;var n=sf(e,t.found.name),r=rf(t.found.updateTime),i=new ic({mapValue:{fields:t.found.fields}});return oc.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){yu(!!t.missing),yu(!!t.readTime);var n=sf(e,t.missing),r=rf(t.readTime);return oc.newNoDocument(n,r)}(e,t):mu()}function mf(e,t){var n;if(t instanceof ml)n={update:df(e,t.key,t.value)};else if(t instanceof El)n={delete:uf(e,t.key)};else if(t instanceof yl)n={update:df(e,t.key,t.data),updateMask:Cf(t.fieldMask)};else{if(!(t instanceof _l))return mu();n={verify:uf(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Jc)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Zc)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof tl)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof rl)return{fieldPath:t.field.canonicalString(),increment:n._t};throw mu()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:nf(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:mu()}(e,t.precondition)),n}function yf(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?sl.updateTime(rf(e.updateTime)):void 0!==e.exists?sl.exists(e.exists):sl.none()}(t.currentDocument):sl.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)yu("REQUEST_TIME"===t.setToServerValue),n=new Jc;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Zc(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new tl(i)}else"increment"in t?n=new rl(e,t.increment):mu();var a=Uu.fromServerFormat(t.fieldPath);return new ol(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=sf(e,t.update.name),a=new ic({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Es(t.map((function(e){return Uu.fromServerFormat(e)})))}(t.updateMask);return new yl(i,a,o,n,r)}return new ml(i,a,n,r)}if(t.delete){var u=sf(e,t.delete);return new El(u,n)}if(t.verify){var s=sf(e,t.verify);return new _l(s,n)}return mu()}function gf(e,t){return{documents:[cf(e,t.path)]}}function bf(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=cf(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=cf(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Ys(e.value))return{unaryFilter:{field:_f(e.field),op:"IS_NAN"}};if(Qs(e.value))return{unaryFilter:{field:_f(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ys(e.value))return{unaryFilter:{field:_f(e.field),op:"IS_NOT_NAN"}};if(Qs(e.value))return{unaryFilter:{field:_f(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_f(e.field),op:Ef(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:_f(e.field),direction:xf(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.dt||Ds(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function kf(e){var t=lf(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){yu(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=wf(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Sc(Sf(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Ds(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new _c(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new _c(n,t)}(n.endAt)),Ac(t,i,u,o,s,"F",c,l)}function wf(e){return e?void 0!==e.unaryFilter?[Tf(e)]:void 0!==e.fieldFilter?[If(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return wf(e)})).reduce((function(e,t){return e.concat(t)})):mu():[]}function xf(e){return Xl[e]}function Ef(e){return Jl[e]}function _f(e){return{fieldPath:e.canonicalString()}}function Sf(e){return Uu.fromServerFormat(e.fieldPath)}function If(e){return vc.create(Sf(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return mu()}}(e.fieldFilter.op),e.fieldFilter.value)}function Tf(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Sf(e.unaryFilter.field);return vc.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Sf(e.unaryFilter.field);return vc.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Sf(e.unaryFilter.field);return vc.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Sf(e.unaryFilter.field);return vc.create(i,"!=",{nullValue:"NULL_VALUE"});default:return mu()}}function Cf(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Nf(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Af(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Pf(t)),t=Of(e.get(n),t);return Pf(t)}function Of(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Pf(e){return e+"\x01\x01"}function Rf(e){var t=e.length;if(yu(t>=2),2===t)return yu("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Vu.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&mu(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:mu()}a=o+2}return new Vu(r)}var Df=["userId","batchId"];function Mf(e,t){return[e,Af(t)]}function Ff(e,t,n){return[e,Af(t),n]}var Lf={},Vf=["prefixPath","collectionGroup","readTime","documentId"],jf=["prefixPath","collectionGroup","documentId"],Uf=["collectionGroup","readTime","prefixPath","documentId"],zf=["canonicalId","targetId"],Bf=["targetId","path"],qf=["path","targetId"],Hf=["collectionId","parent"],Wf=["indexId","uid"],Kf=["uid","sequenceNumber"],Gf=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],$f=["indexId","uid","orderedDocumentKey"],Qf=["userId","collectionPath","documentId"],Yf=["userId","collectionPath","largestBatchId"],Xf=["userId","collectionGroup","largestBatchId"],Jf=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Zf=[].concat(Ge(Jf),["documentOverlays"]),eh=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],th=eh,nh=[].concat(th,["indexConfiguration","indexState","indexEntries"]),rh=function(e){Be(n,e);var t=We(n);function n(e,r){var i;return $e(this,n),(i=t.call(this)).ee=e,i.currentSequenceNumber=r,i}return Ye(n)}(Ju);function ih(e,t){var n=gu(e);return rs.N(n.ee,t)}var ah=function(){function e(t,n,r,i){$e(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Ye(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&hl(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=Le(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=dl(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=Le(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=dl(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Ml();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=fl(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(Fu.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),jl())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Ru(this.mutations,e.mutations,(function(e,t){return vl(e,t)}))&&Ru(this.baseMutations,e.baseMutations,(function(e,t){return vl(e,t)}))}}]),e}(),oh=function(){function e(t,n,r,i){$e(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Ye(e,null,[{key:"from",value:function(t,n,r){yu(t.mutations.length===r.length);for(var i=Ll,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),uh=function(){function e(t,n){$e(this,e),this.largestBatchId=t,this.mutation=n}return Ye(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),sh=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Fu.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Fu.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:_s.EMPTY_BYTE_STRING;$e(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return Ye(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),ch=Ye((function e(t){$e(this,e),this.ne=t}));function lh(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:fh(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:uf(e,t.key),fields:t.data.value.mapValue.fields,updateTime:ef(e,t.version.toTimestamp())}}(e.ne,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:hh(t.version)};else{if(!t.isUnknownDocument())return mu();r.unknownDocument={path:n.path.toArray(),version:hh(t.version)}}return r}function fh(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function hh(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function dh(e){var t=new Mu(e.seconds,e.nanoseconds);return Fu.fromTimestamp(t)}function ph(e,t){for(var n=(t.baseMutations||[]).map((function(t){return yf(e.ne,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return yf(e.ne,t)})),u=Mu.fromMillis(t.localWriteTimeMs);return new ah(t.batchId,u,n,o)}function vh(e){var t,n,r=dh(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?dh(e.lastLimboFreeSnapshotVersion):Fu.min();return void 0!==e.query.documents?(yu(1===(n=e.query).documents.length),t=Fc(Oc(lf(n.documents[0])))):t=function(e){return Fc(kf(e))}(e.query),new sh(t,e.targetId,0,e.lastListenSequenceNumber,r,i,_s.fromBase64String(e.resumeToken))}function mh(e,t){var n,r=hh(t.snapshotVersion),i=hh(t.lastLimboFreeSnapshotVersion);n=fc(t.target)?gf(e.ne,t.target):bf(e.ne,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:cc(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function yh(e){var t=kf({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Lc(t,t.limit,"L"):t}function gh(e,t){return new uh(t.largestBatchId,yf(e.ne,t.overlayMutation))}function bh(e,t){var n=t.path.lastSegment();return[e,Af(t.path.popLast()),n]}function kh(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:hh(r.readTime),documentKey:Af(r.documentKey.path),largestBatchId:r.largestBatchId}}var wh=function(){function e(){$e(this,e)}return Ye(e,[{key:"getBundleMetadata",value:function(e,t){return xh(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:dh(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return xh(e).put({bundleId:(n=t).id,createTime:hh(rf(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Eh(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:yh(t.bundledQuery),readTime:dh(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Eh(e).put(function(e){return{name:e.name,readTime:hh(rf(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function xh(e){return ih(e,"bundles")}function Eh(e){return ih(e,"namedQueries")}var _h=function(){function e(t,n){$e(this,e),this.wt=t,this.userId=n}return Ye(e,[{key:"getOverlay",value:function(e,t){var n=this;return Sh(e).get(bh(this.userId,t)).next((function(e){return e?gh(n.wt,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=Dl();return ts.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new uh(t,a);i.push(r.ie(e,o))})),ts.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Af(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Sh(e).W("collectionPathOverlayIndex",i))})),ts.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Dl(),a=Af(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Sh(e).K("collectionPathOverlayIndex",o).next((function(e){var t,n=Le(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=gh(r.wt,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Dl(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Sh(e).J({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=gh(a.wt,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ie",value:function(e,t){return Sh(e).put(function(e,t,n){var r=Oe(bh(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:mf(e.ne,n.mutation)}}(this.wt,this.userId,t))}}],[{key:"se",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Sh(e){return ih(e,"documentOverlays")}var Ih=function(){function e(){$e(this,e)}return Ye(e,[{key:"re",value:function(e,t){this.oe(e,t),t.ue()}},{key:"oe",value:function(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(Ts(e.integerValue));else if("doubleValue"in e){var n=Ts(e.doubleValue);isNaN(n)?this.ce(t,13):(this.ce(t,15),Ms(n)?t.ae(0):t.ae(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ce(t,20),"string"==typeof r?t.he(r):(t.he("".concat(r.seconds||"")),t.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(Cs(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ce(t,45),t.ae(i.latitude||0),t.ae(i.longitude||0)}else"mapValue"in e?Zs(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):mu()}},{key:"le",value:function(e,t){this.ce(t,25),this.ge(e,t)}},{key:"ge",value:function(e,t){t.he(e)}},{key:"we",value:function(e,t){var n=e.fields||{};this.ce(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.le(a,t),this.oe(n[a],t)}}},{key:"me",value:function(e,t){var n=e.values||[];this.ce(t,50);var r,i=Le(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.oe(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"_e",value:function(e,t){var n=this;this.ce(t,37),zu.fromName(e).path.forEach((function(e){n.ce(t,60),n.ge(e,t)}))}},{key:"ce",value:function(e,t){e.ae(t)}},{key:"fe",value:function(e){e.ae(2)}}]),e}();function Th(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Ch(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Th(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Ih.ye=new Ih;var Nh=function(){function e(){$e(this,e),this.buffer=new Uint8Array(1024),this.position=0}return Ye(e,[{key:"pe",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ie(n.value),n=t.next();this.Te()}},{key:"Ee",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ae(n.value),n=t.next();this.Re()}},{key:"be",value:function(e){var t,n=Le(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ie(i);else if(i<2048)this.Ie(960|i>>>6),this.Ie(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ie(480|i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i);else{var a=r.codePointAt(0);this.Ie(240|a>>>18),this.Ie(128|63&a>>>12),this.Ie(128|63&a>>>6),this.Ie(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Te()}},{key:"Pe",value:function(e){var t,n=Le(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{var a=r.codePointAt(0);this.Ae(240|a>>>18),this.Ae(128|63&a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Re()}},{key:"ve",value:function(e){var t=this.Ve(e),n=Ch(t);this.Se(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"De",value:function(e){var t=this.Ve(e),n=Ch(t);this.Se(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Ce",value:function(){this.xe(255),this.xe(255)}},{key:"Ne",value:function(){this.ke(255),this.ke(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Oe",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ve",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ie",value:function(e){var t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}},{key:"Ae",value:function(e){var t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}},{key:"Te",value:function(){this.xe(0),this.xe(1)}},{key:"Re",value:function(){this.ke(0),this.ke(1)}},{key:"xe",value:function(e){this.Se(1),this.buffer[this.position++]=e}},{key:"ke",value:function(e){this.Se(1),this.buffer[this.position++]=~e}},{key:"Se",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Ah=function(){function e(t){$e(this,e),this.Me=t}return Ye(e,[{key:"de",value:function(e){this.Me.pe(e)}},{key:"he",value:function(e){this.Me.be(e)}},{key:"ae",value:function(e){this.Me.ve(e)}},{key:"ue",value:function(){this.Me.Ce()}}]),e}(),Oh=function(){function e(t){$e(this,e),this.Me=t}return Ye(e,[{key:"de",value:function(e){this.Me.Ee(e)}},{key:"he",value:function(e){this.Me.Pe(e)}},{key:"ae",value:function(e){this.Me.De(e)}},{key:"ue",value:function(){this.Me.Ne()}}]),e}(),Ph=function(){function e(){$e(this,e),this.Me=new Nh,this.Fe=new Ah(this.Me),this.$e=new Oh(this.Me)}return Ye(e,[{key:"seed",value:function(e){this.Me.seed(e)}},{key:"Be",value:function(e){return 0===e?this.Fe:this.$e}},{key:"Oe",value:function(){return this.Me.Oe()}},{key:"reset",value:function(){this.Me.reset()}}]),e}(),Rh=function(){function e(t,n,r,i){$e(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return Ye(e,[{key:"Le",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Dh(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Mh(e.arrayValue,t.arrayValue))?n:0!==(n=Mh(e.directionalValue,t.directionalValue))?n:zu.comparator(e.documentKey,t.documentKey)}function Mh(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Fh=function(){function e(t){$e(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ue=t.orderBy,this.qe=[];var n,r=Le(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.ht()?this.Ke=i:this.qe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return Ye(e,[{key:"Ge",value:function(e){var t=qu(e);if(void 0!==t&&!this.Qe(t))return!1;for(var n=Hu(e),r=0,i=0;r<n.length&&this.Qe(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Ke){var a=n[r];if(!this.je(this.Ke,a)||!this.We(this.Ue[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ue.length||!this.We(this.Ue[i++],o))return!1}return!0}},{key:"Qe",value:function(e){var t,n=Le(this.qe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.je(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"je",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"We",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),Lh=function(){function e(){$e(this,e),this.ze=new Vh}return Ye(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.ze.add(t),ts.resolve()}},{key:"getCollectionParents",value:function(e,t){return ts.resolve(this.ze.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return ts.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return ts.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return ts.resolve(null)}},{key:"getIndexType",value:function(e,t){return ts.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return ts.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return ts.resolve(null)}},{key:"getMinOffset",value:function(e,t){return ts.resolve(Qu.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return ts.resolve(Qu.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return ts.resolve()}},{key:"updateIndexEntries",value:function(e,t){return ts.resolve()}}]),e}(),Vh=function(){function e(){$e(this,e),this.index={}}return Ye(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ks(Vu.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new ks(Vu.comparator)).toArray()}}]),e}(),jh=new Uint8Array(0),Uh=function(){function e(t,n){$e(this,e),this.user=t,this.databaseId=n,this.He=new Vh,this.Je=new Cl((function(e){return cc(e)}),(function(e,t){return lc(e,t)})),this.uid=t.uid||""}return Ye(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.He.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.He.add(t)}));var a={collectionId:r,parent:Af(i)};return zh(e).put(a)}return ts.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Du(t),""],!1,!0);return zh(e).K(r).next((function(e){var r,i=Le(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Rf(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=qh(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=Hh(e);return a.next((function(e){o.put(kh(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=qh(e),r=Hh(e),i=Bh(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=Bh(e),i=!0,a=new Map;return ts.forEach(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=jl(),o=[];return ts.forEach(a,(function(i,a){var u;hu("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(cc(t)));var s=function(e,t){var n=qu(t);if(void 0===n)return null;var r,i=Le(hc(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=Le(Hu(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=Le(hc(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=Le(Hu(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?dc(e,o.fieldPath,e.startAt):pc(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new _c(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=Le(Hu(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?pc(e,o.fieldPath,e.endAt):dc(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new _c(r,i)}(a,i),h=n.Ze(i,a,l),d=n.Ze(i,a,f),p=n.tn(i,a,c),v=n.en(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return ts.forEach(v,(function(n){return r.j(n,t.limit).next((function(t){t.forEach((function(t){var n=zu.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return ts.resolve(null)}))}},{key:"Ye",value:function(e){var t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}},{key:"en",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.nn(t[s/c]):jh,h=u.sn(e,f,n[s%c],r),d=u.rn(e,f,i[s%c],a),p=o.map((function(t){return u.sn(e,f,t,!0)}));l.push.apply(l,Ge(u.createRange(h,d,p)))},h=0;h<s;++h)f(h);return l}},{key:"sn",value:function(e,t,n,r){var i=new Rh(e,zu.empty(),t,n);return r?i:i.Le()}},{key:"rn",value:function(e,t,n,r){var i=new Rh(e,zu.empty(),t,n);return r?i.Le():i}},{key:"Xe",value:function(e,t){var n=new Fh(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=Le(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.Ge(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return ts.forEach(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new ks(Uu.comparator),r=!1,i=Le(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(c){i.e(c)}finally{i.f()}var o,u=Le(e.orderBy);try{for(u.s();!(o=u.n()).done;){var s=o.value;s.field.isKeyField()||(n=n.add(s.field))}}catch(c){u.e(c)}finally{u.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"on",value:function(e,t){var n,r=new Ph,i=Le(Hu(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Be(a.kind);Ih.ye.re(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Oe()}},{key:"nn",value:function(e){var t=new Ph;return Ih.ye.re(e,t.Be(0)),t.Oe()}},{key:"un",value:function(e,t){var n=new Ph;return Ih.ye.re(Ks(this.databaseId,t),n.Be(function(e){var t=Hu(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Oe()}},{key:"tn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Ph);var i,a=0,o=Le(Hu(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=Le(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.cn(t,s.fieldPath)&&$s(c))r=this.an(r,s,c);else{var h=f.Be(s.kind);Ih.ye.re(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.hn(r)}},{key:"Ze",value:function(e,t,n){return this.tn(e,t,n.position)}},{key:"hn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Oe();return t}},{key:"an",value:function(e,t,n){var r,i=Ge(e),a=[],o=Le(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=Le(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new Ph;f.seed(l.Oe()),Ih.ye.re(s,f.Be(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"cn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof vc&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=qh(e),i=Hh(e);return(t?r.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.K()).next((function(e){var t=[];return ts.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Ku(t.sequenceNumber,new Qu(dh(t.readTime),new zu(Rf(t.documentKey)),t.largestBatchId)):Ku.empty(),r=e.fields.map((function(e){var t=Oe(e,2),n=t[0],r=t[1];return new Wu(Uu.fromServerFormat(n),r)}));return new Bu(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Pu(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=qh(e),a=Hh(e);return this.ln(e).next((function(e){return i.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return ts.forEach(t,(function(t){return a.put(kh(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return ts.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?ts.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),ts.forEach(a,(function(r){return n.fn(e,t,r).next((function(t){var a=n.dn(i,r);return t.isEqual(a)?ts.resolve():n._n(e,i,r,t,a)}))}))}))}))}},{key:"wn",value:function(e,t,n,r){return Bh(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.un(n,t.key),documentKey:t.key.path.toArray()})}},{key:"mn",value:function(e,t,n,r){return Bh(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.un(n,t.key),t.key.path.toArray()])}},{key:"fn",value:function(e,t,n){var r=Bh(e),i=new ks(Dh);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.un(n,t)])},(function(e,r){i=i.add(new Rh(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"dn",value:function(e,t){var n=new ks(Dh),r=this.on(t,e);if(null==r)return n;var i=qu(t);if(null!=i){var a=e.data.field(i.fieldPath);if($s(a)){var o,u=Le(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new Rh(t.indexId,e.key,this.nn(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new Rh(t.indexId,e.key,jh,r));return n}},{key:"_n",value:function(e,t,n,r,i){var a=this;hu("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=xs(a),s=xs(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=xs(o)):l?(i(u),u=xs(a)):(u=xs(a),s=xs(o))}}(r,i,Dh,(function(r){o.push(a.wn(e,t,n,r))}),(function(r){o.push(a.mn(e,t,n,r))})),ts.waitFor(o)}},{key:"ln",value:function(e){var t=1;return Hh(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Dh(e,t)})).filter((function(e,t,n){return!t||0!==Dh(e,n[t-1])}));var r=[];r.push(e);var i,a=Le(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=Dh(o,e),s=Dh(o,t);if(0===u)r[0]=e.Le();else if(u>0&&s<0)r.push(o),r.push(o.Le());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,jh,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,jh,[]]));return c}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(Wh)}},{key:"getMinOffset",value:function(e,t){var n=this;return ts.mapArray(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){return e||mu()}))})).next(Wh)}}]),e}();function zh(e){return ih(e,"collectionParents")}function Bh(e){return ih(e,"indexEntries")}function qh(e){return ih(e,"indexConfiguration")}function Hh(e){return ih(e,"indexState")}function Wh(e){yu(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;Yu(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Qu(t.readTime,t.documentKey,n)}var Kh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Gh=function(){function e(t,n,r){$e(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Ye(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function $h(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.J({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){yu(1===u)})));var c,l=[],f=Le(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Ff(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return ts.waitFor(a).next((function(){return l}))}function Qh(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw mu();t=e.noDocument}return JSON.stringify(t).length}Gh.DEFAULT_COLLECTION_PERCENTILE=10,Gh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gh.DEFAULT=new Gh(41943040,Gh.DEFAULT_COLLECTION_PERCENTILE,Gh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gh.DISABLED=new Gh(-1,0,0);var Yh=function(){function e(t,n,r,i){$e(this,e),this.userId=t,this.wt=n,this.indexManager=r,this.referenceDelegate=i,this.gn={}}return Ye(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Jh(e).J({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Zh(e),o=Jh(e);return o.add({}).next((function(u){yu("number"==typeof u);var s,c=new ah(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return mf(e.ne,t)})),i=n.mutations.map((function(t){return mf(e.ne,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.wt,i.userId,c),f=[],h=new ks((function(e,t){return Pu(e.canonicalString(),t.canonicalString())})),d=Le(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=Ff(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Lf))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.gn[u]=c.keys()})),ts.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Jh(e).get(t).next((function(e){return e?(yu(e.userId===n.userId),ph(n.wt,e)):null}))}},{key:"yn",value:function(e,t){var n=this;return this.gn[t]?ts.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.gn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Jh(e).J({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(yu(t.batchId>=r),a=ph(n.wt,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Jh(e).J({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Jh(e).K("userMutationsIndex",n).next((function(e){return e.map((function(e){return ph(t.wt,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Mf(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Zh(e).J({range:i},(function(r,i,o){var u=Oe(r,3),s=u[0],c=u[1],l=u[2],f=Rf(c);if(s===n.userId&&t.path.isEqual(f))return Jh(e).get(l).next((function(e){if(!e)throw mu();yu(e.userId===n.userId),a.push(ph(n.wt,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new ks(Pu),i=[];return t.forEach((function(t){var a=Mf(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=Zh(e).J({range:o},(function(e,i,a){var o=Oe(e,3),u=o[0],s=o[1],c=o[2],l=Rf(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),ts.waitFor(i).next((function(){return n.pn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Mf(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new ks(Pu);return Zh(e).J({range:o},(function(e,t,a){var o=Oe(e,3),s=o[0],c=o[1],l=o[2],f=Rf(c);s===n.userId&&r.isPrefixOf(f)?f.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.pn(e,u)}))}},{key:"pn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Jh(e).get(t).next((function(e){if(null===e)throw mu();yu(e.userId===n.userId),r.push(ph(n.wt,e))})))})),ts.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return $h(e.ee,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.In(t.batchId)})),ts.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"In",value:function(e){delete this.gn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return ts.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return Zh(e).J({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Rf(e[1]);i.push(a)}else r.done()})).next((function(){yu(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return Xh(e,this.userId,t)}},{key:"Tn",value:function(e){var t=this;return ed(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"se",value:function(t,n,r,i){return yu(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Xh(e,t,n){var r=Mf(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return Zh(e).J({range:a,H:!0},(function(e,n,r){var a=Oe(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function Jh(e){return ih(e,"mutations")}function Zh(e){return ih(e,"documentMutations")}function ed(e){return ih(e,"mutationQueues")}var td=function(){function e(t){$e(this,e),this.En=t}return Ye(e,[{key:"next",value:function(){return this.En+=2,this.En}}],[{key:"An",value:function(){return new e(0)}},{key:"Rn",value:function(){return new e(-1)}}]),e}(),nd=function(){function e(t,n){$e(this,e),this.referenceDelegate=t,this.wt=n}return Ye(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.bn(e).next((function(n){var r=new td(n.highestTargetId);return n.highestTargetId=r.next(),t.Pn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.bn(e).next((function(e){return Fu.fromTimestamp(new Mu(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.bn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.bn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Pn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.vn(e,t).next((function(){return n.bn(e).next((function(r){return r.targetCount+=1,n.Vn(t,r),n.Pn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.vn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return rd(e).delete(t.targetId)})).next((function(){return n.bn(e)})).next((function(t){return yu(t.targetCount>0),t.targetCount-=1,n.Pn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return rd(e).J((function(o,u){var s=vh(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return ts.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return rd(e).J((function(e,n){var r=vh(n);t(r)}))}},{key:"bn",value:function(e){return id(e).get("targetGlobalKey").next((function(e){return yu(null!==e),e}))}},{key:"Pn",value:function(e,t){return id(e).put("targetGlobalKey",t)}},{key:"vn",value:function(e,t){return rd(e).put(mh(this.wt,t))}},{key:"Vn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.bn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=cc(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return rd(e).J({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=vh(n);lc(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=ad(e);return t.forEach((function(t){var o=Af(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),ts.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=ad(e);return ts.forEach(t,(function(t){var a=Af(t.path);return ts.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=ad(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=ad(e),i=jl();return r.J({range:n,H:!0},(function(e,t,n){var r=Rf(e[1]),a=new zu(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Af(t.path),r=IDBKeyRange.bound([n],[Du(n)],!1,!0),i=0;return ad(e).J({index:"documentTargetsIndex",H:!0,range:r},(function(e,t,n){var r=Oe(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"te",value:function(e,t){return rd(e).get(t).next((function(e){return e?vh(e):null}))}}]),e}();function rd(e){return ih(e,"targets")}function id(e){return ih(e,"targetGlobal")}function ad(e){return ih(e,"targetDocuments")}function od(e,t){var n=Oe(e,2),r=n[0],i=n[1],a=Oe(t,2),o=a[0],u=a[1],s=Pu(r,o);return 0===s?Pu(i,u):s}var ud=function(){function e(t){$e(this,e),this.Sn=t,this.buffer=new ks(od),this.Dn=0}return Ye(e,[{key:"Cn",value:function(){return++this.Dn}},{key:"xn",value:function(e){var t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();od(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),sd=function(){function e(t,n,r){$e(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Nn=null}return Ye(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}},{key:"stop",value:function(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}},{key:"started",get:function(){return null!==this.Nn}},{key:"kn",value:function(e){var t=this;hu("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,ze(je().mark((function e(){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Nn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!os(e.t0)){e.next=12;break}hu("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,Zu(e.t0);case 14:return e.next=16,t.kn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),cd=function(){function e(t,n){$e(this,e),this.On=t,this.params=n}return Ye(e,[{key:"calculateTargetCount",value:function(e,t){return this.On.Mn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return ts.resolve(ds.ot);var r=new ud(t);return this.On.forEachTarget(e,(function(e){return r.xn(e.sequenceNumber)})).next((function(){return n.On.Fn(e,(function(e){return r.xn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.On.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.On.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(hu("LruGarbageCollector","Garbage collection skipped; disabled"),ts.resolve(Kh)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(hu("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Kh):n.$n(e,t)}))}},{key:"getCacheSize",value:function(e){return this.On.getCacheSize(e)}},{key:"$n",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(hu("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),fu()<=Pt.DEBUG&&hu("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),ts.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),ld=function(){function e(t,n){$e(this,e),this.db=t,this.garbageCollector=function(e,t){return new cd(e,t)}(this,n)}return Ye(e,[{key:"Mn",value:function(e){var t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Bn",value:function(e){var t=0;return this.Fn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Fn",value:function(e,t){return this.Ln(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return fd(e,n)}},{key:"removeReference",value:function(e,t,n){return fd(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return fd(e,t)}},{key:"Un",value:function(e,t){return function(e,t){var n=!1;return ed(e).Y((function(r){return Xh(e,r,t).next((function(e){return e&&(n=!0),ts.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Ln(e,(function(o,u){if(u<=t){var s=n.Un(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Fu.min()),ad(e).delete([0,Af(o.path)])}))}));i.push(s)}})).next((function(){return ts.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return fd(e,t)}},{key:"Ln",value:function(e,t){var n,r=ad(e),i=ds.ot;return r.J({index:"documentTargetsIndex"},(function(e,r){var a=Oe(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==ds.ot&&t(new zu(Rf(n)),i),i=s,n=u):i=ds.ot})).next((function(){i!==ds.ot&&t(new zu(Rf(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function fd(e,t){return ad(e).put(function(e,t){return{targetId:0,path:Af(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var hd=function(){function e(){$e(this,e),this.changes=new Cl((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Ye(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,oc.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?ts.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),dd=function(){function e(t){$e(this,e),this.wt=t}return Ye(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return yd(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return yd(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],fh(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=oc.newInvalidDocument(t);return yd(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(gd(t))},(function(e,i){r=n.Kn(t,i)})).next((function(){return r}))}},{key:"Gn",value:function(e,t){var n=this,r={size:0,document:oc.newInvalidDocument(t)};return yd(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(gd(t))},(function(e,i){r={document:n.Kn(t,i),size:Qh(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Al();return this.Qn(e,t,(function(e,t){var i=n.Kn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"jn",value:function(e,t){var n=this,r=Al(),i=new ys(zu.comparator);return this.Qn(e,t,(function(e,t){var a=n.Kn(e,t);r=r.insert(e,a),i=i.insert(e,Qh(t))})).next((function(){return{documents:r,Wn:i}}))}},{key:"Qn",value:function(e,t,n){if(t.isEmpty())return ts.resolve();var r=new ks(kd);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(gd(r.first()),gd(r.last())),a=r.getIterator(),o=a.getNext();return yd(e).J({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=zu.fromSegments([].concat(Ge(t.prefixPath),[t.collectionGroup,t.documentId]));o&&kd(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.q(gd(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),fh(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return yd(e).K(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=Al(),i=Le(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.Kn(zu.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Al(),o=bd(t,n),u=bd(t,Qu.max());return yd(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.Kn(zu.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new vd(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return md(e).get("remoteDocumentGlobalKey").next((function(e){return yu(!!e),e}))}},{key:"qn",value:function(e,t){return md(e).put("remoteDocumentGlobalKey",t)}},{key:"Kn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=pf(e.ne,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=zu.fromSegments(t.noDocument.path),i=dh(t.noDocument.readTime);n=oc.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return mu();var a=zu.fromSegments(t.unknownDocument.path),o=dh(t.unknownDocument.version);n=oc.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Mu(e[0],e[1]);return Fu.fromTimestamp(t)}(t.readTime)),n}(this.wt,t);if(!n.isNoDocument()||!n.version.isEqual(Fu.min()))return n}return oc.newInvalidDocument(e)}}]),e}();function pd(e){return new dd(e)}var vd=function(e){Be(n,e);var t=We(n);function n(e,r){var i;return $e(this,n),(i=t.call(this)).zn=e,i.trackRemovals=r,i.Hn=new Cl((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Ye(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new ks((function(e,t){return Pu(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Hn.get(a);if(n.push(t.zn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=lh(t.zn.wt,o);i=i.add(a.path.popLast());var c=Qh(s);r+=c-u.size,n.push(t.zn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=lh(t.zn.wt,o.convertToNoDocument(Fu.min()));n.push(t.zn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.zn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.zn.updateMetadata(e,r)),ts.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.zn.Gn(e,t).next((function(e){return n.Hn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.zn.jn(e,t).next((function(e){var t=e.documents;return e.Wn.forEach((function(e,r){n.Hn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(hd);function md(e){return ih(e,"remoteDocumentGlobal")}function yd(e){return ih(e,"remoteDocumentsV14")}function gd(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function bd(e,t){var n=t.documentKey.path.toArray();return[e,fh(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function kd(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Pu(n[a],r[a]))return i;return(i=Pu(n.length,r.length))||((i=Pu(n[n.length-2],r[r.length-2]))||Pu(n[n.length-1],r[r.length-1]))}var wd=Ye((function e(t,n){$e(this,e),this.overlayedDocument=t,this.mutatedFields=n})),xd=function(){function e(t,n,r,i){$e(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return Ye(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&dl(r.mutation,e,Es.empty(),Mu.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,jl()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:jl(),i=Dl();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Pl();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Dl();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,jl())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Al(),a=Fl(),o=Fl();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof yl)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),dl(o.mutation,t,o.mutation.getFieldMask(),Mu.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new wd(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Fl(),i=new ys((function(e,t){return e-t})),a=jl();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=Le(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Es.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||jl()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=Ml();c.forEach((function(e){if(!a.has(e)){var n=fl(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return ts.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return zu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Dc(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):ts.resolve(Dl()),u=-1,s=a;return o.next((function(t){return ts.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?ts.resolve():i.getBaseDocument(e,t,n).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,jl())})).next((function(e){return{batchId:u,changes:Rl(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new zu(t)).next((function(e){var t=Pl();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Pl();return this.indexManager.getCollectionParents(e,i).next((function(o){return ts.forEach(o,(function(o){var u=function(e,t){return new Nc(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,oc.newInvalidDocument(n)))}));var n=Pl();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&dl(a.mutation,i,Es.empty(),Mu.now()),zc(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):ts.resolve(oc.newInvalidDocument(t))}}]),e}(),Ed=function(){function e(t){$e(this,e),this.wt=t,this.Jn=new Map,this.Yn=new Map}return Ye(e,[{key:"getBundleMetadata",value:function(e,t){return ts.resolve(this.Jn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Jn.set(t.id,{id:(n=t).id,version:n.version,createTime:rf(n.createTime)}),ts.resolve()}},{key:"getNamedQuery",value:function(e,t){return ts.resolve(this.Yn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Yn.set(t.name,function(e){return{name:e.name,query:yh(e.bundledQuery),readTime:rf(e.readTime)}}(t)),ts.resolve()}}]),e}(),_d=function(){function e(){$e(this,e),this.overlays=new ys(zu.comparator),this.Xn=new Map}return Ye(e,[{key:"getOverlay",value:function(e,t){return ts.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Dl();return ts.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ie(e,t,i)})),ts.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Xn.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Xn.delete(n)),ts.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Dl(),i=t.length+1,a=new zu(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return ts.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new ys((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Dl(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Dl(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return ts.resolve(s)}},{key:"ie",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.Xn.get(r.largestBatchId).delete(n.key);this.Xn.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new uh(t,n));var a=this.Xn.get(t);void 0===a&&(a=jl(),this.Xn.set(t,a)),this.Xn.set(t,a.add(n.key))}}]),e}(),Sd=function(){function e(){$e(this,e),this.Zn=new ks(Id.ts),this.es=new ks(Id.ns)}return Ye(e,[{key:"isEmpty",value:function(){return this.Zn.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Id(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}},{key:"ss",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.rs(new Id(e,t))}},{key:"os",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new zu(new Vu([])),r=new Id(n,e),i=new Id(n,e+1),a=[];return this.es.forEachInRange([r,i],(function(e){t.rs(e),a.push(e.key)})),a}},{key:"cs",value:function(){var e=this;this.Zn.forEach((function(t){return e.rs(t)}))}},{key:"rs",value:function(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}},{key:"hs",value:function(e){var t=new zu(new Vu([])),n=new Id(t,e),r=new Id(t,e+1),i=jl();return this.es.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Id(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Id=function(){function e(t,n){$e(this,e),this.key=t,this.ls=n}return Ye(e,null,[{key:"ts",value:function(e,t){return zu.comparator(e.key,t.key)||Pu(e.ls,t.ls)}},{key:"ns",value:function(e,t){return Pu(e.ls,t.ls)||zu.comparator(e.key,t.key)}}]),e}(),Td=function(){function e(t,n){$e(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.fs=1,this.ds=new ks(Id.ts)}return Ye(e,[{key:"checkEmpty",value:function(e){return ts.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.fs;this.fs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new ah(i,t,n,r);this.mutationQueue.push(a);var o,u=Le(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.ds=this.ds.add(new Id(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return ts.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return ts.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ws(n),i=r<0?0:r;return ts.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return ts.resolve(0===this.mutationQueue.length?-1:this.fs-1)}},{key:"getAllMutationBatches",value:function(e){return ts.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Id(t,0),i=new Id(t,Number.POSITIVE_INFINITY),a=[];return this.ds.forEachInRange([r,i],(function(e){var t=n._s(e.ls);a.push(t)})),ts.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new ks(Pu);return t.forEach((function(e){var t=new Id(e,0),i=new Id(e,Number.POSITIVE_INFINITY);n.ds.forEachInRange([t,i],(function(e){r=r.add(e.ls)}))})),ts.resolve(this.gs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;zu.isDocumentKey(i)||(i=i.child(""));var a=new Id(new zu(i),0),o=new ks(Pu);return this.ds.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ls)),!0)}),a),ts.resolve(this.gs(o))}},{key:"gs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;yu(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();var r=this.ds;return ts.forEach(t.mutations,(function(i){var a=new Id(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ds=r}))}},{key:"In",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Id(t,0),r=this.ds.firstAfterOrEqual(n);return ts.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,ts.resolve()}},{key:"ys",value:function(e,t){return this.ws(e)}},{key:"ws",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"_s",value:function(e){var t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Cd=function(){function e(t){$e(this,e),this.ps=t,this.docs=new ys(zu.comparator),this.size=0}return Ye(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ps(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return ts.resolve(n?n.document.mutableCopy():oc.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Al();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():oc.newInvalidDocument(e))})),ts.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=Al(),i=new zu(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||Yu($u(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return ts.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){mu()}},{key:"Is",value:function(e,t){return ts.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Nd(this)}},{key:"getSize",value:function(e){return ts.resolve(this.size)}}]),e}(),Nd=function(e){Be(n,e);var t=We(n);function n(e){var r;return $e(this,n),(r=t.call(this)).zn=e,r}return Ye(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.zn.addEntry(e,i)):t.zn.removeEntry(r)})),ts.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.zn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.zn.getEntries(e,t)}}]),n}(hd),Ad=function(){function e(t){$e(this,e),this.persistence=t,this.Ts=new Cl((function(e){return cc(e)}),lc),this.lastRemoteSnapshotVersion=Fu.min(),this.highestTargetId=0,this.Es=0,this.As=new Sd,this.targetCount=0,this.Rs=td.An()}return Ye(e,[{key:"forEachTarget",value:function(e,t){return this.Ts.forEach((function(e,n){return t(n)})),ts.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return ts.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return ts.resolve(this.Es)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Rs.next(),ts.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Es&&(this.Es=t),ts.resolve()}},{key:"vn",value:function(e){this.Ts.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Rs=new td(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.vn(t),this.targetCount+=1,ts.resolve()}},{key:"updateTargetData",value:function(e,t){return this.vn(t),ts.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,ts.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Ts.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Ts.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),ts.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return ts.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Ts.get(t)||null;return ts.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.As.ss(t,n),ts.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.As.os(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),ts.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.As.us(t),ts.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.As.hs(t);return ts.resolve(n)}},{key:"containsKey",value:function(e,t){return ts.resolve(this.As.containsKey(t))}}]),e}(),Od=function(){function e(t,n){var r=this;$e(this,e),this.bs={},this.overlays={},this.Ps=new ds(0),this.vs=!1,this.vs=!0,this.referenceDelegate=t(this),this.Vs=new Ad(this),this.indexManager=new Lh,this.remoteDocumentCache=new Cd((function(e){return r.referenceDelegate.Ss(e)})),this.wt=new ch(n),this.Ds=new Ed(this.wt)}return Ye(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.vs=!1,Promise.resolve()}},{key:"started",get:function(){return this.vs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new _d,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.bs[e.toKey()];return n||(n=new Td(t,this.referenceDelegate),this.bs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(e,t,n){var r=this;hu("MemoryPersistence","Starting transaction:",e);var i=new Pd(this.Ps.next());return this.referenceDelegate.Cs(),n(i).next((function(e){return r.referenceDelegate.xs(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ns",value:function(e,t){return ts.or(Object.values(this.bs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Pd=function(e){Be(n,e);var t=We(n);function n(e){var r;return $e(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Ye(n)}(Ju),Rd=function(){function e(t){$e(this,e),this.persistence=t,this.ks=new Sd,this.Os=null}return Ye(e,[{key:"Fs",get:function(){if(this.Os)return this.Os;throw mu()}},{key:"addReference",value:function(e,t,n){return this.ks.addReference(n,t),this.Fs.delete(n.toString()),ts.resolve()}},{key:"removeReference",value:function(e,t,n){return this.ks.removeReference(n,t),this.Fs.add(n.toString()),ts.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Fs.add(t.toString()),ts.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.ks.us(t.targetId).forEach((function(e){return n.Fs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Fs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Cs",value:function(){this.Os=new Set}},{key:"xs",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ts.forEach(this.Fs,(function(r){var i=zu.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i,Fu.min())}))})).next((function(){return t.Os=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.Fs.delete(t.toString()):n.Fs.add(t.toString())}))}},{key:"Ss",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return ts.or([function(){return ts.resolve(n.ks.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ns(e,t)}])}}],[{key:"Ms",value:function(t){return new e(t)}}]),e}(),Dd=function(){function e(t){$e(this,e),this.wt=t}return Ye(e,[{key:"O",value:function(e,t,n,r){var i=this,a=new ns("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Df,{unique:!0}),e.createObjectStore("documentMutations")}(e),Md(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=ts.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Md(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Fu.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").K().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Df,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return ts.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Bs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ls(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Us(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Ks(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Qf});t.createIndex("collectionPathOverlayIndex",Yf,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Xf,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Vf});t.createIndex("documentKeyIndex",jf),t.createIndex("collectionGroupIndex",Uf)}(e)})).next((function(){return i.Gs(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.Qs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Wf}).createIndex("sequenceNumberIndex",Kf,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Gf}).createIndex("documentKeyIndex",$f,{unique:!1})}(e)}))),o}},{key:"Ls",value:function(e){var t=0;return e.store("remoteDocuments").J((function(e,n){t+=Qh(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Bs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.K().next((function(n){return ts.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.K("userMutationsIndex",i).next((function(r){return ts.forEach(r,(function(r){yu(r.userId===n.userId);var i=ph(t.wt,r);return $h(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Us",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.J((function(n,i){var a=new Vu(n),o=function(e){return[0,Af(e)]}(a);r.push(t.get(o).next((function(n){return n?ts.resolve():function(n){return t.put({targetId:0,path:Af(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return ts.waitFor(r)}))}))}},{key:"qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Hf});var n=t.store("collectionParents"),r=new Vh,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Af(i)})}};return t.store("remoteDocuments").J({H:!0},(function(e,t){var n=new Vu(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").J({H:!0},(function(e,t){var n=Oe(e,3),r=(n[0],n[1]),a=(n[2],Rf(r));return i(a.popLast())}))}))}},{key:"Ks",value:function(e){var t=this,n=e.store("targets");return n.J((function(e,r){var i=vh(r),a=mh(t.wt,i);return n.put(a)}))}},{key:"Gs",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.J((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new zu(Vu.fromString(i.document.name).popFirst(5)):i.noDocument?zu.fromSegments(i.noDocument.path):i.unknownDocument?zu.fromSegments(i.unknownDocument.path):mu()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return ts.waitFor(r)}))}},{key:"Qs",value:function(e,t){var n=this,r=t.store("mutations"),i=pd(this.wt),a=new Od(Rd.Ms,this.wt.ne);return r.K().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:jl();ph(n.wt,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),ts.forEach(r,(function(e,r){var o=new su(r),u=_h.se(n.wt,o),s=a.getIndexManager(o),c=Yh.se(o,n.wt,s,a.referenceDelegate);return new xd(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new rh(t,ds.ot),e).next()}))}))}}]),e}();function Md(e){e.createObjectStore("targetDocuments",{keyPath:Bf}).createIndex("documentTargetsIndex",qf,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",zf,{unique:!0}),e.createObjectStore("targetGlobal")}var Fd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Ld=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:14;if($e(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.js=a,this.window=o,this.document=u,this.Ws=c,this.zs=l,this.Hs=f,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=function(e){return Promise.resolve()},!e.V())throw new ku(bu.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ld(this,i),this.ei=n+"main",this.wt=new ch(s),this.ni=new rs(this.ei,this.Hs,new Dd(this.wt)),this.Vs=new nd(this.referenceDelegate,this.wt),this.remoteDocumentCache=pd(this.wt),this.Ds=new wh,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===l&&du("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Ye(e,[{key:"start",value:function(){var e=this;return this.ii().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new ku(bu.FAILED_PRECONDITION,Fd);return e.ri(),e.oi(),e.ui(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Vs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ps=new ds(t,e.Ws)})).then((function(){e.vs=!0})).catch((function(t){return e.ni&&e.ni.close(),Promise.reject(t)}))}},{key:"ci",value:function(e){var t=this;return this.ti=function(){var n=ze(je().mark((function n(r){return je().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ni.F(function(){var t=ze(je().mark((function t(n){return je().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget(ze(je().mark((function e(){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ii();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ii",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return jd(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.ai(t).next((function(t){t||(e.isPrimary=!1,e.js.enqueueRetryable((function(){return e.ti(!1)})))}))})).next((function(){return e.hi(t)})).next((function(n){return e.isPrimary&&!n?e.li(t).next((function(){return!1})):!!n&&e.fi(t).next((function(){return!0}))}))})).catch((function(t){if(os(t))return hu("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return hu("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.js.enqueueRetryable((function(){return e.ti(t)})),e.isPrimary=t}))}},{key:"ai",value:function(e){var t=this;return Vd(e).get("owner").next((function(e){return ts.resolve(t.di(e))}))}},{key:"_i",value:function(e){return jd(e).delete(this.clientId)}},{key:"wi",value:function(){var e=ze(je().mark((function e(){var t,n,r,i,a=this;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.mi(this.Zs,18e5)){e.next=6;break}return this.Zs=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=ih(e,"clientMetadata");return t.K().next((function(e){var n=a.gi(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return ts.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.si){n=Le(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.si.removeItem(this.yi(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ui",value:function(){var e=this;this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ii().then((function(){return e.wi()})).then((function(){return e.ui()}))}))}},{key:"di",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"hi",value:function(e){var t=this;return this.zs?ts.resolve(!0):Vd(e).get("owner").next((function(n){if(null!==n&&t.mi(n.leaseTimestampMs,5e3)&&!t.pi(n.ownerId)){if(t.di(n)&&t.networkEnabled)return!0;if(!t.di(n)){if(!n.allowTabSynchronization)throw new ku(bu.FAILED_PRECONDITION,Fd);return!1}}return!(!t.networkEnabled||!t.inForeground)||jd(e).K().next((function(e){return void 0===t.gi(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&hu("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=ze(je().mark((function e(){var t=this;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.vs=!1,this.Ii(),this.Xs&&(this.Xs.cancel(),this.Xs=null),this.Ti(),this.Ei(),e.next=7,this.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new rh(e,ds.ot);return t.li(n).next((function(){return t._i(n)}))}));case 7:this.ni.close(),this.Ai();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"gi",value:function(e,t){var n=this;return e.filter((function(e){return n.mi(e.updateTimeMs,t)&&!n.pi(e.clientId)}))}},{key:"Ri",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return jd(t).K().next((function(t){return e.gi(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.vs}},{key:"getMutationQueue",value:function(e,t){return Yh.se(e,this.wt,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new Uh(e,this.wt.ne.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return _h.se(this.wt,e)}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(e,t,n){var r=this;hu("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.Hs)?nh:14===i?th:13===i?eh:12===i?Zf:11===i?Jf:void mu();return this.ni.runTransaction(e,o,u,(function(i){return a=new rh(i,r.Ps?r.Ps.next():ds.ot),"readwrite-primary"===t?r.ai(a).next((function(e){return!!e||r.hi(a)})).next((function(t){if(!t)throw du("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.js.enqueueRetryable((function(){return r.ti(!1)})),new ku(bu.FAILED_PRECONDITION,Xu);return n(a)})).next((function(e){return r.fi(a).next((function(){return e}))})):r.bi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"bi",value:function(e){var t=this;return Vd(e).get("owner").next((function(e){if(null!==e&&t.mi(e.leaseTimestampMs,5e3)&&!t.pi(e.ownerId)&&!t.di(e)&&!(t.zs||t.allowTabSynchronization&&e.allowTabSynchronization))throw new ku(bu.FAILED_PRECONDITION,Fd)}))}},{key:"fi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Vd(e).put("owner",t)}},{key:"li",value:function(e){var t=this,n=Vd(e);return n.get("owner").next((function(e){return t.di(e)?(hu("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):ts.resolve()}))}},{key:"mi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(du("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ri",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=function(){e.js.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ii()}))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ti",value:function(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}},{key:"oi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=function(){t.Ii(),!ct()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.js.enterRestrictedMode(!0),t.js.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Js))}},{key:"Ei",value:function(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}},{key:"pi",value:function(e){var t;try{var n=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return hu("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return du("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ii",value:function(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(ur){du("Failed to set zombie client id.",ur)}}},{key:"Ai",value:function(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch(ur){}}},{key:"yi",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"V",value:function(){return rs.V()}}]),e}();function Vd(e){return ih(e,"owner")}function jd(e){return ih(e,"clientMetadata")}function Ud(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var zd=function(){function e(t,n,r,i){$e(this,e),this.targetId=t,this.fromCache=n,this.Pi=r,this.vi=i}return Ye(e,null,[{key:"Vi",value:function(t,n){var r,i=jl(),a=jl(),o=Le(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Bd=function(){function e(){$e(this,e),this.Si=!1}return Ye(e,[{key:"initialize",value:function(e,t){this.Di=e,this.indexManager=t,this.Si=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ci(e,t).next((function(a){return a||i.xi(e,t,r,n)})).next((function(n){return n||i.Ni(e,t)}))}},{key:"Ci",value:function(e,t){return ts.resolve(null)}},{key:"xi",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||r.isEqual(Fu.min())?this.Ni(e,t):this.Di.getDocuments(e,n).next((function(a){var o=i.ki(t,a);return i.Oi(t,o,n,r)?i.Ni(e,t):(fu()<=Pt.DEBUG&&hu("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Uc(t)),i.Mi(e,o,t,Gu(r,-1)))}))}},{key:"ki",value:function(e,t){var n=new ks(qc(e));return t.forEach((function(t,r){zc(e,r)&&(n=n.add(r))})),n}},{key:"Oi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Ni",value:function(e,t){return fu()<=Pt.DEBUG&&hu("QueryEngine","Using full collection scan to execute query:",Uc(t)),this.Di.getDocumentsMatchingQuery(e,t,Qu.min())}},{key:"Mi",value:function(e,t,n,r){return this.Di.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),qd=function(){function e(t,n,r,i){$e(this,e),this.persistence=t,this.Fi=n,this.wt=i,this.$i=new ys(Pu),this.Bi=new Cl((function(e){return cc(e)}),lc),this.Li=new Map,this.Ui=t.getRemoteDocumentCache(),this.Vs=t.getTargetCache(),this.Ds=t.getBundleCache(),this.qi(r)}return Ye(e,[{key:"qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xd(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.$i)}))}}]),e}();function Hd(e,t,n,r){return new qd(e,t,n,r)}function Wd(e,t){return Kd.apply(this,arguments)}function Kd(){return Kd=ze(je().mark((function e(t,n){var r;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gu(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=jl(),s=Le(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=Le(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){s.e(b)}finally{s.f()}var d,p=Le(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=Le(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(b){y.e(b)}finally{y.f()}}}catch(b){p.e(b)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{Ki:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Kd.apply(this,arguments)}function Gd(e,t){var n=gu(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Ui.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=ts.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);yu(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=jl(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function $d(e){var t=gu(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Vs.getLastRemoteSnapshotVersion(e)}))}function Qd(e,t){var n=gu(e),r=t.snapshotVersion,i=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Ui.newChangeBuffer({trackRemovals:!0});i=n.$i;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Vs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Vs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(_s.EMPTY_BYTE_STRING,Fu.min()).withLastLimboFreeSnapshotVersion(Fu.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Vs.updateTargetData(e,c))}}));var u=Al(),s=jl();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Yd(e,a,t.documentUpdates).next((function(e){u=e.Gi,s=e.Qi}))),!r.isEqual(Fu.min())){var c=n.Vs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Vs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return ts.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.$i=i,e}))}function Yd(e,t,n){var r=jl(),i=jl();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Al();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Fu.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):hu("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Gi:r,Qi:i}}))}function Xd(e,t){var n=gu(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function Jd(e,t){var n=gu(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Vs.getTargetData(e,t).next((function(i){return i?(r=i,ts.resolve(r)):n.Vs.allocateTargetId(e).next((function(i){return r=new sh(t,i,0,e.currentSequenceNumber),n.Vs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.$i.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.$i=n.$i.insert(e.targetId,e),n.Bi.set(t,e.targetId)),e}))}function Zd(e,t,n){return ep.apply(this,arguments)}function ep(){return ep=ze(je().mark((function e(t,n,r){var i,a,o;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=gu(t),a=i.$i.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),os(e.t1)){e.next=12;break}throw e.t1;case 12:hu("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.$i=i.$i.remove(n),i.Bi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),ep.apply(this,arguments)}function tp(e,t,n){var r=gu(e),i=Fu.min(),a=jl();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=gu(e),i=r.Bi.get(n);return void 0!==i?ts.resolve(r.$i.get(i)):r.Vs.getTargetData(t,n)}(r,e,Fc(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Fi.getDocumentsMatchingQuery(e,t,n?i:Fu.min(),n?a:jl())})).next((function(e){return ip(r,Bc(t),e),{documents:e,ji:a}}))}))}function np(e,t){var n=gu(e),r=gu(n.Vs),i=n.$i.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.te(e,t).next((function(e){return e?e.target:null}))}))}function rp(e,t){var n=gu(e),r=n.Li.get(t)||Fu.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Ui.getAllFromCollectionGroup(e,t,Gu(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return ip(n,t,e),e}))}function ip(e,t,n){var r=Fu.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Li.set(t,r)}function ap(e,t,n,r){return op.apply(this,arguments)}function op(){return op=ze(je().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=gu(t),o=jl(),u=Al(),s=Le(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Wi(l.metadata.name),l.document&&(o=o.add(f)),(h=n.zi(l)).setReadTime(n.Hi(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.Ui.newChangeBuffer({trackRemovals:!0}),e.next=7,Jd(a,function(e){return Fc(Oc(Vu.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Yd(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Vs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Vs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Gi,t.Qi)})).next((function(){return t.Gi}))}))})));case 9:case"end":return e.stop()}}),e)}))),op.apply(this,arguments)}function up(e,t){return sp.apply(this,arguments)}function sp(){return sp=ze(je().mark((function e(t,n){var r,i,a,o=arguments;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:jl(),e.next=3,Jd(t,Fc(yh(n.bundledQuery)));case 3:return i=e.sent,a=gu(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=rf(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ds.saveNamedQuery(e,n);var o=i.withResumeToken(_s.EMPTY_BYTE_STRING,t);return a.$i=a.$i.insert(o.targetId,o),a.Vs.updateTargetData(e,o).next((function(){return a.Vs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Vs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ds.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),sp.apply(this,arguments)}function cp(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function lp(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function fp(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var hp=function(){function e(t,n,r,i){$e(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Ye(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new ku(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(du("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),dp=function(){function e(t,n,r){$e(this,e),this.targetId=t,this.state=n,this.error=r}return Ye(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new ku(i.error.code,i.error.message))),a?new e(t,i.state,r):(du("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),pp=function(){function e(t,n){$e(this,e),this.clientId=t,this.activeTargetIds=n}return Ye(e,null,[{key:"Ji",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=zl(),o=0;i&&o<r.activeTargetIds.length;++o)i=Fs(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(du("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),vp=function(){function e(t,n){$e(this,e),this.clientId=t,this.onlineState=n}return Ye(e,null,[{key:"Ji",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(du("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),mp=function(){function e(){$e(this,e),this.activeTargetIds=zl()}return Ye(e,[{key:"Xi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Yi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),yp=function(){function e(t,n,r,i,a){$e(this,e),this.window=t,this.js=n,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new ys(Pu),this.started=!1,this.ir=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=cp(this.persistenceKey,this.tr),this.ur=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.sr=this.sr.insert(this.tr,new mp),this.cr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.ar=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.hr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.lr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.dr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.er)}return Ye(e,[{key:"start",value:function(){var e=ze(je().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Ri();case 2:t=e.sent,n=Le(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.tr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(cp(this.persistenceKey,i)))&&(o=pp.Ji(i,a))&&(this.sr=this.sr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this._r(),(u=this.storage.getItem(this.lr))&&(s=this.wr(u))&&this.mr(s),c=Le(this.ir);try{for(c.s();!(l=c.n()).done;)f=l.value,this.nr(f)}catch(d){c.e(d)}finally{c.f()}this.ir=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ur,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.gr(this.sr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.sr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.yr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.yr(e,t,n),this.pr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(fp(this.persistenceKey,e));if(n){var r=dp.Ji(e,n);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ir.Zi(e),this._r()}},{key:"isLocalQueryTarget",value:function(e){return this.Ir.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(fp(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Tr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.pr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Er(e)}},{key:"notifyBundleLoaded",value:function(e){this.Ar(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return hu("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){hu("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){hu("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"nr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(hu("SharedClientState","EVENT",n.key,n.newValue),n.key===this.rr)return void du("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable(ze(je().mark((function e(){var r,i,a,o,u,s,c;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.cr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Rr(n.key),e.abrupt("return",t.br(r,null));case 6:if(!(i=t.Pr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.br(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.ar.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.vr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Vr(a));case 16:e.next=41;break;case 18:if(!t.hr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Sr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Dr(o));case 23:e.next=41;break;case 25:if(n.key!==t.lr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.wr(n.newValue))){e.next=30;break}return e.abrupt("return",t.mr(u));case 30:e.next=41;break;case 32:if(n.key!==t.ur){e.next=37;break}s=function(e){var t=ds.ot;if(null!=e)try{var n=JSON.parse(e);yu("number"==typeof n),t=n}catch(e){du("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==ds.ot&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.dr){e.next=41;break}return c=t.Cr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Nr(e)})));case 41:e.next=44;break;case 43:t.ir.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ir",get:function(){return this.sr.get(this.tr)}},{key:"_r",value:function(){this.setItem(this.rr,this.Ir.Yi())}},{key:"yr",value:function(e,t,n){var r=new hp(this.currentUser,e,t,n),i=lp(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Yi())}},{key:"pr",value:function(e){var t=lp(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Er",value:function(e){var t={clientId:this.tr,onlineState:e};this.storage.setItem(this.lr,JSON.stringify(t))}},{key:"Tr",value:function(e,t,n){var r=fp(this.persistenceKey,e),i=new dp(e,t,n);this.setItem(r,i.Yi())}},{key:"Ar",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}},{key:"Rr",value:function(e){var t=this.cr.exec(e);return t?t[1]:null}},{key:"Pr",value:function(e,t){var n=this.Rr(e);return pp.Ji(n,t)}},{key:"vr",value:function(e,t){var n=this.ar.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return hp.Ji(new su(i),r,t)}},{key:"Sr",value:function(e,t){var n=this.hr.exec(e),r=Number(n[1]);return dp.Ji(r,t)}},{key:"wr",value:function(e){return vp.Ji(e)}},{key:"Cr",value:function(e){return JSON.parse(e)}},{key:"Vr",value:function(){var e=ze(je().mark((function e(t){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.kr(t.batchId,t.state,t.error));case 2:hu("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dr",value:function(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}},{key:"br",value:function(e,t){var n=this,r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),a=this.gr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Mr(o,u).then((function(){n.sr=r}))}},{key:"mr",value:function(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"gr",value:function(e){var t=zl();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"V",value:function(e){return!(!e||!e.localStorage)}}]),e}(),gp=function(){function e(){$e(this,e),this.Fr=new mp,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Ye(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.$r[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Fr.Zi(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.$r[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Fr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Fr=new mp,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),bp=function(){function e(){$e(this,e)}return Ye(e,[{key:"Br",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),kp=function(){function e(){var t=this;$e(this,e),this.Lr=function(){return t.Ur()},this.qr=function(){return t.Kr()},this.Gr=[],this.Qr()}return Ye(e,[{key:"Br",value:function(e){this.Gr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}},{key:"Qr",value:function(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}},{key:"Ur",value:function(){hu("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Le(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Kr",value:function(){hu("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Le(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"V",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),wp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},xp=function(){function e(t){$e(this,e),this.jr=t.jr,this.Wr=t.Wr}return Ye(e,[{key:"zr",value:function(e){this.Hr=e}},{key:"Jr",value:function(e){this.Yr=e}},{key:"onMessage",value:function(e){this.Xr=e}},{key:"close",value:function(){this.Wr()}},{key:"send",value:function(e){this.jr(e)}},{key:"Zr",value:function(){this.Hr()}},{key:"eo",value:function(e){this.Yr(e)}},{key:"no",value:function(e){this.Xr(e)}}]),e}(),Ep=function(e){Be(n,e);var t=We(n);function n(e){var r;return $e(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Ye(n,[{key:"co",value:function(e,t,n,r){return new Promise((function(i,a){var o=new ou;o.listenOnce(tu.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case eu.NO_ERROR:var t=o.getResponseJson();hu("Connection","XHR received:",JSON.stringify(t)),i(t);break;case eu.TIMEOUT:hu("Connection",'RPC "'+e+'" timed out'),a(new ku(bu.DEADLINE_EXCEEDED,"Request time out"));break;case eu.HTTP_ERROR:var n=o.getStatus();if(hu("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(bu).indexOf(t)>=0?t:bu.UNKNOWN}(r.status);a(new ku(u,r.message))}else a(new ku(bu.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new ku(bu.UNAVAILABLE,"Connection failed."));break;default:mu()}}finally{hu("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"ho",value:function(e,t,n){var r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Jo(),a=Zo(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new iu({})),this.uo(o.initMessageHeaders,t,n),st()||ft()||ut().indexOf("Electron/")>=0||ht()||ut().indexOf("MSAppHost/")>=0||lt()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");hu("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new xp({jr:function(e){l?hu("Connection","Not sending because WebChannel is closed:",e):(c||(hu("Connection","Opening WebChannel transport."),s.open(),c=!0),hu("Connection","WebChannel sending:",e),s.send(e))},Wr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,au.EventType.OPEN,(function(){l||hu("Connection","WebChannel transport opened.")})),h(s,au.EventType.CLOSE,(function(){l||(l=!0,hu("Connection","WebChannel transport closed"),f.eo())})),h(s,au.EventType.ERROR,(function(e){l||(l=!0,pu("Connection","WebChannel transport errored:",e),f.eo(new ku(bu.UNAVAILABLE,"The operation could not be completed")))})),h(s,au.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];yu(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){hu("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=wl[e];if(void 0!==t)return Tl(t)}(a),u=i.message;void 0===o&&(o=bu.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.eo(new ku(o,u)),s.close()}else hu("Connection","WebChannel received:",n),f.no(n)}})),h(a,nu.STAT_EVENT,(function(e){e.stat===ru.PROXY?hu("Connection","Detected buffering proxy"):e.stat===ru.NOPROXY&&hu("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Zr()}),0),f}}]),n}(function(){function e(t){$e(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.so=n+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Ye(e,[{key:"ro",value:function(e,t,n,r,i){var a=this.oo(e,t);hu("RestConnection","Sending: ",a,n);var o={};return this.uo(o,r,i),this.co(e,a,o,n).then((function(e){return hu("RestConnection","Received: ",e),e}),(function(t){throw pu("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ao",value:function(e,t,n,r,i,a){return this.ro(e,t,n,r,i)}},{key:"uo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+cu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"oo",value:function(e,t){var n=wp[e];return"".concat(this.so,"/v1/").concat(t,":").concat(n)}}]),e}());function _p(){return"undefined"!=typeof window?window:null}function Sp(){return"undefined"!=typeof document?document:null}function Ip(e){return new Zl(e,!0)}var Tp=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;$e(this,e),this.js=t,this.timerId=n,this.lo=r,this.fo=i,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}return Ye(e,[{key:"reset",value:function(){this.wo=0}},{key:"po",value:function(){this.wo=this._o}},{key:"Io",value:function(e){var t=this;this.cancel();var n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,n-r);i>0&&hu("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.wo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.mo=this.js.enqueueAfterDelay(this.timerId,i,(function(){return t.yo=Date.now(),e()})),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}},{key:"Eo",value:function(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}},{key:"cancel",value:function(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}},{key:"To",value:function(){return(Math.random()-.5)*this.wo}}]),e}(),Cp=function(){function e(t,n,r,i,a,o,u,s){$e(this,e),this.js=t,this.Ao=r,this.Ro=i,this.bo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new Tp(t,n)}return Ye(e,[{key:"Do",value:function(){return 1===this.state||5===this.state||this.Co()}},{key:"Co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.xo()}},{key:"stop",value:function(){var e=ze(je().mark((function e(){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Do(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"No",value:function(){this.state=0,this.So.reset()}},{key:"ko",value:function(){var e=this;this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,(function(){return e.Oo()})))}},{key:"Mo",value:function(e){this.Fo(),this.stream.send(e)}},{key:"Oo",value:function(){var e=ze(je().mark((function e(){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"$o",value:function(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}},{key:"close",value:function(){var e=ze(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fo(),this.$o(),this.So.cancel(),this.Po++,4!==t?this.So.reset():n&&n.code===bu.RESOURCE_EXHAUSTED?(du(n.toString()),du("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===bu.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Bo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Jr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Bo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=Oe(t,2),i=r[0],a=r[1];e.Po===n&&e.Uo(i,a)}),(function(n){t((function(){var t=new ku(bu.UNKNOWN,"Fetching auth token failed: "+n.message);return e.qo(t)}))}))}},{key:"Uo",value:function(e,t){var n=this,r=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr((function(){r((function(){return n.state=2,n.Vo=n.js.enqueueAfterDelay(n.Ro,1e4,(function(){return n.Co()&&(n.state=3),Promise.resolve()})),n.listener.zr()}))})),this.stream.Jr((function(e){r((function(){return n.qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"xo",value:function(){var e=this;this.state=5,this.So.Io(ze(je().mark((function t(){return je().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"qo",value:function(e){return hu("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Lo",value:function(e){var t=this;return function(n){t.js.enqueueAndForget((function(){return t.Po===e?n():(hu("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Np=function(e){Be(n,e);var t=We(n);function n(e,r,i,a,o,u){var s;return $e(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).wt=o,s}return Ye(n,[{key:"Ko",value:function(e,t){return this.bo.ho("Listen",e,t)}},{key:"onMessage",value:function(e){this.So.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:mu()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.dt?(yu(void 0===t||"string"==typeof t),_s.fromBase64String(t||"")):(yu(void 0===t||t instanceof Uint8Array),_s.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?bu.UNKNOWN:Tl(e.code);return new ku(t,e.message||"")}(o);n=new Kl(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=sf(e,s.document.name),l=rf(s.document.updateTime),f=new ic({mapValue:{fields:s.document.fields}}),h=oc.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new Hl(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=sf(e,v.document),y=v.readTime?rf(v.readTime):Fu.min(),g=oc.newNoDocument(m,y),b=v.removedTargetIds||[];n=new Hl([],b,g.key,g)}else if("documentRemove"in t){t.documentRemove;var k=t.documentRemove;k.document;var w=sf(e,k.document),x=k.removedTargetIds||[];n=new Hl([],x,w,null)}else{if(!("filter"in t))return mu();t.filter;var E=t.filter;E.targetId;var _=E.count||0,S=new Sl(_),I=E.targetId;n=new Wl(I,S)}return n}(this.wt,e),n=function(e){if(!("targetChange"in e))return Fu.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Fu.min():t.readTime?rf(t.readTime):Fu.min()}(e);return this.listener.Go(t,n)}},{key:"Qo",value:function(e){var t={};t.database=ff(this.wt),t.addTarget=function(e,t){var n,r=t.target;return(n=fc(r)?{documents:gf(e,r)}:{query:bf(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=tf(e,t.resumeToken):t.snapshotVersion.compareTo(Fu.min())>0&&(n.readTime=ef(e,t.snapshotVersion.toTimestamp())),n}(this.wt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return mu()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.wt,e);n&&(t.labels=n),this.Mo(t)}},{key:"jo",value:function(e){var t={};t.database=ff(this.wt),t.removeTarget=e,this.Mo(t)}}]),n}(Cp),Ap=function(e){Be(n,e);var t=We(n);function n(e,r,i,a,o,u){var s;return $e(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).wt=o,s.Wo=!1,s}return Ye(n,[{key:"zo",get:function(){return this.Wo}},{key:"start",value:function(){this.Wo=!1,this.lastStreamToken=void 0,Fe(De(n.prototype),"start",this).call(this)}},{key:"Bo",value:function(){this.Wo&&this.Ho([])}},{key:"Ko",value:function(e,t){return this.bo.ho("Write",e,t)}},{key:"onMessage",value:function(e){if(yu(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();var t=function(e,t){return e&&e.length>0?(yu(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?rf(e.updateTime):rf(t);return n.isEqual(Fu.min())&&(n=rf(t)),new ul(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=rf(e.commitTime);return this.listener.Jo(n,t)}return yu(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}},{key:"Xo",value:function(){var e={};e.database=ff(this.wt),this.Mo(e)}},{key:"Ho",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return mf(t.wt,e)}))};this.Mo(n)}}]),n}(Cp),Op=function(e){Be(n,e);var t=We(n);function n(e,r,i,a){var o;return $e(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.bo=i,o.wt=a,o.Zo=!1,o}return Ye(n,[{key:"tu",value:function(){if(this.Zo)throw new ku(bu.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ro",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=Oe(i,2),o=a[0],u=a[1];return r.bo.ro(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===bu.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new ku(bu.UNKNOWN,e.toString())}))}},{key:"ao",value:function(e,t,n,r){var i=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=Oe(a,2),u=o[0],s=o[1];return i.bo.ao(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===bu.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new ku(bu.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Zo=!0}}]),n}(function(){return Ye((function e(){$e(this,e)}))}()),Pp=function(){function e(t,n){$e(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}return Ye(e,[{key:"iu",value:function(){var e=this;0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.nu=null,e.ou("Backend didn't respond within 10 seconds."),e.ru("Offline"),Promise.resolve()})))}},{key:"uu",value:function(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ru("Offline")))}},{key:"set",value:function(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}},{key:"ru",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"ou",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.su?(du(t),this.su=!1):hu("OnlineStateTracker",t)}},{key:"cu",value:function(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}]),e}(),Rp=Ye((function e(t,n,r,i,a){var o=this;$e(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br((function(e){r.enqueueAndForget(ze(je().mark((function e(){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Hp(o),!e.t0){e.next=5;break}return hu("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=ze(je().mark((function e(t){var n;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=gu(t)).lu.add(4),e.next=4,Fp(n);case 4:return n._u.set("Unknown"),n.lu.delete(4),e.next=8,Dp(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this._u=new Pp(r,i)}));function Dp(e){return Mp.apply(this,arguments)}function Mp(){return Mp=ze(je().mark((function e(t){var n,r,i;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Hp(t)){e.next=18;break}n=Le(t.fu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Mp.apply(this,arguments)}function Fp(e){return Lp.apply(this,arguments)}function Lp(){return Lp=ze(je().mark((function e(t){var n,r,i;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Le(t.fu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Lp.apply(this,arguments)}function Vp(e,t){var n=gu(e);n.hu.has(t.targetId)||(n.hu.set(t.targetId,t),qp(n)?Bp(n):bv(n).Co()&&Up(n,t))}function jp(e,t){var n=gu(e),r=bv(n);n.hu.delete(t),r.Co()&&zp(n,t),0===n.hu.size&&(r.Co()?r.ko():Hp(n)&&n._u.set("Unknown"))}function Up(e,t){e.wu.Nt(t.targetId),bv(e).Qo(t)}function zp(e,t){e.wu.Nt(t),bv(e).jo(t)}function Bp(e){e.wu=new $l({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},te:function(t){return e.hu.get(t)||null}}),bv(e).start(),e._u.iu()}function qp(e){return Hp(e)&&!bv(e).Do()&&e.hu.size>0}function Hp(e){return 0===gu(e).lu.size}function Wp(e){e.wu=void 0}function Kp(e){return Gp.apply(this,arguments)}function Gp(){return Gp=ze(je().mark((function e(t){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.hu.forEach((function(e,n){Up(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Gp.apply(this,arguments)}function $p(e,t){return Qp.apply(this,arguments)}function Qp(){return Qp=ze(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Wp(t),qp(t)?(t._u.uu(n),Bp(t)):t._u.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Qp.apply(this,arguments)}function Yp(e,t,n){return Xp.apply(this,arguments)}function Xp(){return Xp=ze(je().mark((function e(t,n,r){var i;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._u.set("Online"),!(n instanceof Kl&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=ze(je().mark((function e(t,n){var r,i,a,o;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Le(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.hu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.hu.delete(o),t.wu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),hu("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Jp(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Hl?t.wu.Ut(n):n instanceof Wl?t.wu.zt(n):t.wu.Gt(n),r.isEqual(Fu.min())){e.next=29;break}return e.prev=14,e.next=17,$d(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.wu.Yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.hu.get(r);i&&e.hu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.hu.get(t);if(n){e.hu.set(t,n.withResumeToken(_s.EMPTY_BYTE_STRING,n.snapshotVersion)),zp(e,t);var r=new sh(n.target,t,1,n.sequenceNumber);Up(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),hu("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Jp(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Xp.apply(this,arguments)}function Jp(e,t,n){return Zp.apply(this,arguments)}function Zp(){return Zp=ze(je().mark((function e(t,n,r){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(os(n)){e.next=2;break}throw n;case 2:return t.lu.add(1),e.next=5,Fp(t);case 5:t._u.set("Offline"),r||(r=function(){return $d(t.localStore)}),t.asyncQueue.enqueueRetryable(ze(je().mark((function e(){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hu("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.lu.delete(1),e.next=6,Dp(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),Zp.apply(this,arguments)}function ev(e,t){return t().catch((function(n){return Jp(e,n,t)}))}function tv(e){return nv.apply(this,arguments)}function nv(){return nv=ze(je().mark((function e(t){var n,r,i,a;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=gu(t),r=kv(n),i=n.au.length>0?n.au[n.au.length-1].batchId:-1;case 2:if(!rv(n)){e.next=19;break}return e.prev=3,e.next=6,Xd(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.au.length&&r.ko(),e.abrupt("break",19);case 10:i=a.batchId,iv(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Jp(n,e.t0);case 17:e.next=2;break;case 19:av(n)&&ov(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),nv.apply(this,arguments)}function rv(e){return Hp(e)&&e.au.length<10}function iv(e,t){e.au.push(t);var n=kv(e);n.Co()&&n.zo&&n.Ho(t.mutations)}function av(e){return Hp(e)&&!kv(e).Do()&&e.au.length>0}function ov(e){kv(e).start()}function uv(e){return sv.apply(this,arguments)}function sv(){return sv=ze(je().mark((function e(t){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:kv(t).Xo();case 1:case"end":return e.stop()}}),e)}))),sv.apply(this,arguments)}function cv(e){return lv.apply(this,arguments)}function lv(){return lv=ze(je().mark((function e(t){var n,r,i,a;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=kv(t),r=Le(t.au);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Ho(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),lv.apply(this,arguments)}function fv(e,t,n){return hv.apply(this,arguments)}function hv(){return hv=ze(je().mark((function e(t,n,r){var i,a;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.au.shift(),a=oh.from(i,n,r),e.next=3,ev(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,tv(t);case 5:case"end":return e.stop()}}),e)}))),hv.apply(this,arguments)}function dv(e,t){return pv.apply(this,arguments)}function pv(){return pv=ze(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&kv(t).zo,!e.t0){e.next=4;break}return e.next=4,function(){var e=ze(je().mark((function e(t,n){var r,i;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Il(i=n.code)||i===bu.ABORTED){e.next=7;break}return r=t.au.shift(),kv(t).No(),e.next=5,ev(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,tv(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:av(t)&&ov(t);case 5:case"end":return e.stop()}}),e)}))),pv.apply(this,arguments)}function vv(e,t){return mv.apply(this,arguments)}function mv(){return mv=ze(je().mark((function e(t,n){var r,i;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=gu(t)).asyncQueue.verifyOperationInProgress(),hu("RemoteStore","RemoteStore received new credentials"),i=Hp(r),r.lu.add(3),e.next=6,Fp(r);case 6:return i&&r._u.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.lu.delete(3),e.next=12,Dp(r);case 12:case"end":return e.stop()}}),e)}))),mv.apply(this,arguments)}function yv(e,t){return gv.apply(this,arguments)}function gv(){return gv=ze(je().mark((function e(t,n){var r;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=gu(t),!n){e.next=7;break}return r.lu.delete(2),e.next=5,Dp(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.lu.add(2),e.next=12,Fp(r);case 12:r._u.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),gv.apply(this,arguments)}function bv(e){return e.mu||(e.mu=function(e,t,n){var r=gu(e);return r.tu(),new Np(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:Kp.bind(null,e),Jr:$p.bind(null,e),Go:Yp.bind(null,e)}),e.fu.push(function(){var t=ze(je().mark((function t(n){return je().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.mu.No(),qp(e)?Bp(e):e._u.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.mu.stop();case 6:Wp(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.mu}function kv(e){return e.gu||(e.gu=function(e,t,n){var r=gu(e);return r.tu(),new Ap(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:uv.bind(null,e),Jr:dv.bind(null,e),Yo:cv.bind(null,e),Jo:fv.bind(null,e)}),e.fu.push(function(){var t=ze(je().mark((function t(n){return je().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.gu.No(),t.next=4,tv(e);case 4:t.next=9;break;case 6:return t.next=8,e.gu.stop();case 8:e.au.length>0&&(hu("RemoteStore","Stopping write stream with ".concat(e.au.length," pending writes")),e.au=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.gu}var wv=function(){function e(t,n,r,i,a){$e(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new wu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Ye(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ku(bu.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function xv(e,t){if(du("AsyncQueue","".concat(t,": ").concat(e)),os(e))return new ku(bu.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Ev=function(){function e(t){$e(this,e),this.comparator=t?function(e,n){return t(e,n)||zu.comparator(e.key,n.key)}:function(e,t){return zu.comparator(e.key,t.key)},this.keyedMap=Pl(),this.sortedSet=new ys(this.comparator)}return Ye(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),_v=function(){function e(){$e(this,e),this.yu=new ys(zu.comparator)}return Ye(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.yu.get(t);n?0!==e.type&&3===n.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==n.type?this.yu=this.yu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.yu=this.yu.remove(t):1===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):mu():this.yu=this.yu.insert(t,e)}},{key:"pu",value:function(){var e=[];return this.yu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Sv=function(){function e(t,n,r,i,a,o,u,s){$e(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return Ye(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,Ev.emptySet(n),a,r,i,!0,!1)}}]),e}(),Iv=Ye((function e(){$e(this,e),this.Iu=void 0,this.listeners=[]})),Tv=Ye((function e(){$e(this,e),this.queries=new Cl((function(e){return jc(e)}),Vc),this.onlineState="Unknown",this.Tu=new Set}));function Cv(e,t){return Nv.apply(this,arguments)}function Nv(){return Nv=ze(je().mark((function e(t,n){var r,i,a,o,u;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=gu(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Iv),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Iu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=xv(e.t0,"Initialization of query '".concat(Uc(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Eu(r.onlineState),o.Iu&&n.Au(o.Iu)&&Dv(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Nv.apply(this,arguments)}function Av(e,t){return Ov.apply(this,arguments)}function Ov(){return Ov=ze(je().mark((function e(t,n){var r,i,a,o,u;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=gu(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Ov.apply(this,arguments)}function Pv(e,t){var n,r=gu(e),i=!1,a=Le(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=Le(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Au(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Iu=o}}}catch(f){a.e(f)}finally{a.f()}i&&Dv(r)}function Rv(e,t,n){var r=gu(e),i=r.queries.get(t);if(i){var a,o=Le(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function Dv(e){e.Tu.forEach((function(e){e.next()}))}var Mv=function(){function e(t,n,r){$e(this,e),this.query=t,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}return Ye(e,[{key:"Au",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Le(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Sv(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),a=!0):this.Vu(e,this.onlineState)&&(this.Su(e),a=!0),this.Pu=e,a}},{key:"onError",value:function(e){this.Ru.error(e)}},{key:"Eu",value:function(e){this.onlineState=e;var t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}},{key:"Vu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Du||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Su",value:function(e){e=Sv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}]),e}(),Fv=function(){function e(t,n){$e(this,e),this.payload=t,this.byteLength=n}return Ye(e,[{key:"Cu",value:function(){return"metadata"in this.payload}}]),e}(),Lv=function(){function e(t){$e(this,e),this.wt=t}return Ye(e,[{key:"Wi",value:function(e){return sf(this.wt,e)}},{key:"zi",value:function(e){return e.metadata.exists?pf(this.wt,e.document,!1):oc.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}},{key:"Hi",value:function(e){return rf(e)}}]),e}(),Vv=function(){function e(t,n,r){$e(this,e),this.xu=t,this.localStore=n,this.wt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=jv(t)}return Ye(e,[{key:"Nu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=Vu.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"ku",value:function(e){var t,n=new Map,r=new Lv(this.wt),i=Le(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Wi(a.metadata.name),s=Le(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||jl()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=ze(je().mark((function e(){var t,n,r,i,a;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ap(this.localStore,new Lv(this.wt),this.documents,this.xu.id);case 2:t=e.sent,n=this.ku(this.documents),r=Le(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,up(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Ou:this.collectionGroups,Mu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function jv(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Uv=Ye((function e(t){$e(this,e),this.key=t})),zv=Ye((function e(t){$e(this,e),this.key=t})),Bv=function(){function e(t,n){$e(this,e),this.query=t,this.Fu=n,this.$u=null,this.current=!1,this.Bu=jl(),this.mutatedKeys=jl(),this.Lu=qc(t),this.Uu=new Ev(this.Lu)}return Ye(e,[{key:"qu",get:function(){return this.Fu}},{key:"Ku",value:function(e,t){var n=this,r=t?t.Gu:new _v,i=t?t.Uu:this.Uu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=zc(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Qu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Lu(f,s)>0||c&&n.Lu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Uu:o,Gu:r,Oi:u,mutatedKeys:a}}},{key:"Qu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;var a=e.Gu.pu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mu()}};return n(e)-n(t)}(e.type,t.type)||r.Lu(e.doc,t.doc)})),this.ju(n);var o=t?this.Wu():[],u=0===this.Bu.size&&this.current?1:0,s=u!==this.$u;return this.$u=u,0!==a.length||s?{snapshot:new Sv(this.query,e.Uu,i,a,e.mutatedKeys,0===u,s,!1),zu:o}:{zu:o}}},{key:"Eu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new _v,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}},{key:"Hu",value:function(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}},{key:"ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Fu=t.Fu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Fu=t.Fu.delete(e)})),this.current=e.current)}},{key:"Wu",value:function(){var e=this;if(!this.current)return[];var t=this.Bu;this.Bu=jl(),this.Uu.forEach((function(t){e.Hu(t.key)&&(e.Bu=e.Bu.add(t.key))}));var n=[];return t.forEach((function(t){e.Bu.has(t)||n.push(new zv(t))})),this.Bu.forEach((function(e){t.has(e)||n.push(new Uv(e))})),n}},{key:"Ju",value:function(e){this.Fu=e.ji,this.Bu=jl();var t=this.Ku(e.documents);return this.applyChanges(t,!0)}},{key:"Yu",value:function(){return Sv.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}]),e}(),qv=Ye((function e(t,n,r){$e(this,e),this.query=t,this.targetId=n,this.view=r})),Hv=Ye((function e(t){$e(this,e),this.key=t,this.Xu=!1})),Wv=function(){function e(t,n,r,i,a,o){$e(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Zu={},this.tc=new Cl((function(e){return jc(e)}),Vc),this.ec=new Map,this.nc=new Set,this.sc=new ys(zu.comparator),this.ic=new Map,this.rc=new Sd,this.oc={},this.uc=new Map,this.cc=td.Rn(),this.onlineState="Unknown",this.ac=void 0}return Ye(e,[{key:"isPrimaryClient",get:function(){return!0===this.ac}}]),e}();function Kv(e,t){return Gv.apply(this,arguments)}function Gv(){return Gv=ze(je().mark((function e(t,n){var r,i,a,o,u,s;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=jm(t),!(o=r.tc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Yu(),e.next=15;break;case 6:return e.next=8,Jd(r.localStore,Fc(n));case 8:return u=e.sent,r.isPrimaryClient&&Vp(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,$v(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),Gv.apply(this,arguments)}function $v(e,t,n,r){return Qv.apply(this,arguments)}function Qv(){return Qv=ze(je().mark((function e(t,n,r,i){var a,o,u,s,c,l;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.hc=function(e,n,r){return function(){var e=ze(je().mark((function e(t,n,r,i){var a,o,u;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Ku(r),e.t0=a.Oi,!e.t0){e.next=6;break}return e.next=5,tp(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Ku(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(vm(t,n.targetId,u.zu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,tp(t.localStore,n,!0);case 3:return a=e.sent,o=new Bv(n,a.ji),u=o.Ku(a.documents),s=ql.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),vm(t,r,c.zu),l=new qv(n,r,o),e.abrupt("return",(t.tc.set(n,l),t.ec.has(r)?t.ec.get(r).push(n):t.ec.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),Qv.apply(this,arguments)}function Yv(e,t){return Xv.apply(this,arguments)}function Xv(){return Xv=ze(je().mark((function e(t,n){var r,i,a;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=gu(t),i=r.tc.get(n),!((a=r.ec.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ec.set(i.targetId,a.filter((function(e){return!Vc(e,n)}))),void r.tc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Zd(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),jp(r.remoteStore,i.targetId),dm(r,i.targetId)})).catch(Zu);case 9:e.next=14;break;case 11:return dm(r,i.targetId),e.next=14,Zd(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),Xv.apply(this,arguments)}function Jv(e,t,n){return Zv.apply(this,arguments)}function Zv(){return Zv=ze(je().mark((function e(t,n,r){var i,a,o;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Um(t),e.prev=1,e.next=4,function(e,t){var n,r,i=gu(e),a=Mu.now(),o=t.reduce((function(e,t){return e.add(t.key)}),jl());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=Al(),s=jl();return i.Ui.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=Le(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=pl(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new yl(c.key,l,ac(l.value.mapValue),sl.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Rl(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.oc[e.currentUser.toKey()];r||(r=new ys(Pu)),r=r.insert(t,n),e.oc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,gm(i,a.changes);case 9:return e.next=11,tv(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=xv(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),Zv.apply(this,arguments)}function em(e,t){return tm.apply(this,arguments)}function tm(){return tm=ze(je().mark((function e(t,n){var r,i;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gu(t),e.prev=1,e.next=4,Qd(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ic.get(t);n&&(yu(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Xu=!0:e.modifiedDocuments.size>0?yu(n.Xu):e.removedDocuments.size>0&&(yu(n.Xu),n.Xu=!1))})),e.next=8,gm(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Zu(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),tm.apply(this,arguments)}function nm(e,t,n){var r=gu(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.tc.forEach((function(e,n){var r=n.view.Eu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=gu(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Le(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Eu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Dv(n)}(r.eventManager,t),i.length&&r.Zu.Go(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function rm(e,t,n){return im.apply(this,arguments)}function im(){return im=ze(je().mark((function e(t,n,r){var i,a,o,u,s,c;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=gu(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ic.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new ys(zu.comparator)).insert(o,oc.newNoDocument(o,Fu.min())),s=jl().add(o),c=new Bl(Fu.min(),new Map,new ks(Pu),u,s),e.next=9,em(i,c);case 9:i.sc=i.sc.remove(o),i.ic.delete(n),ym(i),e.next=16;break;case 14:return e.next=16,Zd(i.localStore,n,!1).then((function(){return dm(i,n,r)})).catch(Zu);case 16:case"end":return e.stop()}}),e)}))),im.apply(this,arguments)}function am(e,t){return om.apply(this,arguments)}function om(){return om=ze(je().mark((function e(t,n){var r,i,a;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gu(t),i=n.batch.batchId,e.prev=1,e.next=4,Gd(r.localStore,n);case 4:return a=e.sent,hm(r,i,null),fm(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,gm(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Zu(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),om.apply(this,arguments)}function um(e,t,n){return sm.apply(this,arguments)}function sm(){return sm=ze(je().mark((function e(t,n,r){var i,a;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=gu(t),e.prev=1,e.next=4,function(e,t){var n=gu(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return yu(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,hm(i,n,r),fm(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,gm(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Zu(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),sm.apply(this,arguments)}function cm(e,t){return lm.apply(this,arguments)}function lm(){return lm=ze(je().mark((function e(t,n){var r,i,a,o;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Hp((r=gu(t)).remoteStore)||hu("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=gu(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.uc.get(i)||[]).push(n),r.uc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=xv(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),lm.apply(this,arguments)}function fm(e,t){(e.uc.get(t)||[]).forEach((function(e){e.resolve()})),e.uc.delete(t)}function hm(e,t,n){var r=gu(e),i=r.oc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.oc[r.currentUser.toKey()]=i}}function dm(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Le(e.ec.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.tc.delete(a),n&&e.Zu.lc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ec.delete(t),e.isPrimaryClient&&e.rc.us(t).forEach((function(t){e.rc.containsKey(t)||pm(e,t)}))}function pm(e,t){e.nc.delete(t.path.canonicalString());var n=e.sc.get(t);null!==n&&(jp(e.remoteStore,n),e.sc=e.sc.remove(t),e.ic.delete(n),ym(e))}function vm(e,t,n){var r,i=Le(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Uv?(e.rc.addReference(a.key,t),mm(e,a)):a instanceof zv?(hu("SyncEngine","Document no longer in limbo: "+a.key),e.rc.removeReference(a.key,t),e.rc.containsKey(a.key)||pm(e,a.key)):mu()}}catch(o){i.e(o)}finally{i.f()}}function mm(e,t){var n=t.key,r=n.path.canonicalString();e.sc.get(n)||e.nc.has(r)||(hu("SyncEngine","New document in limbo: "+n),e.nc.add(r),ym(e))}function ym(e){for(;e.nc.size>0&&e.sc.size<e.maxConcurrentLimboResolutions;){var t=e.nc.values().next().value;e.nc.delete(t);var n=new zu(Vu.fromString(t)),r=e.cc.next();e.ic.set(r,new Hv(n)),e.sc=e.sc.insert(n,r),Vp(e.remoteStore,new sh(Fc(Oc(n.path)),r,2,ds.ot))}}function gm(e,t,n){return bm.apply(this,arguments)}function bm(){return bm=ze(je().mark((function e(t,n,r){var i,a,o,u;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=gu(t),a=[],o=[],u=[],e.t0=i.tc.isEmpty(),e.t0){e.next=9;break}return i.tc.forEach((function(e,t){u.push(i.hc(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=zd.Vi(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Zu.Go(a),e.next=9,function(){var e=ze(je().mark((function e(t,n){var r,i,a,o,u,s,c,l;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gu(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return ts.forEach(n,(function(t){return ts.forEach(t.Pi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return ts.forEach(t.vi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),os(e.t0)){e.next=10;break}throw e.t0;case 10:hu("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Le(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.$i.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.$i=r.$i.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),bm.apply(this,arguments)}function km(e,t){return wm.apply(this,arguments)}function wm(){return wm=ze(je().mark((function e(t,n){var r,i;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=gu(t)).currentUser.isEqual(n)){e.next=11;break}return hu("SyncEngine","User change. New user:",n.toKey()),e.next=5,Wd(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.uc.forEach((function(e){e.forEach((function(e){e.reject(new ku(bu.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.uc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,gm(r,i.Ki);case 11:case"end":return e.stop()}}),e)}))),wm.apply(this,arguments)}function xm(e,t){var n=gu(e),r=n.ic.get(t);if(r&&r.Xu)return jl().add(r.key);var i=jl(),a=n.ec.get(t);if(!a)return i;var o,u=Le(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.tc.get(s);i=i.unionWith(c.view.qu)}}catch(l){u.e(l)}finally{u.f()}return i}function Em(e,t){return _m.apply(this,arguments)}function _m(){return _m=ze(je().mark((function e(t,n){var r,i,a;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gu(t),e.next=3,tp(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Ju(i),e.abrupt("return",(r.isPrimaryClient&&vm(r,n.targetId,a.zu),a));case 6:case"end":return e.stop()}}),e)}))),_m.apply(this,arguments)}function Sm(e,t){return Im.apply(this,arguments)}function Im(){return Im=ze(je().mark((function e(t,n){var r;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gu(t),e.abrupt("return",rp(r.localStore,n).then((function(e){return gm(r,e)})));case 2:case"end":return e.stop()}}),e)}))),Im.apply(this,arguments)}function Tm(e,t,n,r){return Cm.apply(this,arguments)}function Cm(){return Cm=ze(je().mark((function e(t,n,r,i){var a,o;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=gu(t),e.next=3,function(e,t){var n=gu(e),r=gu(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.yn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):ts.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,tv(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(hm(a,n,i||null),fm(a,n),function(e,t){gu(gu(e).mutationQueue).In(t)}(a.localStore,n)):mu();case 11:return e.next=13,gm(a,o);case 13:e.next=16;break;case 15:hu("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),Cm.apply(this,arguments)}function Nm(e,t){return Am.apply(this,arguments)}function Am(){return Am=ze(je().mark((function e(t,n){var r,i,a,o,u,s,c,l;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(jm(r=gu(t)),Um(r),!0!==n||!0===r.ac){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,Om(r,i.toArray());case 5:return a=e.sent,r.ac=!0,e.next=9,yv(r.remoteStore,!0);case 9:o=Le(a);try{for(o.s();!(u=o.n()).done;)s=u.value,Vp(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ac){e.next=25;break}return c=[],l=Promise.resolve(),r.ec.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return dm(r,t),Zd(r.localStore,t,!0)})),jp(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,Om(r,c);case 21:return function(e){var t=gu(e);t.ic.forEach((function(e,n){jp(t.remoteStore,n)})),t.rc.cs(),t.ic=new Map,t.sc=new ys(zu.comparator)}(r),r.ac=!1,e.next=25,yv(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),Am.apply(this,arguments)}function Om(e,t,n){return Pm.apply(this,arguments)}function Pm(){return Pm=ze(je().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=gu(t),a=[],o=[],u=Le(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.ec.get(c))||0===f.length){e.next=34;break}return e.next=11,Jd(i.localStore,Fc(f[0]));case 11:l=e.sent,h=Le(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.tc.get(p),e.next=20,Em(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,np(i.localStore,c);case 36:return y=e.sent,e.next=39,Jd(i.localStore,y);case 39:return l=e.sent,e.next=42,$v(i,Rm(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Zu.Go(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),Pm.apply(this,arguments)}function Rm(e){return Ac(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Dm(e){var t=gu(e);return gu(gu(t.localStore).persistence).Ri()}function Mm(e,t,n,r){return Fm.apply(this,arguments)}function Fm(){return Fm=ze(je().mark((function e(t,n,r,i){var a,o,u,s;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=gu(t)).ac){e.next=3;break}return e.abrupt("return",void hu("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ec.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,rp(a.localStore,Bc(o[0]));case 10:return u=e.sent,s=Bl.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,gm(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,Zd(a.localStore,n,!0);case 17:return dm(a,n,i),e.abrupt("break",20);case 19:mu();case 20:case"end":return e.stop()}}),e)}))),Fm.apply(this,arguments)}function Lm(e,t,n){return Vm.apply(this,arguments)}function Vm(){return Vm=ze(je().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=jm(t)).ac){e.next=45;break}a=Le(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.ec.has(u)){e.next=10;break}return hu("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,np(i.localStore,u);case 12:return s=e.sent,e.next=15,Jd(i.localStore,s);case 15:return c=e.sent,e.next=18,$v(i,Rm(s),c.targetId,!1);case 18:Vp(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=Le(r),e.prev=30,h=je().mark((function e(){var t;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ec.has(t),!e.t0){e.next=5;break}return e.next=5,Zd(i.localStore,t,!1).then((function(){jp(i.remoteStore,t),dm(i,t)})).catch(Zu);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),Vm.apply(this,arguments)}function jm(e){var t=gu(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=em.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=xm.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=rm.bind(null,t),t.Zu.Go=Pv.bind(null,t.eventManager),t.Zu.lc=Rv.bind(null,t.eventManager),t}function Um(e){var t=gu(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=am.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=um.bind(null,t),t}function zm(e,t,n){var r=gu(e);(function(){var e=ze(je().mark((function e(t,n,r){var i,a,o,u,s;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=gu(e),r=rf(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ds.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(jv(i)),a=new Vv(i,t.localStore,n.wt),e.next=15,n.fc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Nu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.fc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,gm(t,s.Mu,void 0);case 31:return e.next=33,function(e,t){var n=gu(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ds.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Ou));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(pu("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var Bm=function(){function e(){$e(this,e),this.synchronizeTabs=!1}return Ye(e,[{key:"initialize",value:function(){var e=ze(je().mark((function e(t){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.wt=Ip(t.databaseInfo.databaseId),this.sharedClientState=this.dc(t),this.persistence=this._c(t),e.next=5,this.persistence.start();case 5:this.localStore=this.wc(t),this.gcScheduler=this.mc(t,this.localStore),this.indexBackfillerScheduler=this.gc(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"mc",value:function(e,t){return null}},{key:"gc",value:function(e,t){return null}},{key:"wc",value:function(e){return Hd(this.persistence,new Bd,e.initialUser,this.wt)}},{key:"_c",value:function(e){return new Od(Rd.Ms,this.wt)}},{key:"dc",value:function(e){return new gp}},{key:"terminate",value:function(){var e=ze(je().mark((function e(){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),qm=function(e){Be(n,e);var t=We(n);function n(e,r,i){var a;return $e(this,n),(a=t.call(this)).yc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Ye(n,[{key:"initialize",value:function(){var e=ze(je().mark((function e(t){var r=this;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe(De(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.yc.initialize(this,t);case 4:return e.next=6,Um(this.yc.syncEngine);case 6:return e.next=8,tv(this.yc.remoteStore);case 8:return e.next=10,this.persistence.ci((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wc",value:function(e){return Hd(this.persistence,new Bd,e.initialUser,this.wt)}},{key:"mc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new sd(n,e.asyncQueue,t)}},{key:"gc",value:function(e,t){var n=new hs(t,this.persistence);return new fs(e.asyncQueue,n)}},{key:"_c",value:function(e){var t=Ud(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Gh.withCacheSize(this.cacheSizeBytes):Gh.DEFAULT;return new Ld(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,_p(),Sp(),this.wt,this.sharedClientState,!!this.forceOwnership)}},{key:"dc",value:function(e){return new gp}}]),n}(Bm),Hm=function(e){Be(n,e);var t=We(n);function n(e,r){var i;return $e(this,n),(i=t.call(this,e,r,!1)).yc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Ye(n,[{key:"initialize",value:function(){var e=ze(je().mark((function e(t){var r,i=this;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe(De(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.yc.syncEngine,e.t0=this.sharedClientState instanceof yp,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={kr:Tm.bind(null,r),Or:Mm.bind(null,r),Mr:Lm.bind(null,r),Ri:Dm.bind(null,r),Nr:Sm.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.ci(function(){var e=ze(je().mark((function e(t){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nm(i.yc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"dc",value:function(e){var t=_p();if(!yp.V(t))throw new ku(bu.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Ud(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new yp(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(qm),Wm=function(){function e(){$e(this,e)}return Ye(e,[{key:"initialize",value:function(){var e=ze(je().mark((function e(t,n){var r=this;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return nm(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=km.bind(null,this.syncEngine),e.next=12,yv(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Tv}},{key:"createDatastore",value:function(e){var t,n=Ip(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Ep(t));return function(e,t,n,r){return new Op(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return nm(o.syncEngine,e,0)},a=kp.V()?new kp:new bp,new Rp(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new Wv(e,t,n,r,i,a);return o&&(u.ac=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=ze(je().mark((function e(t){var n;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=gu(t),hu("RemoteStore","RemoteStore shutting down."),n.lu.add(5),e.next=5,Fp(n);case 5:n.du.shutdown(),n._u.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function Km(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return ze(je().mark((function r(){var i;return je().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return ze(je().mark((function e(){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var Gm=function(){function e(t){$e(this,e),this.observer=t,this.muted=!1}return Ye(e,[{key:"next",value:function(e){this.observer.next&&this.Ic(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Tc",value:function(){this.muted=!0}},{key:"Ic",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),$m=function(){function e(t,n){var r=this;$e(this,e),this.Ec=t,this.wt=n,this.metadata=new wu,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then((function(e){e&&e.Cu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return Ye(e,[{key:"close",value:function(){return this.Ec.cancel()}},{key:"getMetadata",value:function(){var e=ze(je().mark((function e(){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fc",value:function(){var e=ze(je().mark((function e(){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Rc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Rc",value:function(){var e=ze(je().mark((function e(){var t,n,r,i;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.bc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Ac.decode(t),r=Number(n),isNaN(r)&&this.Pc("length string (".concat(n,") is not valid number")),e.next=9,this.vc(r);case 9:return i=e.sent,e.abrupt("return",new Fv(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"bc",value:function(){var e=ze(je().mark((function e(){var t,n;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Vc()<0)){e.next=7;break}return e.next=3,this.Sc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Vc())<0&&this.Pc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(){var e=ze(je().mark((function e(t){var n;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Sc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Pc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Ac.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Pc",value:function(e){throw this.Ec.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Sc",value:function(){var e=ze(je().mark((function e(){var t,n;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ec.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Qm=function(){function e(t){$e(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Ye(e,[{key:"lookup",value:function(){var e=ze(je().mark((function e(t){var n,r=this;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new ku(bu.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=ze(je().mark((function e(t,n){var r,i,a,o,u,s;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gu(t),i=ff(r.wt)+"/documents",a={documents:n.map((function(e){return uf(r.wt,e)}))},e.next=5,r.ao("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=vf(r.wt,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());yu(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new El(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=ze(je().mark((function e(){var t,n=this;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=zu.fromPath(t);n.mutations.push(new _l(r,n.precondition(r)))})),e.next=7,function(){var e=ze(je().mark((function e(t,n){var r,i,a;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gu(t),i=ff(r.wt)+"/documents",a={writes:n.map((function(e){return mf(r.wt,e)}))},e.next=3,r.ro("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw mu();t=Fu.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new ku(bu.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?sl.updateTime(t):sl.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Fu.min()))throw new ku(bu.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return sl.updateTime(t)}return sl.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),Ym=function(){function e(t,n,r,i,a){$e(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Dc=r.maxAttempts,this.So=new Tp(this.asyncQueue,"transaction_retry")}return Ye(e,[{key:"run",value:function(){this.Dc-=1,this.Cc()}},{key:"Cc",value:function(){var e=this;this.So.Io(ze(je().mark((function t(){var n,r;return je().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new Qm(e.datastore),(r=e.xc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Nc(t)}))}))})).catch((function(t){e.Nc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"xc",value:function(e){try{var t=this.updateFunction(e);return!Ds(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Nc",value:function(e){var t=this;this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Cc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"kc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Il(t)}return!1}}]),e}(),Xm=function(){function e(t,n,r,i){var a=this;$e(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=su.UNAUTHENTICATED,this.clientId=Ou.I(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=ze(je().mark((function e(t){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hu("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return hu("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return Ye(e,[{key:"getConfiguration",value:function(){var e=ze(je().mark((function e(){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new ku(bu.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new wu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(ze(je().mark((function n(){var r;return je().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=xv(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function Jm(e,t){return Zm.apply(this,arguments)}function Zm(){return Zm=ze(je().mark((function e(t,n){var r,i;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),hu("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=ze(je().mark((function e(t){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Wd(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),Zm.apply(this,arguments)}function ey(e,t){return ty.apply(this,arguments)}function ty(){return ty=ze(je().mark((function e(t,n){var r,i;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,ny(t);case 3:return r=e.sent,hu("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return vv(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return vv(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),ty.apply(this,arguments)}function ny(e){return ry.apply(this,arguments)}function ry(){return ry=ze(je().mark((function e(t){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return hu("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,Jm(t,new Bm);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),ry.apply(this,arguments)}function iy(e){return ay.apply(this,arguments)}function ay(){return ay=ze(je().mark((function e(t){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return hu("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,ey(t,new Wm);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),ay.apply(this,arguments)}function oy(e){return ny(e).then((function(e){return e.persistence}))}function uy(e){return ny(e).then((function(e){return e.localStore}))}function sy(e){return iy(e).then((function(e){return e.remoteStore}))}function cy(e){return iy(e).then((function(e){return e.syncEngine}))}function ly(e){return fy.apply(this,arguments)}function fy(){return fy=ze(je().mark((function e(t){var n,r;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,iy(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Kv.bind(null,n.syncEngine),r.onUnlisten=Yv.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),fy.apply(this,arguments)}function hy(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new wu;return e.asyncQueue.enqueueAndForget(ze(je().mark((function i(){return je().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Gm({next:function(a){t.enqueueAndForget((function(){return Av(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new ku(bu.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new ku(bu.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Mv(Oc(n.path),a,{includeMetadataChanges:!0,Du:!0});return Cv(e,o)},i.next=3,ly(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function dy(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new wu;return e.asyncQueue.enqueueAndForget(ze(je().mark((function i(){return je().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Gm({next:function(n){t.enqueueAndForget((function(){return Av(e,o)})),n.fromCache&&"server"===r.source?i.reject(new ku(bu.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Mv(n,a,{includeMetadataChanges:!0,Du:!0});return Cv(e,o)},i.next=3,ly(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var py=new Map;function vy(e,t,n){if(!n)throw new ku(bu.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function my(e,t,n,r){if(!0===t&&!0===r)throw new ku(bu.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function yy(e){if(!zu.isDocumentKey(e))throw new ku(bu.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function gy(e){if(zu.isDocumentKey(e))throw new ku(bu.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function by(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":mu()}function ky(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ku(bu.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=by(e);throw new ku(bu.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function wy(e,t){if(t<=0)throw new ku(bu.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var xy=function(){function e(t){var n;if($e(this,e),void 0===t.host){if(void 0!==t.ssl)throw new ku(bu.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ku(bu.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,my("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Ye(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Ey=function(){function e(t,n,r){$e(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xy({}),this._settingsFrozen=!1,t instanceof Rs?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ku(bu.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rs(e.options.projectId)}(t))}return Ye(e,[{key:"app",get:function(){if(!this._app)throw new ku(bu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new ku(bu.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xy(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Eu;switch(e.type){case"gapi":var t=e.client;return yu(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Tu(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new ku(bu.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=py.get(e);t&&(hu("ComponentProvider","Removing Datastore"),py.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function _y(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=ky(e,Ey))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&pu("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=su.MOCK_USER;else{o=ot(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new ku(bu.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new su(s)}e._authCredentials=new _u(new xu(o,u))}}var Sy=function(){function e(t,n,r){$e(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Ye(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Ty(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Iy=function(){function e(t,n,r){$e(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Ye(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Ty=function(e){Be(n,e);var t=We(n);function n(e,r,i){var a;return $e(this,n),(a=t.call(this,e,r,Oc(i)))._path=i,a.type="collection",a}return Ye(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Sy(this.firestore,null,new zu(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Iy);function Cy(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Tt(e),vy("collection","path",t),e instanceof Ey){var a=Vu.fromString.apply(Vu,[t].concat(r));return gy(a),new Ty(e,null,a)}if(!(e instanceof Sy||e instanceof Ty))throw new ku(bu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Vu.fromString.apply(Vu,[t].concat(r)));return gy(o),new Ty(e.firestore,null,o)}function Ny(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Tt(e),1===arguments.length&&(t=Ou.I()),vy("doc","path",t),e instanceof Ey){var a=Vu.fromString.apply(Vu,[t].concat(r));return yy(a),new Sy(e,null,new zu(a))}if(!(e instanceof Sy||e instanceof Ty))throw new ku(bu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Vu.fromString.apply(Vu,[t].concat(r)));return yy(o),new Sy(e.firestore,e instanceof Ty?e.converter:null,new zu(o))}function Ay(e,t){return e=Tt(e),t=Tt(t),(e instanceof Sy||e instanceof Ty)&&(t instanceof Sy||t instanceof Ty)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Oy(e,t){return e=Tt(e),t=Tt(t),e instanceof Iy&&t instanceof Iy&&e.firestore===t.firestore&&Vc(e._query,t._query)&&e.converter===t.converter}var Py=function(){function e(){var t=this;$e(this,e),this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new Tp(this,"async_queue_retry"),this.Kc=function(){var e=Sp();e&&hu("AsyncQueue","Visibility state changed to "+e.visibilityState),t.So.Eo()};var n=Sp();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Kc)}return Ye(e,[{key:"isShuttingDown",get:function(){return this.Fc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Gc(),this.Qc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;var t=Sp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Gc(),this.Fc)return new Promise((function(){}));var n=new wu;return this.Qc((function(){return t.Fc&&t.Uc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Mc.push(e),t.jc()}))}},{key:"jc",value:function(){var e=ze(je().mark((function e(){var t=this;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Mc.length){e.next=14;break}return e.prev=1,e.next=4,this.Mc[0]();case 4:this.Mc.shift(),this.So.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),os(e.t0)){e.next=12;break}throw e.t0;case 12:hu("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Mc.length>0&&this.So.Io((function(){return t.jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Qc",value:function(e){var t=this,n=this.Oc.then((function(){return t.Lc=!0,e().catch((function(e){t.Bc=e,t.Lc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw du("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Lc=!1,e}))}));return this.Oc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Gc(),this.qc.indexOf(e)>-1&&(t=0);var i=wv.createAndSchedule(this,e,t,n,(function(e){return r.Wc(e)}));return this.$c.push(i),i}},{key:"Gc",value:function(){this.Bc&&mu()}},{key:"verifyOperationInProgress",value:function(){}},{key:"zc",value:function(){var e=ze(je().mark((function e(){var t;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Oc,e.next=3,t;case 3:if(t!==this.Oc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t,n=Le(this.$c);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Jc",value:function(e){var t=this;return this.zc().then((function(){t.$c.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Le(t.$c);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.zc()}))}},{key:"Yc",value:function(e){this.qc.push(e)}},{key:"Wc",value:function(e){var t=this.$c.indexOf(e);this.$c.splice(t,1)}}]),e}();function Ry(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Le(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var Dy=function(){function e(){$e(this,e),this._progressObserver={},this._taskCompletionResolver=new wu,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Ye(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),My=function(e){Be(n,e);var t=We(n);function n(e,r,i){var a;return $e(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new Py,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return Ye(n,[{key:"_terminate",value:function(){return this._firestoreClient||Ly(this),this._firestoreClient.terminate()}}]),n}(Ey);function Fy(e){return e._firestoreClient||Ly(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Ly(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Ps(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Xm(e._authCredentials,e._appCheckCredentials,e._queue,r)}function Vy(e,t,n){var r=new wu;return e.asyncQueue.enqueue(ze(je().mark((function i(){var a;return je().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Jm(e,n);case 3:return i.next=5,ey(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===bu.FAILED_PRECONDITION||e.code===bu.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function jy(e){return function(e){return e.asyncQueue.enqueue(ze(je().mark((function t(){var n,r;return je().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,oy(e);case 2:return n=t.sent,t.next=5,sy(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=gu(e);return t.lu.delete(0),Dp(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(Fy(e=ky(e,My)))}function Uy(e){return function(e){return e.asyncQueue.enqueue(ze(je().mark((function t(){var n,r;return je().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,oy(e);case 2:return n=t.sent,t.next=5,sy(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=ze(je().mark((function e(t){var n;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=gu(t)).lu.add(0),e.next=4,Fp(n);case 4:n._u.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(Fy(e=ky(e,My)))}function zy(e,t){var n=Fy(e=ky(e,My)),r=new Dy;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new $m(e,t)}(function(e,t){if(e instanceof Uint8Array)return Km(e,t);if(e instanceof ArrayBuffer)return Km(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Ip(t));e.asyncQueue.enqueueAndForget(ze(je().mark((function t(){return je().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=zm,t.next=3,cy(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function By(e,t){return function(e,t){return e.asyncQueue.enqueue(ze(je().mark((function n(){return je().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=gu(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ds.getNamedQuery(e,t)}))},n.next=3,uy(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(Fy(e=ky(e,My)),t).then((function(t){return t?new Iy(e,null,t.query):null}))}function qy(e){if(e._initialized||e._terminated)throw new ku(bu.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Hy=function(){function e(){$e(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new ku(bu.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Uu(n)}return Ye(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var Wy=function(){function e(t){$e(this,e),this._byteString=t}return Ye(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(_s.fromBase64String(t))}catch(t){throw new ku(bu.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(_s.fromUint8Array(t))}}]),e}(),Ky=Ye((function e(t){$e(this,e),this._methodName=t})),Gy=function(){function e(t,n){if($e(this,e),!isFinite(t)||t<-90||t>90)throw new ku(bu.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ku(bu.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Ye(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Pu(this._lat,e._lat)||Pu(this._long,e._long)}}]),e}(),$y=/^__.*__$/,Qy=function(){function e(t,n,r){$e(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Ye(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new yl(e,this.data,this.fieldMask,t,this.fieldTransforms):new ml(e,this.data,t,this.fieldTransforms)}}]),e}(),Yy=function(){function e(t,n,r){$e(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Ye(e,[{key:"toMutation",value:function(e,t){return new yl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function Xy(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mu()}}var Jy=function(){function e(t,n,r,i,a,o){$e(this,e),this.settings=t,this.databaseId=n,this.wt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Xc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Ye(e,[{key:"path",get:function(){return this.settings.path}},{key:"Zc",get:function(){return this.settings.Zc}},{key:"ta",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ea",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.sa(e),r}},{key:"ia",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.Xc(),r}},{key:"ra",value:function(e){return this.ta({path:void 0,na:!0})}},{key:"oa",value:function(e){return gg(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Xc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.sa(this.path.get(e))}},{key:"sa",value:function(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(Xy(this.Zc)&&$y.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}]),e}(),Zy=function(){function e(t,n,r){$e(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.wt=r||Ip(t)}return Ye(e,[{key:"aa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Jy({Zc:e,methodName:t,ca:n,path:Uu.emptyPath(),na:!1,ua:r},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}]),e}();function eg(e){var t=e._freezeSettings(),n=Ip(e._databaseId);return new Zy(e._databaseId,!!t.ignoreUndefinedProperties,n)}function tg(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.aa(a.merge||a.mergeFields?2:0,t,n,i);pg("Data must be an object, but it was:",o,r);var u,s,c=hg(r,o);if(a.merge)u=new Es(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=Le(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=vg(t,d,n);if(!o.contains(p))throw new ku(bu.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));bg(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new Es(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new Qy(new ic(c),u,s)}var ng=function(e){Be(n,e);var t=We(n);function n(){return $e(this,n),t.apply(this,arguments)}return Ye(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Zc)throw 1===e.Zc?e.oa("".concat(this._methodName,"() can only appear at the top level of your update data")):e.oa("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Ky);function rg(e,t,n){return new Jy({Zc:3,ca:t.settings.ca,methodName:e._methodName,na:n},t.databaseId,t.wt,t.ignoreUndefinedProperties)}var ig=function(e){Be(n,e);var t=We(n);function n(){return $e(this,n),t.apply(this,arguments)}return Ye(n,[{key:"_toFieldTransform",value:function(e){return new ol(e.path,new Jc)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Ky),ag=function(e){Be(n,e);var t=We(n);function n(e,r){var i;return $e(this,n),(i=t.call(this,e)).ha=r,i}return Ye(n,[{key:"_toFieldTransform",value:function(e){var t=rg(this,e,!0),n=this.ha.map((function(e){return fg(e,t)})),r=new Zc(n);return new ol(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Ky),og=function(e){Be(n,e);var t=We(n);function n(e,r){var i;return $e(this,n),(i=t.call(this,e)).ha=r,i}return Ye(n,[{key:"_toFieldTransform",value:function(e){var t=rg(this,e,!0),n=this.ha.map((function(e){return fg(e,t)})),r=new tl(n);return new ol(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Ky),ug=function(e){Be(n,e);var t=We(n);function n(e,r){var i;return $e(this,n),(i=t.call(this,e)).la=r,i}return Ye(n,[{key:"_toFieldTransform",value:function(e){var t=new rl(e.wt,Gc(e.wt,this.la));return new ol(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Ky);function sg(e,t,n,r){var i=e.aa(1,t,n);pg("Data must be an object, but it was:",i,r);var a=[],o=ic.empty();vs(r,(function(e,r){var u=yg(t,e,n);r=Tt(r);var s=i.ia(u);if(r instanceof ng)a.push(u);else{var c=fg(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Es(a);return new Yy(o,u,i.fieldTransforms)}function cg(e,t,n,r,i,a){var o=e.aa(1,t,n),u=[vg(t,r,n)],s=[i];if(a.length%2!=0)throw new ku(bu.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(vg(t,a[c])),s.push(a[c+1]);for(var l=[],f=ic.empty(),h=u.length-1;h>=0;--h)if(!bg(l,u[h])){var d=u[h],p=s[h];p=Tt(p);var v=o.ia(d);if(p instanceof ng)l.push(d);else{var m=fg(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new Es(l);return new Yy(f,y,o.fieldTransforms)}function lg(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return fg(n,e.aa(r?4:3,t))}function fg(e,t){if(dg(e=Tt(e)))return pg("Unsupported field value:",t,e),hg(e,t);if(e instanceof Ky)return function(e,t){if(!Xy(t.Zc))throw t.oa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.oa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.na&&4!==t.Zc)throw t.oa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Le(e);try{for(a.s();!(n=a.n()).done;){var o=fg(n.value,t.ra(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Tt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Gc(t.wt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Mu.fromDate(e);return{timestampValue:ef(t.wt,n)}}if(e instanceof Mu){var r=new Mu(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ef(t.wt,r)}}if(e instanceof Gy)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Wy)return{bytesValue:tf(t.wt,e._byteString)};if(e instanceof Sy){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.oa("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:af(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.oa("Unsupported field value: ".concat(by(e)))}(e,t)}function hg(e,t){var n={};return ms(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):vs(e,(function(e,r){var i=fg(r,t.ea(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function dg(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Mu||e instanceof Gy||e instanceof Wy||e instanceof Sy||e instanceof Ky)}function pg(e,t,n){if(!dg(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=by(n);throw"an object"===r?t.oa(e+" a custom object"):t.oa(e+" "+r)}}function vg(e,t,n){if((t=Tt(t))instanceof Hy)return t._internalPath;if("string"==typeof t)return yg(e,t);throw gg("Field path arguments must be of type string or ",e,!1,void 0,n)}var mg=new RegExp("[~\\*/\\[\\]]");function yg(e,t,n){if(t.search(mg)>=0)throw gg("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Re(Hy,Ge(t.split(".")))._internalPath}catch(r){throw gg("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function gg(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new ku(bu.INVALID_ARGUMENT,u+e+s)}function bg(e,t){return e.some((function(e){return e.isEqual(t)}))}var kg=function(){function e(t,n,r,i,a){$e(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Ye(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Sy(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new wg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(xg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),wg=function(e){Be(n,e);var t=We(n);function n(){return $e(this,n),t.apply(this,arguments)}return Ye(n,[{key:"data",value:function(){return Fe(De(n.prototype),"data",this).call(this)}}]),n}(kg);function xg(e,t){return"string"==typeof t?yg(e,t):t instanceof Hy?t._internalPath:t._delegate._internalPath}var Eg=function(){function e(t,n){$e(this,e),this.hasPendingWrites=t,this.fromCache=n}return Ye(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),_g=function(e){Be(n,e);var t=We(n);function n(e,r,i,a,o,u){var s;return $e(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Ye(n,[{key:"exists",value:function(){return Fe(De(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Sg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(xg("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(kg),Sg=function(e){Be(n,e);var t=We(n);function n(){return $e(this,n),t.apply(this,arguments)}return Ye(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Fe(De(n.prototype),"data",this).call(this,e)}}]),n}(_g),Ig=function(){function e(t,n,r,i){$e(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Eg(i.hasPendingWrites,i.fromCache),this.query=r}return Ye(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Sg(n._firestore,n._userDataWriter,r.key,r,new Eg(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ku(bu.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new Sg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Eg(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Sg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Eg(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Tg(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function Tg(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mu()}}function Cg(e,t){return e instanceof _g&&t instanceof _g?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Ig&&t instanceof Ig&&e._firestore===t._firestore&&Oy(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Ng(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new ku(bu.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ag=Ye((function e(){$e(this,e)}));function Og(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var Pg=function(e){Be(n,e);var t=We(n);function n(e,r,i){var a;return $e(this,n),(a=t.call(this)).fa=e,a.da=r,a._a=i,a.type="where",a}return Ye(n,[{key:"_apply",value:function(e){var t=eg(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new ku(bu.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){qg(o,a);var s,c=[],l=Le(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(Bg(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=Bg(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||qg(o,a),u=lg(n,"where",o,"in"===a||"not-in"===a);var h=vc.create(i,a,u);return function(e,t){if(t.ht()){var n=Rc(e);if(null!==n&&!n.isEqual(t.field))throw new ku(bu.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Pc(e);null!==r&&Hg(e,t.field,r)}var i=function(e,t){var n,r=Le(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new ku(bu.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new ku(bu.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new Iy(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Nc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(Ag);var Rg=function(e){Be(n,e);var t=We(n);function n(e,r){var i;return $e(this,n),(i=t.call(this)).fa=e,i.wa=r,i.type="orderBy",i}return Ye(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new ku(bu.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new ku(bu.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Sc(t,n);return function(e,t){if(null===Pc(e)){var n=Rc(e);null!==n&&Hg(e,n,t.field)}}(e,r),r}(e._query,this.fa,this.wa);return new Iy(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Nc(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(Ag);var Dg=function(e){Be(n,e);var t=We(n);function n(e,r,i){var a;return $e(this,n),(a=t.call(this)).type=e,a.ma=r,a.ga=i,a}return Ye(n,[{key:"_apply",value:function(e){return new Iy(e.firestore,e.converter,Lc(e._query,this.ma,this.ga))}}]),n}(Ag);var Mg=function(e){Be(n,e);var t=We(n);function n(e,r,i){var a;return $e(this,n),(a=t.call(this)).type=e,a.ya=r,a.pa=i,a}return Ye(n,[{key:"_apply",value:function(e){var t=zg(e,this.type,this.ya,this.pa);return new Iy(e.firestore,e.converter,function(e,t){return new Nc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(Ag);function Fg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Mg("startAt",t,!0)}function Lg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Mg("startAfter",t,!1)}var Vg=function(e){Be(n,e);var t=We(n);function n(e,r,i){var a;return $e(this,n),(a=t.call(this)).type=e,a.ya=r,a.pa=i,a}return Ye(n,[{key:"_apply",value:function(e){var t=zg(e,this.type,this.ya,this.pa);return new Iy(e.firestore,e.converter,function(e,t){return new Nc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(Ag);function jg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Vg("endBefore",t,!1)}function Ug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Vg("endAt",t,!0)}function zg(e,t,n,r){if(n[0]=Tt(n[0]),n[0]instanceof kg)return function(e,t,n,r,i){if(!r)throw new ku(bu.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=Le(Mc(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Ks(t,r.key));else{var c=r.data.field(s.field);if(Ns(c))throw new ku(bu.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new ku(bu.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new _c(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=eg(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new ku(bu.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new ku(bu.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Dc(e)&&-1!==c.indexOf("/"))throw new ku(bu.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Vu.fromString(c));if(!zu.isDocumentKey(l))throw new ku(bu.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new zu(l);u.push(Ks(t,f))}else{var h=lg(n,r,c);u.push(h)}}return new _c(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function Bg(e,t,n){if("string"==typeof(n=Tt(n))){if(""===n)throw new ku(bu.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Dc(t)&&-1!==n.indexOf("/"))throw new ku(bu.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Vu.fromString(n));if(!zu.isDocumentKey(r))throw new ku(bu.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Ks(e,new zu(r))}if(n instanceof Sy)return Ks(e,n._key);throw new ku(bu.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(by(n),"."))}function qg(e,t){if(!Array.isArray(e)||0===e.length)throw new ku(bu.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new ku(bu.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function Hg(e,t,n){if(!n.isEqual(t))throw new ku(bu.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var Wg={maxAttempts:5},Kg=function(){function e(){$e(this,e)}return Ye(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(js(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ts(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Cs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw mu()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return vs(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new Gy(Ts(e.latitude),Ts(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=As(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Os(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Is(e);return new Mu(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Vu.fromString(e);yu(Nf(n));var r=new Rs(n.get(1),n.get(3)),i=new zu(n.popFirst(5));return r.isEqual(t)||du("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function Gg(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var $g=function(e){Be(n,e);var t=We(n);function n(e){var r;return $e(this,n),(r=t.call(this)).firestore=e,r}return Ye(n,[{key:"convertBytes",value:function(e){return new Wy(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Sy(this.firestore,null,t)}}]),n}(Kg),Qg=function(){function e(t,n){$e(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=eg(t)}return Ye(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=Yg(e,this._firestore),i=Gg(r.converter,t,n),a=tg(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,sl.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=Yg(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Tt(t))||t instanceof Hy?cg(this._dataReader,"WriteBatch.update",i._key,t,n,o):sg(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,sl.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=Yg(e,this._firestore);return this._mutations=this._mutations.concat(new El(t._key,sl.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new ku(bu.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function Yg(e,t){if((e=Tt(e)).firestore!==t)throw new ku(bu.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var Xg=function(e){Be(n,e);var t=We(n);function n(e){var r;return $e(this,n),(r=t.call(this)).firestore=e,r}return Ye(n,[{key:"convertBytes",value:function(e){return new Wy(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Sy(this.firestore,null,t)}}]),n}(Kg);function Jg(e){e=ky(e,Sy);var t=ky(e.firestore,My),n=Fy(t),r=new Xg(t);return function(e,t){var n=new wu;return e.asyncQueue.enqueueAndForget(ze(je().mark((function r(){return je().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=ze(je().mark((function e(t,n,r){var i,a;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=gu(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new ku(bu.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=xv(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,uy(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new _g(t,r,e._key,n,new Eg(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function Zg(e){e=ky(e,Iy);var t=ky(e.firestore,My),n=Fy(t),r=new Xg(t);return Ng(e._query),dy(n,e._query).then((function(n){return new Ig(t,r,e,n)}))}function eb(e){e=ky(e,Iy);var t=ky(e.firestore,My),n=Fy(t),r=new Xg(t);return function(e,t){var n=new wu;return e.asyncQueue.enqueueAndForget(ze(je().mark((function r(){return je().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=ze(je().mark((function e(t,n,r){var i,a,o,u,s;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tp(t,n,!0);case 3:i=e.sent,a=new Bv(n,i.ji),o=a.Ku(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=xv(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,uy(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new Ig(t,r,e,n)}))}function tb(e,t,n){e=ky(e,Sy);var r=ky(e.firestore,My),i=Gg(e.converter,t,n);return ab(r,[tg(eg(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,sl.none())])}function nb(e,t,n){e=ky(e,Sy);for(var r=ky(e.firestore,My),i=eg(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return ab(r,[("string"==typeof(t=Tt(t))||t instanceof Hy?cg(i,"updateDoc",e._key,t,n,o):sg(i,"updateDoc",e._key,t)).toMutation(e._key,sl.exists(!0))])}function rb(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Tt(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||Ry(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(Ry(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof Sy)l=ky(e.firestore,My),f=Oc(e._key.path),c={next:function(t){n[s]&&n[s](ob(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=ky(e,Iy);l=ky(p.firestore,My),f=p._query;var v=new Xg(l);c={next:function(e){n[s]&&n[s](new Ig(l,v,p,e))},error:n[s+1],complete:n[s+2]},Ng(e._query)}return function(e,t,n,r){var i=new Gm(r),a=new Mv(t,i,n);return e.asyncQueue.enqueueAndForget(ze(je().mark((function t(){return je().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Cv,t.next=3,ly(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Tc(),e.asyncQueue.enqueueAndForget(ze(je().mark((function t(){return je().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Av,t.next=3,ly(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Fy(l),f,h,c)}function ib(e,t){return function(e,t){var n=new Gm(t);return e.asyncQueue.enqueueAndForget(ze(je().mark((function t(){return je().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){gu(e).Tu.add(t),t.next()},t.next=3,ly(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Tc(),e.asyncQueue.enqueueAndForget(ze(je().mark((function t(){return je().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){gu(e).Tu.delete(t)},t.next=3,ly(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Fy(e=ky(e,My)),Ry(t)?t:{next:t})}function ab(e,t){return function(e,t){var n=new wu;return e.asyncQueue.enqueueAndForget(ze(je().mark((function r(){return je().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Jv,r.next=3,cy(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(Fy(e),t)}function ob(e,t,n){var r=n.docs.get(t._key),i=new Xg(e);return new _g(e,i,t._key,r,new Eg(n.hasPendingWrites,n.fromCache),t.converter)}var ub,sb=function(e){Be(n,e);var t=We(n);function n(e,r){var i;return $e(this,n),(i=t.call(this,e,r))._firestore=e,i}return Ye(n,[{key:"get",value:function(e){var t=this,r=Yg(e,this._firestore),i=new Xg(this._firestore);return Fe(De(n.prototype),"get",this).call(this,e).then((function(e){return new _g(t._firestore,i,r._key,e._document,new Eg(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){$e(this,e),this._firestore=t,this._transaction=n,this._dataReader=eg(t)}return Ye(e,[{key:"get",value:function(e){var t=this,n=Yg(e,this._firestore),r=new $g(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return mu();var i=e[0];if(i.isFoundDocument())return new kg(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new kg(t._firestore,r,n._key,null,n.converter);throw mu()}))}},{key:"set",value:function(e,t,n){var r=Yg(e,this._firestore),i=Gg(r.converter,t,n),a=tg(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=Yg(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Tt(t))||t instanceof Hy?cg(this._dataReader,"Transaction.update",i._key,t,n,o):sg(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=Yg(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function cb(e,t,n){e=ky(e,My);var r=Object.assign(Object.assign({},Wg),n);return function(e){if(e.maxAttempts<1)throw new ku(bu.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new wu;return e.asyncQueue.enqueueAndForget(ze(je().mark((function i(){var a;return je().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,function(e){return iy(e).then((function(e){return e.datastore}))}(e);case 2:a=i.sent,new Ym(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(Fy(e),(function(n){return t(new sb(e,n))}),r)}function lb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ag("arrayUnion",t)}function fb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new og("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){cu=e}(_n),yn(new Ct("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new My(i,new Su(e.getProvider("auth-internal")),new Nu(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),An(uu,"3.4.11",e),An(uu,"3.4.11","esm2017")}();var hb=function(){function e(t,n){var r=this;$e(this,e),this._delegate=t,this.firebase=n,vn(t,new Ct("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Ye(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Cn(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fn;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fn;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){vn(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){mn(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),db=(Xe(ub={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Xe(ub,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),ub),pb=new vt("app-compat","Firebase",db);var vb=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Sn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(gt(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:An,setLogLevel:Pn,onLog:On,apps:null,SDK_VERSION:_n,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(yn(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw pb.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&rt(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!gt(n,e=e||fn))throw pb.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(hb);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){rt(n,e)},createSubscribe:_t,ErrorFactory:vt,deepExtend:rt}),n}(),mb=new jt("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){mb.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var yb=self.firebase.SDK_VERSION;yb&&yb.indexOf("LITE")>=0&&mb.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var gb=vb;!function(e){An("@firebase/app-compat","0.1.28",e)}();gb.registerVersion("firebase","9.8.4","app-compat");function bb(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var kb;Object.create;var wb="facebook.com",xb="github.com",Eb="google.com",_b="password",Sb="twitter.com",Ib="EMAIL_SIGNIN",Tb="PASSWORD_RESET",Cb="RECOVER_EMAIL",Nb="REVERT_SECOND_FACTOR_ADDITION",Ab="VERIFY_AND_CHANGE_EMAIL",Ob="VERIFY_EMAIL";function Pb(){return Xe({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Rb=function(){var e;return Xe(e={},"admin-restricted-operation","This operation is restricted to administrators only."),Xe(e,"argument-error",""),Xe(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Xe(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Xe(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Xe(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Xe(e,"cordova-not-ready","Cordova framework is not ready."),Xe(e,"cors-unsupported","This browser is not supported."),Xe(e,"credential-already-in-use","This credential is already associated with a different user account."),Xe(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Xe(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Xe(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Xe(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Xe(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Xe(e,"email-already-in-use","The email address is already in use by another account."),Xe(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Xe(e,"expired-action-code","The action code has expired."),Xe(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Xe(e,"internal-error","An internal AuthError has occurred."),Xe(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Xe(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Xe(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Xe(e,"invalid-auth-event","An internal AuthError has occurred."),Xe(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Xe(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Xe(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Xe(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Xe(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Xe(e,"invalid-email","The email address is badly formatted."),Xe(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Xe(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Xe(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Xe(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Xe(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Xe(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Xe(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Xe(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Xe(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Xe(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Xe(e,"wrong-password","The password is invalid or the user does not have a password."),Xe(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Xe(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Xe(e,"invalid-provider-id","The specified provider ID is invalid."),Xe(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Xe(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Xe(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Xe(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Xe(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),Xe(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Xe(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Xe(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Xe(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Xe(e,"missing-continue-uri","A continue URL must be provided in the request."),Xe(e,"missing-iframe-start","An internal AuthError has occurred."),Xe(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Xe(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Xe(e,"missing-multi-factor-info","No second factor identifier is provided."),Xe(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Xe(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Xe(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Xe(e,"app-deleted","This instance of FirebaseApp has been deleted."),Xe(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Xe(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Xe(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Xe(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Xe(e,"no-auth-event","An internal AuthError has occurred."),Xe(e,"no-such-provider","User was not linked to an account with the given provider."),Xe(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Xe(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Xe(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Xe(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Xe(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Xe(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Xe(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Xe(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Xe(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Xe(e,"rejected-credential","The request contains malformed or mismatching credentials."),Xe(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Xe(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Xe(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Xe(e,"timeout","The operation has timed out."),Xe(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Xe(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Xe(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Xe(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Xe(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Xe(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Xe(e,"unverified-email","The operation requires a verified email."),Xe(e,"user-cancelled","The user did not grant your application the permissions it requested."),Xe(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Xe(e,"user-disabled","The user account has been disabled by an administrator."),Xe(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Xe(e,"user-signed-out",""),Xe(e,"weak-password","The password must be 6 characters long or more."),Xe(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Xe(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},Db=Pb,Mb=new vt("auth","Firebase",Pb()),Fb=new jt("@firebase/auth");function Lb(e){if(Fb.logLevel<=Pt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Fb.error.apply(Fb,["Auth (".concat(_n,"): ").concat(e)].concat(n))}}function Vb(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Bb.apply(void 0,[e].concat(n))}function jb(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Bb.apply(void 0,[e].concat(n))}function Ub(e,t,n){var r=Object.assign(Object.assign({},Db()),Xe({},t,n));return new vt("auth","Firebase",r).create(t,{appName:e.name})}function zb(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Vb(e,"argument-error"),Ub(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Bb(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=Ge(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Ge(o)))}return Mb.create.apply(Mb,[e].concat(n))}function qb(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Bb.apply(void 0,[t].concat(r))}}function Hb(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Lb(t),new Error(t)}function Wb(e,t){e||Hb(t)}var Kb=new Map;function Gb(e){Wb(e instanceof Function,"Expected a class definition");var t=Kb.get(e);return t?(Wb(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Kb.set(e,t),t)}function $b(e,t){var n=gn(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(bt(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;Vb(r,"already-initialized")}return n.initialize({options:t})}function Qb(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Yb(){return"http:"===Xb()||"https:"===Xb()}function Xb(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Jb=function(){function e(t,n){$e(this,e),this.shortDelay=t,this.longDelay=n,Wb(n>t,"Short delay should be less than long delay!"),this.isMobile=st()||ft()}return Ye(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Yb()||lt()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Zb(e,t){Wb(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var ek=function(){function e(){$e(this,e)}return Ye(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Hb("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Hb("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Hb("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),tk=(Xe(kb={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Xe(kb,"MISSING_CUSTOM_TOKEN","internal-error"),Xe(kb,"INVALID_IDENTIFIER","invalid-email"),Xe(kb,"MISSING_CONTINUE_URI","internal-error"),Xe(kb,"INVALID_PASSWORD","wrong-password"),Xe(kb,"MISSING_PASSWORD","internal-error"),Xe(kb,"EMAIL_EXISTS","email-already-in-use"),Xe(kb,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Xe(kb,"INVALID_IDP_RESPONSE","invalid-credential"),Xe(kb,"INVALID_PENDING_TOKEN","invalid-credential"),Xe(kb,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Xe(kb,"MISSING_REQ_TYPE","internal-error"),Xe(kb,"EMAIL_NOT_FOUND","user-not-found"),Xe(kb,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Xe(kb,"EXPIRED_OOB_CODE","expired-action-code"),Xe(kb,"INVALID_OOB_CODE","invalid-action-code"),Xe(kb,"MISSING_OOB_CODE","internal-error"),Xe(kb,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Xe(kb,"INVALID_ID_TOKEN","invalid-user-token"),Xe(kb,"TOKEN_EXPIRED","user-token-expired"),Xe(kb,"USER_NOT_FOUND","user-token-expired"),Xe(kb,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Xe(kb,"INVALID_CODE","invalid-verification-code"),Xe(kb,"INVALID_SESSION_INFO","invalid-verification-id"),Xe(kb,"INVALID_TEMPORARY_PROOF","invalid-credential"),Xe(kb,"MISSING_SESSION_INFO","missing-verification-id"),Xe(kb,"SESSION_EXPIRED","code-expired"),Xe(kb,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Xe(kb,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Xe(kb,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Xe(kb,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Xe(kb,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Xe(kb,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Xe(kb,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Xe(kb,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Xe(kb,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Xe(kb,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Xe(kb,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),kb),nk=new Jb(3e4,6e4);function rk(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function ik(e,t,n,r){return ak.apply(this,arguments)}function ak(){return ak=ze(je().mark((function e(t,n,r,i){var a,o=arguments;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",ok(t,a,ze(je().mark((function e(){var a,o,u,s;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=wt(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",ek.fetch()(lk(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),ak.apply(this,arguments)}function ok(e,t,n){return uk.apply(this,arguments)}function uk(){return uk=ze(je().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},tk),n),e.prev=2,a=new fk(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw hk(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),l=Oe(c,2),f=l[0],h=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw hk(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==f){e.next=27;break}throw hk(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==f){e.next=29;break}throw hk(t,"user-disabled",u);case 29:if(d=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=34;break}throw Ub(t,d,h);case 34:Vb(t,d);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof pt)){e.next=41;break}throw e.t0;case 41:Vb(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),uk.apply(this,arguments)}function sk(e,t,n,r){return ck.apply(this,arguments)}function ck(){return ck=ze(je().mark((function e(t,n,r,i){var a,o,u=arguments;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,ik(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Vb(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),ck.apply(this,arguments)}function lk(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Zb(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var fk=function(){function e(t){var n=this;$e(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(jb(n.auth,"network-request-failed"))}),nk.get())}))}return Ye(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function hk(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=jb(e,t,r);return i.customData._tokenResponse=n,i}function dk(e,t){return pk.apply(this,arguments)}function pk(){return pk=ze(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ik(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),pk.apply(this,arguments)}function vk(e,t){return mk.apply(this,arguments)}function mk(){return mk=ze(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ik(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),mk.apply(this,arguments)}function yk(e,t){return gk.apply(this,arguments)}function gk(){return gk=ze(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ik(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),gk.apply(this,arguments)}function bk(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(kA){}}function kk(){return kk=ze(je().mark((function e(t){var n,r,i,a,o,u,s=arguments;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Tt(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,qb((a=xk(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:bk(wk(a.auth_time)),issuedAtTime:bk(wk(a.iat)),expirationTime:bk(wk(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),kk.apply(this,arguments)}function wk(e){return 1e3*Number(e)}function xk(e){var t,n=Oe(e.split("."),3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return Lb("JWT malformed, contained fewer than 3 sections"),null;try{var o=nt(i);return o?JSON.parse(o):(Lb("Failed to decode base64 JWT payload"),null)}catch(kA){return Lb("Caught error parsing JWT payload as JSON",null===(t=kA)||void 0===t?void 0:t.toString()),null}}function Ek(e,t){return _k.apply(this,arguments)}function _k(){return _k=ze(je().mark((function e(t,n){var r=arguments;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof pt&&Sk(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),_k.apply(this,arguments)}function Sk(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Ik=function(){function e(t){$e(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Ye(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(ze(je().mark((function t(){return je().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=ze(je().mark((function e(){var t;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===(t=e.t0)||void 0===t?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Tk=function(){function e(t,n){$e(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Ye(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=bk(this.lastLoginAt),this.creationTime=bk(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Ck(e){return Nk.apply(this,arguments)}function Nk(){return Nk=ze(je().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Ek(t,yk(r,{idToken:i}));case 6:qb(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Pk(o.providerUserInfo):[],s=Ok(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Tk(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Nk.apply(this,arguments)}function Ak(){return(Ak=ze(je().mark((function e(t){var n;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Tt(t),e.next=3,Ck(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ok(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(Ge(n),Ge(t))}function Pk(e){return e.map((function(e){var t=e.providerId,n=bb(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Rk(e,t){return Dk.apply(this,arguments)}function Dk(){return Dk=ze(je().mark((function e(t,n){var r;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ok(t,{},ze(je().mark((function e(){var r,i,a,o,u,s;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=wt({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=lk(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",ek.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Dk.apply(this,arguments)}var Mk=function(){function e(){$e(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Ye(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){qb(e.idToken,"internal-error"),qb("undefined"!==typeof e.idToken,"internal-error"),qb("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=xk(e);return qb(t,"internal-error"),qb("undefined"!==typeof t.exp,"internal-error"),qb("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=ze(je().mark((function e(t){var n,r=arguments;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],qb(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=ze(je().mark((function e(t,n){var r,i,a,o;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rk(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Hb("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(qb("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(qb("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(qb("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Fk(e,t){qb("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Lk=function(){function e(t){$e(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=bb(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ik(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?Ge(a.providerData):[],this.metadata=new Tk(a.createdAt||void 0,a.lastLoginAt||void 0)}return Ye(e,[{key:"getIdToken",value:function(){var e=ze(je().mark((function e(t){var n;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ek(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(qb(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return kk.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Ak.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(qb(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){qb(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=ze(je().mark((function e(t){var n,r,i=arguments;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Ck(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=ze(je().mark((function e(){var t;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Ek(this,dk(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,b=n.uid,k=n.emailVerified,w=n.isAnonymous,x=n.providerData,E=n.stsTokenManager;qb(b&&E,t,"internal-error");var _=Mk.fromJSON(this.name,E);qb("string"===typeof b,t,"internal-error"),Fk(f,t.name),Fk(h,t.name),qb("boolean"===typeof k,t,"internal-error"),qb("boolean"===typeof w,t,"internal-error"),Fk(d,t.name),Fk(p,t.name),Fk(v,t.name),Fk(m,t.name),Fk(y,t.name),Fk(g,t.name);var S=new e({uid:b,auth:t,email:h,emailVerified:k,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:_,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(S.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(S._redirectEventId=m),S}},{key:"_fromIdTokenResponse",value:function(){var t=ze(je().mark((function t(n,r){var i,a,o,u=arguments;return je().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new Mk).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Ck(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Vk=function(){function e(){$e(this,e),this.type="NONE",this.storage={}}return Ye(e,[{key:"_isAvailable",value:function(){var e=ze(je().mark((function e(){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=ze(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ze(je().mark((function e(t){var n;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ze(je().mark((function e(t){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Vk.type="NONE";var jk=Vk;function Uk(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var zk=function(){function e(t,n,r){$e(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Uk(this.userKey,a.apiKey,o),this.fullPersistenceKey=Uk("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Ye(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=ze(je().mark((function e(){var t;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Lk._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=ze(je().mark((function e(t){var n;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=ze(je().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return je().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Gb(jk),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=ze(je().mark((function e(t){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Gb(jk),u=Uk(i,n.config.apiKey,n.name),s=null,c=Le(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=Lk._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=ze(je().mark((function e(t){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Bk(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Kk(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(qk(t))return"Firefox";if(t.includes("silk/"))return"Silk";if($k(t))return"Blackberry";if(Qk(t))return"Webos";if(Hk(t))return"Safari";if((t.includes("chrome/")||Wk(t))&&!t.includes("edge/"))return"Chrome";if(Gk(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function qk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut();return/firefox\//i.test(e)}function Hk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Wk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut();return/crios\//i.test(e)}function Kk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut();return/iemobile/i.test(e)}function Gk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut();return/android/i.test(e)}function $k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut();return/blackberry/i.test(e)}function Qk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut();return/webos/i.test(e)}function Yk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut();return/iphone|ipad|ipod/i.test(e)}function Xk(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut();return Yk(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Jk(){return ht()&&10===document.documentMode}function Zk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut();return Yk(e)||Gk(e)||Qk(e)||$k(e)||/windows phone/i.test(e)||Kk(e)}function ew(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Bk(ut());break;case"Worker":t="".concat(Bk(ut()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(_n,"/").concat(r)}var tw=function(){function e(t){$e(this,e),this.auth=t,this.queue=[]}return Ye(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(kA){r(kA)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=ze(je().mark((function e(t){var n,r,i,a,o,u,s,c;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=Le(this.queue),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=14;break}return o=a.value,e.next=11,o(t);case 11:o.onAbort&&r.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),u=Le(r);try{for(u.s();!(s=u.n()).done;){c=s.value;try{c()}catch(l){}}}catch(f){u.e(f)}finally{u.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),nw=function(){function e(t,n,r){$e(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new iw(this),this.idTokenSubscription=new iw(this),this.beforeStateQueue=new tw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Mb,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return Ye(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Gb(t)),this._initializationPromise=this.queue(ze(je().mark((function r(){var i,a;return je().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,zk.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=ze(je().mark((function e(){var t;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=ze(je().mark((function e(t){var n,r,i,a,o,u,s;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return qb(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=ze(je().mark((function e(t){var n;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=ze(je().mark((function e(t){var n;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ck(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=ze(je().mark((function e(){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=ze(je().mark((function e(t){var n;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Tt(t):null)&&qb(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=ze(je().mark((function e(t){var n,r=this,i=arguments;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&qb(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(ze(je().mark((function e(){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=ze(je().mark((function e(){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(ze(je().mark((function n(){return je().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Gb(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new vt("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=ze(je().mark((function e(t,n){var r;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=ze(je().mark((function e(t){var n;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return qb(n=t&&Gb(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,zk.create(this,[Gb(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=ze(je().mark((function e(t){var n,r;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(ze(je().mark((function e(){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=ze(je().mark((function e(t){var n=this;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(ze(je().mark((function e(){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return qb(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=ze(je().mark((function e(t){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return qb(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ew(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=ze(je().mark((function e(){var t,n,r;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Xe({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function rw(e){return Tt(e)}var iw=function(){function e(t){var n=this;$e(this,e),this.auth=t,this.observer=null,this.addObserver=_t((function(e){return n.observer=e}))}return Ye(e,[{key:"next",get:function(){return qb(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function aw(e,t,n){var r=rw(e);qb(r._canInitEmulator,r,"emulator-config-failed"),qb(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=ow(t),o=function(e){var t=ow(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:uw(r.substr(a.length+1))}}var o=Oe(r.split(":"),2);return{host:o[0],port:uw(o[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function ow(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function uw(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var sw=function(){function e(t,n){$e(this,e),this.providerId=t,this.signInMethod=n}return Ye(e,[{key:"toJSON",value:function(){return Hb("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Hb("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Hb("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Hb("not implemented")}}]),e}();function cw(e,t){return lw.apply(this,arguments)}function lw(){return lw=ze(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ik(t,"POST","/v1/accounts:resetPassword",rk(t,n)));case 1:case"end":return e.stop()}}),e)}))),lw.apply(this,arguments)}function fw(e,t){return hw.apply(this,arguments)}function hw(){return hw=ze(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ik(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),hw.apply(this,arguments)}function dw(e,t){return pw.apply(this,arguments)}function pw(){return pw=ze(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ik(t,"POST","/v1/accounts:update",rk(t,n)));case 1:case"end":return e.stop()}}),e)}))),pw.apply(this,arguments)}function vw(e,t){return mw.apply(this,arguments)}function mw(){return mw=ze(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sk(t,"POST","/v1/accounts:signInWithPassword",rk(t,n)));case 1:case"end":return e.stop()}}),e)}))),mw.apply(this,arguments)}function yw(e,t){return gw.apply(this,arguments)}function gw(){return gw=ze(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ik(t,"POST","/v1/accounts:sendOobCode",rk(t,n)));case 1:case"end":return e.stop()}}),e)}))),gw.apply(this,arguments)}function bw(e,t){return kw.apply(this,arguments)}function kw(){return kw=ze(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yw(t,n));case 1:case"end":return e.stop()}}),e)}))),kw.apply(this,arguments)}function ww(e,t){return xw.apply(this,arguments)}function xw(){return xw=ze(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yw(t,n));case 1:case"end":return e.stop()}}),e)}))),xw.apply(this,arguments)}function Ew(e,t){return _w.apply(this,arguments)}function _w(){return _w=ze(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yw(t,n));case 1:case"end":return e.stop()}}),e)}))),_w.apply(this,arguments)}function Sw(e,t){return Iw.apply(this,arguments)}function Iw(){return Iw=ze(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yw(t,n));case 1:case"end":return e.stop()}}),e)}))),Iw.apply(this,arguments)}function Tw(e,t){return Cw.apply(this,arguments)}function Cw(){return Cw=ze(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sk(t,"POST","/v1/accounts:signInWithEmailLink",rk(t,n)));case 1:case"end":return e.stop()}}),e)}))),Cw.apply(this,arguments)}function Nw(e,t){return Aw.apply(this,arguments)}function Aw(){return Aw=ze(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sk(t,"POST","/v1/accounts:signInWithEmailLink",rk(t,n)));case 1:case"end":return e.stop()}}),e)}))),Aw.apply(this,arguments)}var Ow=function(e){Be(n,e);var t=We(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return $e(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Ye(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=ze(je().mark((function e(t){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",vw(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Tw(t,{email:this._email,oobCode:this._password}));case 5:Vb(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=ze(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",fw(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Nw(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Vb(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(sw);function Pw(e,t){return Rw.apply(this,arguments)}function Rw(){return Rw=ze(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sk(t,"POST","/v1/accounts:signInWithIdp",rk(t,n)));case 1:case"end":return e.stop()}}),e)}))),Rw.apply(this,arguments)}var Dw=function(e){Be(n,e);var t=We(n);function n(){var e;return $e(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Ye(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Pw(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Pw(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Pw(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=wt(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Vb("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=bb(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(sw);function Mw(e,t){return Fw.apply(this,arguments)}function Fw(){return Fw=ze(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ik(t,"POST","/v1/accounts:sendVerificationCode",rk(t,n)));case 1:case"end":return e.stop()}}),e)}))),Fw.apply(this,arguments)}function Lw(){return Lw=ze(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sk(t,"POST","/v1/accounts:signInWithPhoneNumber",rk(t,n)));case 1:case"end":return e.stop()}}),e)}))),Lw.apply(this,arguments)}function Vw(){return Vw=ze(je().mark((function e(t,n){var r;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sk(t,"POST","/v1/accounts:signInWithPhoneNumber",rk(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw hk(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Vw.apply(this,arguments)}var jw=Xe({},"USER_NOT_FOUND","user-not-found");function Uw(){return Uw=ze(je().mark((function e(t,n){var r;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",sk(t,"POST","/v1/accounts:signInWithPhoneNumber",rk(t,r),jw));case 2:case"end":return e.stop()}}),e)}))),Uw.apply(this,arguments)}var zw=function(e){Be(n,e);var t=We(n);function n(e){var r;return $e(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Ye(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Lw.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Vw.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Uw.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(sw);var Bw=function(){function e(t){var n,r,i,a,o,u;$e(this,e);var s=xt(Et(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);qb(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return Ye(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=xt(Et(e)).link,n=t?xt(Et(t)).deep_link_id:null,r=xt(Et(e)).deep_link_id;return(r?xt(Et(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(py){return null}}}]),e}();var qw=function(){function e(){$e(this,e),this.providerId=e.PROVIDER_ID}return Ye(e,null,[{key:"credential",value:function(e,t){return Ow._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Bw.parseLink(t);return qb(n,"argument-error"),Ow._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();qw.PROVIDER_ID="password",qw.EMAIL_PASSWORD_SIGN_IN_METHOD="password",qw.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Hw=function(){function e(t){$e(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Ye(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Ww=function(e){Be(n,e);var t=We(n);function n(){var e;return $e(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Ye(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Ge(this.scopes)}}]),n}(Hw),Kw=function(e){Be(n,e);var t=We(n);function n(){return $e(this,n),t.apply(this,arguments)}return Ye(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return qb(e.idToken||e.accessToken,"argument-error"),Dw._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return qb("providerId"in t&&"signInMethod"in t,"argument-error"),Dw._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(kA){return null}}}]),n}(Ww),Gw=function(e){Be(n,e);var t=We(n);function n(){return $e(this,n),t.call(this,"facebook.com")}return Ye(n,null,[{key:"credential",value:function(e){return Dw._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(py){return null}}}]),n}(Ww);Gw.FACEBOOK_SIGN_IN_METHOD="facebook.com",Gw.PROVIDER_ID="facebook.com";var $w=function(e){Be(n,e);var t=We(n);function n(){var e;return $e(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Ye(n,null,[{key:"credential",value:function(e,t){return Dw._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(py){return null}}}]),n}(Ww);$w.GOOGLE_SIGN_IN_METHOD="google.com",$w.PROVIDER_ID="google.com";var Qw=function(e){Be(n,e);var t=We(n);function n(){return $e(this,n),t.call(this,"github.com")}return Ye(n,null,[{key:"credential",value:function(e){return Dw._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(py){return null}}}]),n}(Ww);Qw.GITHUB_SIGN_IN_METHOD="github.com",Qw.PROVIDER_ID="github.com";var Yw=function(e){Be(n,e);var t=We(n);function n(e,r){var i;return $e(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return Ye(n,[{key:"_getIdTokenResponse",value:function(e){return Pw(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Pw(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Pw(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(sw),Xw=function(e){Be(n,e);var t=We(n);function n(e){return $e(this,n),qb(e.startsWith("saml."),"argument-error"),t.call(this,e)}return Ye(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Yw.fromJSON(e);return qb(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Yw._create(r,n)}catch(kA){return null}}}]),n}(Hw),Jw=function(e){Be(n,e);var t=We(n);function n(){return $e(this,n),t.call(this,"twitter.com")}return Ye(n,null,[{key:"credential",value:function(e,t){return Dw._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(py){return null}}}]),n}(Ww);function Zw(e,t){return ex.apply(this,arguments)}function ex(){return ex=ze(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sk(t,"POST","/v1/accounts:signUp",rk(t,n)));case 1:case"end":return e.stop()}}),e)}))),ex.apply(this,arguments)}Jw.TWITTER_SIGN_IN_METHOD="twitter.com",Jw.PROVIDER_ID="twitter.com";var tx=function(){function e(t){$e(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Ye(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=ze(je().mark((function t(n,r,i){var a,o,u,s,c=arguments;return je().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Lk._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=nx(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=ze(je().mark((function t(n,r,i){var a;return je().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=nx(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function nx(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function rx(){return rx=ze(je().mark((function e(t){var n,r,i,a;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=rw(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new tx({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Zw(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,tx._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),rx.apply(this,arguments)}var ix=function(e){Be(n,e);var t=We(n);function n(e,r,i,a){var o,u;return $e(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(qe(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Ye(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(pt);function ax(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw ix._fromErrorAndOperation(e,n,t,r);throw n}))}function ox(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function ux(e,t){return sx.apply(this,arguments)}function sx(){return sx=ze(je().mark((function e(t,n){var r,i,a,o;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Tt(t),e.next=3,fx(!0,r,n);case 3:return e.t0=vk,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=ox(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),sx.apply(this,arguments)}function cx(e,t){return lx.apply(this,arguments)}function lx(){return lx=ze(je().mark((function e(t,n){var r,i,a=arguments;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Ek,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",tx._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),lx.apply(this,arguments)}function fx(e,t,n){return hx.apply(this,arguments)}function hx(){return(hx=ze(je().mark((function e(t,n,r){var i,a;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ck(n);case 2:i=ox(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",qb(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dx(e,t){return px.apply(this,arguments)}function px(){return px=ze(je().mark((function e(t,n){var r,i,a,o,u,s,c,l=arguments;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],a=t.auth,o="reauthenticate",e.prev=3,e.next=6,Ek(t,ax(a,o,n,t),r);case 6:return qb((u=e.sent).idToken,a,"internal-error"),qb(s=xk(u.idToken),a,"internal-error"),c=s.sub,qb(t.uid===c,a,"user-mismatch"),e.abrupt("return",tx._forOperation(t,o,u));case 15:throw e.prev=15,e.t0=e.catch(3),(null===(i=e.t0)||void 0===i?void 0:i.code)==="auth/".concat("user-not-found")&&Vb(a,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),px.apply(this,arguments)}function vx(e,t){return mx.apply(this,arguments)}function mx(){return mx=ze(je().mark((function e(t,n){var r,i,a,o,u=arguments;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,ax(t,i,n);case 4:return a=e.sent,e.next=7,tx._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),mx.apply(this,arguments)}function yx(e,t){return gx.apply(this,arguments)}function gx(){return gx=ze(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vx(rw(t),n));case 1:case"end":return e.stop()}}),e)}))),gx.apply(this,arguments)}function bx(e,t){return kx.apply(this,arguments)}function kx(){return(kx=ze(je().mark((function e(t,n){var r;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Tt(t),e.next=3,fx(!1,r,n.providerId);case 3:return e.abrupt("return",cx(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wx(e,t){return xx.apply(this,arguments)}function xx(){return(xx=ze(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",dx(Tt(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ex(e,t){return _x.apply(this,arguments)}function _x(){return _x=ze(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sk(t,"POST","/v1/accounts:signInWithCustomToken",rk(t,n)));case 1:case"end":return e.stop()}}),e)}))),_x.apply(this,arguments)}function Sx(){return Sx=ze(je().mark((function e(t,n){var r,i,a;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=rw(t),e.next=3,Ex(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,tx._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),Sx.apply(this,arguments)}var Ix=function(){function e(t,n){$e(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Ye(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Tx._fromServerResponse(e,t):Vb(e,"internal-error")}}]),e}(),Tx=function(e){Be(n,e);var t=We(n);function n(e){var r;return $e(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return Ye(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Ix);function Cx(e,t,n){var r;qb((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),qb("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(qb(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(qb(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Nx(){return Nx=ze(je().mark((function e(t,n,r){var i,a;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Tt(t),a={requestType:"PASSWORD_RESET",email:n},r&&Cx(i,a,r),e.next=5,ww(i,a);case 5:case"end":return e.stop()}}),e)}))),Nx.apply(this,arguments)}function Ax(){return Ax=ze(je().mark((function e(t,n,r){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cw(Tt(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),Ax.apply(this,arguments)}function Ox(){return Ox=ze(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dw(Tt(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),Ox.apply(this,arguments)}function Px(e,t){return Rx.apply(this,arguments)}function Rx(){return Rx=ze(je().mark((function e(t,n){var r,i,a,o;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Tt(t),e.next=3,cw(r,{oobCode:n});case 3:i=e.sent,qb(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return qb(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:qb(i.mfaInfo,r,"internal-error");case 13:qb(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Ix._fromServerResponse(rw(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),Rx.apply(this,arguments)}function Dx(){return Dx=ze(je().mark((function e(t,n){var r,i;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Px(Tt(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),Dx.apply(this,arguments)}function Mx(e,t,n){return Fx.apply(this,arguments)}function Fx(){return Fx=ze(je().mark((function e(t,n,r){var i,a,o;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=rw(t),e.next=3,Zw(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,tx._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),Fx.apply(this,arguments)}function Lx(){return Lx=ze(je().mark((function e(t,n,r){var i,a;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Tt(t),a={requestType:"EMAIL_SIGNIN",email:n},qb(r.handleCodeInApp,i,"argument-error"),r&&Cx(i,a,r),e.next=6,Ew(i,a);case 6:case"end":return e.stop()}}),e)}))),Lx.apply(this,arguments)}function Vx(){return Vx=ze(je().mark((function e(t,n,r){var i,a;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Tt(t),qb((a=qw.credentialWithLink(n,r||Qb()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",yx(i,a));case 4:case"end":return e.stop()}}),e)}))),Vx.apply(this,arguments)}function jx(e,t){return Ux.apply(this,arguments)}function Ux(){return Ux=ze(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ik(t,"POST","/v1/accounts:createAuthUri",rk(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ux.apply(this,arguments)}function zx(){return zx=ze(je().mark((function e(t,n){var r,i,a,o;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Yb()?Qb():"http://localhost",i={identifier:n,continueUri:r},e.next=4,jx(Tt(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),zx.apply(this,arguments)}function Bx(){return(Bx=ze(je().mark((function e(t,n){var r,i,a,o;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Tt(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Cx(r.auth,a,n),e.next=8,bw(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qx(){return(qx=ze(je().mark((function e(t,n,r){var i,a,o,u;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Tt(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Cx(i.auth,o,r),e.next=8,Sw(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hx(e,t){return Wx.apply(this,arguments)}function Wx(){return Wx=ze(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ik(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Wx.apply(this,arguments)}function Kx(){return(Kx=ze(je().mark((function e(t,n){var r,i,a,o,u,s,c;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Tt(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Ek(a,Hx(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gx(e,t,n){return $x.apply(this,arguments)}function $x(){return $x=ze(je().mark((function e(t,n,r){var i,a,o,u;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Ek(t,fw(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),$x.apply(this,arguments)}var Qx=Ye((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};$e(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Yx=function(e){Be(n,e);var t=We(n);function n(e,r,i,a){var o;return $e(this,n),(o=t.call(this,e,r,i)).username=a,o}return Ye(n)}(Qx),Xx=function(e){Be(n,e);var t=We(n);function n(e,r){return $e(this,n),t.call(this,e,"facebook.com",r)}return Ye(n)}(Qx),Jx=function(e){Be(n,e);var t=We(n);function n(e,r){return $e(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return Ye(n)}(Yx),Zx=function(e){Be(n,e);var t=We(n);function n(e,r){return $e(this,n),t.call(this,e,"google.com",r)}return Ye(n)}(Qx),eE=function(e){Be(n,e);var t=We(n);function n(e,r,i){return $e(this,n),t.call(this,e,"twitter.com",r,i)}return Ye(n)}(Yx);function tE(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=xk(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Qx(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Xx(a,i);case"github.com":return new Jx(a,i);case"google.com":return new Zx(a,i);case"twitter.com":return new eE(a,i,e.screenName||null);case"custom":case"anonymous":return new Qx(a,null);default:return new Qx(a,r,i)}}(n)}var nE=function(){function e(t,n){$e(this,e),this.type=t,this.credential=n}return Ye(e,[{key:"toJSON",value:function(){return{multiFactorSession:Xe({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),rE=function(){function e(t,n,r){$e(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Ye(e,[{key:"resolveSignIn",value:function(){var e=ze(je().mark((function e(t){var n;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=rw(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Ix._fromServerResponse(r,e)}));qb(i.mfaPendingCredential,r,"internal-error");var o=nE._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=ze(je().mark((function e(t){var a,u,s;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,tx._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return qb(n.user,r,"internal-error"),e.abrupt("return",tx._forOperation(n.user,n.operationType,u));case 17:Vb(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function iE(e,t){return ik(e,"POST","/v2/accounts/mfaEnrollment:start",rk(e,t))}function aE(e,t){return ik(e,"POST","/v2/accounts/mfaEnrollment:withdraw",rk(e,t))}var oE=function(){function e(t){var n=this;$e(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Ix._fromServerResponse(t.auth,e)})))}))}return Ye(e,[{key:"getSession",value:function(){var e=ze(je().mark((function e(){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=nE,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=ze(je().mark((function e(t,n){var r,i,a;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Ek(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=ze(je().mark((function e(t){var n,r,i,a;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return i=e.sent,e.next=6,Ek(this.user,aE(this.user.auth,{idToken:i,mfaEnrollmentId:r}));case 6:return a=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==r})),e.next=10,this.user._updateTokensIfNecessary(a);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),uE=new WeakMap;var sE="__sak",cE=function(){function e(t,n){$e(this,e),this.storageRetriever=t,this.type=n}return Ye(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(sE,"1"),this.storage.removeItem(sE),Promise.resolve(!0)):Promise.resolve(!1)}catch(py){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var lE=function(e){Be(n,e);var t=We(n);function n(){var e;return $e(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=ut();return Hk(e)||Yk(e)}()&&function(){try{return!(!window||window===window.top)}catch(kA){return!1}}(),e.fallbackToPolling=Zk(),e._shouldAllowMigration=!0,e}return Ye(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Jk()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=ze(je().mark((function e(t,r){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe(De(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ze(je().mark((function e(t){var r;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe(De(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ze(je().mark((function e(t){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe(De(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(cE);lE.type="LOCAL";var fE=lE,hE=function(e){Be(n,e);var t=We(n);function n(){return $e(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Ye(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(cE);hE.type="SESSION";var dE=hE;function pE(e){return Promise.all(e.map(function(){var e=ze(je().mark((function e(t){var n;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var vE=function(){function e(t){$e(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Ye(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=ze(je().mark((function e(t){var n,r,i,a,o,u,s,c;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=ze(je().mark((function e(t){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,pE(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function mE(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}vE.receivers=[];var yE=function(){function e(t){$e(this,e),this.target=t,this.handlers=new Set}return Ye(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=ze(je().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=mE("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function gE(){return window}function bE(){return"undefined"!==typeof gE().WorkerGlobalScope&&"function"===typeof gE().importScripts}function kE(){return wE.apply(this,arguments)}function wE(){return(wE=ze(je().mark((function e(){var t;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function xE(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var EE="firebaseLocalStorageDb",_E="firebaseLocalStorage",SE="fbase_key",IE=function(){function e(t){$e(this,e),this.request=t}return Ye(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function TE(e,t){return e.transaction([_E],t?"readwrite":"readonly").objectStore(_E)}function CE(){var e=indexedDB.deleteDatabase(EE);return new IE(e).toPromise()}function NE(){var e=indexedDB.open(EE,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(_E,{keyPath:SE})}catch(kA){n(kA)}})),e.addEventListener("success",ze(je().mark((function n(){var r;return je().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(_E)){n.next=12;break}return r.close(),n.next=5,CE();case 5:return n.t0=t,n.next=8,NE();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function AE(e,t,n){return OE.apply(this,arguments)}function OE(){return OE=ze(je().mark((function e(t,n,r){var i,a;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=TE(t,!0).put((Xe(i={},SE,n),Xe(i,"value",r),i)),e.abrupt("return",new IE(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),OE.apply(this,arguments)}function PE(e,t){return RE.apply(this,arguments)}function RE(){return RE=ze(je().mark((function e(t,n){var r,i;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=TE(t,!1).get(n),e.next=3,new IE(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),RE.apply(this,arguments)}function DE(e,t){var n=TE(e,!0).delete(t);return new IE(n).toPromise()}var ME=function(){function e(){$e(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Ye(e,[{key:"_openDb",value:function(){var e=ze(je().mark((function e(){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,NE();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=ze(je().mark((function e(t){var n,r;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=ze(je().mark((function e(){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bE()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=ze(je().mark((function e(){var t=this;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=vE._getInstance(bE()?self:null),this.receiver._subscribe("keyChanged",function(){var e=ze(je().mark((function e(n,r){var i;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=ze(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=ze(je().mark((function e(){var t,n,r;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kE();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new yE(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=ze(je().mark((function e(t){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&xE()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=ze(je().mark((function e(){var t;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,NE();case 5:return t=e.sent,e.next=8,AE(t,sE,"1");case 8:return e.next=10,DE(t,sE);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=ze(je().mark((function e(t){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=ze(je().mark((function e(t,n){var r=this;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ze(je().mark((function e(){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return AE(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ze(je().mark((function e(t){var n;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return PE(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ze(je().mark((function e(t){var n=this;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ze(je().mark((function e(){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return DE(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=ze(je().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=TE(e,!1).getAll();return new IE(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Le(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(ze(je().mark((function t(){return je().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();ME.type="LOCAL";var FE=ME;function LE(e,t){return ik(e,"POST","/v2/accounts/mfaSignIn:start",rk(e,t))}function VE(e){return jE.apply(this,arguments)}function jE(){return jE=ze(je().mark((function e(t){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ik(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),jE.apply(this,arguments)}function UE(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=jb("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function zE(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var BE=1e12,qE=function(){function e(t){$e(this,e),this.auth=t,this.counter=BE,this._widgets=new Map}return Ye(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new HE(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||BE;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||BE;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=ze(je().mark((function e(t){var n,r;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||BE,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),HE=function(){function e(t,n,r){var i=this;$e(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;qb(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Ye(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(kA){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(kA){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var WE=zE("rcb"),KE=new Jb(3e4,6e4),GE="https://www.google.com/recaptcha/api.js?",$E=function(){function e(){$e(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!gE().grecaptcha}return Ye(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return qb(QE(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(gE().grecaptcha):new Promise((function(r,i){var a=gE().setTimeout((function(){i(jb(e,"network-request-failed"))}),KE.get());gE()[WE]=function(){gE().clearTimeout(a),delete gE()[WE];var o=gE().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(jb(e,"internal-error"))},UE("".concat(GE,"?").concat(wt({onload:WE,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(jb(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!gE().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function QE(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var YE=function(){function e(){$e(this,e)}return Ye(e,[{key:"load",value:function(){var e=ze(je().mark((function e(t){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new qE(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),XE="recaptcha",JE={theme:"light",type:"image"},ZE=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},JE),r=arguments.length>2?arguments[2]:void 0;$e(this,e),this.parameters=n,this.type=XE,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=rw(r),this.isInvisible="invisible"===this.parameters.size,qb("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;qb(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new YE:new $E,this.validateStartingState()}return Ye(e,[{key:"verify",value:function(){var e=ze(je().mark((function e(){var t,n,r,i=this;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(kA){return Promise.reject(kA)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){qb(!this.parameters.sitekey,this.auth,"argument-error"),qb(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),qb("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=gE()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){qb(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=ze(je().mark((function e(){var t,n;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=ze(je().mark((function e(){var t;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qb(Yb()&&!bE(),this.auth,"internal-error"),e.next=3,e_();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,VE(this.auth);case 8:qb(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return qb(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function e_(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var t_=function(){function e(t,n){$e(this,e),this.verificationId=t,this.onConfirmation=n}return Ye(e,[{key:"confirm",value:function(e){var t=zw._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function n_(){return n_=ze(je().mark((function e(t,n,r){var i,a;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=rw(t),e.next=3,o_(i,n,Tt(r));case 3:return a=e.sent,e.abrupt("return",new t_(a,(function(e){return yx(i,e)})));case 5:case"end":return e.stop()}}),e)}))),n_.apply(this,arguments)}function r_(e,t,n){return i_.apply(this,arguments)}function i_(){return(i_=ze(je().mark((function e(t,n,r){var i,a;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Tt(t),e.next=3,fx(!1,i,"phone");case 3:return e.next=5,o_(i.auth,n,Tt(r));case 5:return a=e.sent,e.abrupt("return",new t_(a,(function(e){return bx(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function a_(){return(a_=ze(je().mark((function e(t,n,r){var i,a;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Tt(t),e.next=3,o_(i.auth,n,Tt(r));case 3:return a=e.sent,e.abrupt("return",new t_(a,(function(e){return wx(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function o_(e,t,n){return u_.apply(this,arguments)}function u_(){return u_=ze(je().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,qb("string"===typeof a,t,"argument-error"),qb(r.type===XE,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return qb("enroll"===u.type,t,"internal-error"),e.next=13,iE(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return qb("signin"===u.type,t,"internal-error"),qb(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,LE(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Mw(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),u_.apply(this,arguments)}function s_(){return(s_=ze(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cx(Tt(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var c_=function(){function e(t){$e(this,e),this.providerId=e.PROVIDER_ID,this.auth=rw(t)}return Ye(e,[{key:"verifyPhoneNumber",value:function(e,t){return o_(this.auth,e,Tt(t))}}],[{key:"credential",value:function(e,t){return zw._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?zw._fromTokenResponse(n,r):null}}]),e}();function l_(e,t){return t?Gb(t):(qb(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}c_.PROVIDER_ID="phone",c_.PHONE_SIGN_IN_METHOD="phone";var f_=function(e){Be(n,e);var t=We(n);function n(e){var r;return $e(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Ye(n,[{key:"_getIdTokenResponse",value:function(e){return Pw(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Pw(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Pw(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(sw);function h_(e){return vx(e.auth,new f_(e),e.bypassAuthState)}function d_(e){var t=e.auth,n=e.user;return qb(n,t,"internal-error"),dx(n,new f_(e),e.bypassAuthState)}function p_(e){return v_.apply(this,arguments)}function v_(){return v_=ze(je().mark((function e(t){var n,r;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,qb(r=t.user,n,"internal-error"),e.abrupt("return",cx(r,new f_(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),v_.apply(this,arguments)}var m_=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];$e(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Ye(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=ze(je().mark((function t(n,r){return je().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=ze(je().mark((function e(t){var n,r,i,a,o,u,s;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return h_;case"linkViaPopup":case"linkViaRedirect":return p_;case"reauthViaPopup":case"reauthViaRedirect":return d_;default:Vb(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Wb(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Wb(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),y_=new Jb(2e3,1e4);function g_(e,t,n){return b_.apply(this,arguments)}function b_(){return b_=ze(je().mark((function e(t,n,r){var i,a,o;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=rw(t),zb(t,n,Hw),a=l_(i,r),o=new E_(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),b_.apply(this,arguments)}function k_(){return(k_=ze(je().mark((function e(t,n,r){var i,a,o;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return zb((i=Tt(t)).auth,n,Hw),a=l_(i.auth,r),o=new E_(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w_(e,t,n){return x_.apply(this,arguments)}function x_(){return(x_=ze(je().mark((function e(t,n,r){var i,a,o;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return zb((i=Tt(t)).auth,n,Hw),a=l_(i.auth,r),o=new E_(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var E_=function(e){Be(n,e);var t=We(n);function n(e,r,i,a,o){var u;return $e(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=qe(u),u}return Ye(n,[{key:"executeNotNull",value:function(){var e=ze(je().mark((function e(){var t;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return qb(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=ze(je().mark((function e(){var t,n=this;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Wb(1===this.filter.length,"Popup operations only handle one event"),t=mE(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(jb(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(jb(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(jb(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,y_.get())}()}}]),n}(m_);E_.currentPopupAction=null;var __=new Map,S_=function(e){Be(n,e);var t=We(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return $e(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Ye(n,[{key:"execute",value:function(){var e=ze(je().mark((function e(){var t,r;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=__.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,I_(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Fe(De(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:__.set(this.auth._key(),t);case 21:return this.bypassAuthState||__.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=ze(je().mark((function e(t){var r;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Fe(De(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Fe(De(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=ze(je().mark((function e(){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(m_);function I_(e,t){return T_.apply(this,arguments)}function T_(){return T_=ze(je().mark((function e(t,n){var r,i,a;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=P_(n),i=O_(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),T_.apply(this,arguments)}function C_(e,t){return N_.apply(this,arguments)}function N_(){return N_=ze(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",O_(t)._set(P_(n),"true"));case 1:case"end":return e.stop()}}),e)}))),N_.apply(this,arguments)}function A_(e,t){__.set(e._key(),t)}function O_(e){return Gb(e._redirectPersistence)}function P_(e){return Uk("pendingRedirect",e.config.apiKey,e.name)}function R_(e,t,n){return function(e,t,n){return D_.apply(this,arguments)}(e,t,n)}function D_(){return D_=ze(je().mark((function e(t,n,r){var i,a;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=rw(t),zb(t,n,Hw),a=l_(i,r),e.next=5,C_(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),D_.apply(this,arguments)}function M_(e,t,n){return function(e,t,n){return F_.apply(this,arguments)}(e,t,n)}function F_(){return(F_=ze(je().mark((function e(t,n,r){var i,a,o;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return zb((i=Tt(t)).auth,n,Hw),a=l_(i.auth,r),e.next=5,C_(a,i.auth);case 5:return e.next=7,q_(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L_(e,t,n){return function(e,t,n){return V_.apply(this,arguments)}(e,t,n)}function V_(){return(V_=ze(je().mark((function e(t,n,r){var i,a,o;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return zb((i=Tt(t)).auth,n,Hw),a=l_(i.auth,r),e.next=5,fx(!1,i,n.providerId);case 5:return e.next=7,C_(a,i.auth);case 7:return e.next=9,q_(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j_(e,t){return U_.apply(this,arguments)}function U_(){return U_=ze(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rw(t)._initializationPromise;case 2:return e.abrupt("return",z_(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),U_.apply(this,arguments)}function z_(e,t){return B_.apply(this,arguments)}function B_(){return B_=ze(je().mark((function e(t,n){var r,i,a,o,u,s=arguments;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=rw(t),a=l_(i,n),o=new S_(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),B_.apply(this,arguments)}function q_(e){return H_.apply(this,arguments)}function H_(){return(H_=ze(je().mark((function e(t){var n;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=mE("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var W_=function(){function e(t){$e(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Ye(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return G_(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!G_(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(jb(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(K_(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(K_(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function K_(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function G_(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function $_(e){return Q_.apply(this,arguments)}function Q_(){return Q_=ze(je().mark((function e(t){var n,r=arguments;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",ik(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Q_.apply(this,arguments)}var Y_=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,X_=/^https?/;function J_(){return J_=ze(je().mark((function e(t){var n,r,i,a,o;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,$_(t);case 4:n=e.sent,r=n.authorizedDomains,i=Le(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Z_(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Vb(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),J_.apply(this,arguments)}function Z_(e){var t=Qb(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!X_.test(r))return!1;if(Y_.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var eS=new Jb(3e4,6e4);function tS(){var e=gE().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Ge(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var nS=null;function rS(e){return nS=nS||function(e){return new Promise((function(t,n){var r,i,a;function o(){tS(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){tS(),n(jb(e,"network-request-failed"))},timeout:eS.get()})}if(null===(i=null===(r=gE().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=gE().gapi)||void 0===a?void 0:a.load)){var u=zE("iframefcb");return gE()[u]=function(){gapi.load?o():n(jb(e,"network-request-failed"))},UE("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw nS=null,e}))}(e),nS}var iS=new Jb(5e3,15e3),aS={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oS=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uS(e){var t=e.config;qb(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Zb(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:_n},i=oS.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(wt(r).slice(1))}function sS(e){return cS.apply(this,arguments)}function cS(){return cS=ze(je().mark((function e(t){var n,r;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rS(t);case 2:return n=e.sent,qb(r=gE().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:uS(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aS,dontclear:!0},(function(e){return new Promise(function(){var n=ze(je().mark((function n(r,i){var a,o,u;return je().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){gE().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=jb(t,"network-request-failed"),o=gE().setTimeout((function(){i(a)}),iS.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),cS.apply(this,arguments)}var lS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fS="_blank",hS="http://localhost",dS=function(){function e(t){$e(this,e),this.window=t,this.associatedEvent=null}return Ye(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(kA){}}}]),e}();function pS(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},lS),{width:r.toString(),height:i.toString(),top:a,left:o}),c=ut().toLowerCase();n&&(u=Wk(c)?fS:n),qk(c)&&(t=t||hS,s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=Oe(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Xk(c)&&"_self"!==u)return vS(t||"",u),new dS(null);var f=window.open(t||"",u,l);qb(f,e,"popup-blocked");try{f.focus()}catch(kA){}return new dS(f)}function vS(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var mS="__/auth/handler",yS="emulator/auth/handler";function gS(e,t,n,r,i,a){qb(e.config.authDomain,e,"auth-domain-config-required"),qb(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:_n,eventId:i};if(t instanceof Hw){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=Oe(s[u],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof Ww){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var d=o,p=0,v=Object.keys(d);p<v.length;p++){var m=v[p];void 0===d[m]&&delete d[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(mS);return Zb(t,yS)}(e),"?").concat(wt(d).slice(1))}var bS="webStorageSupport",kS=function(){function e(){$e(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dE,this._completeRedirectFn=z_,this._overrideRedirectResult=A_}return Ye(e,[{key:"_openPopup",value:function(){var e=ze(je().mark((function e(t,n,r,i){var a,o;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Wb(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=gS(t,n,r,Qb(),i),e.abrupt("return",pS(t,o,mE()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=ze(je().mark((function e(t,n,r,i){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=gS(t,n,r,Qb(),i),gE().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Wb(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=ze(je().mark((function e(t){var n,r;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sS(t);case 2:return n=e.sent,r=new W_(t),n.register("authEvent",(function(e){return qb(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(bS,{type:bS},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Vb(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return J_.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Zk()||Hk()||Yk()}}]),e}(),wS=kS,xS=function(){function e(t){$e(this,e),this.factorId=t}return Ye(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Hb("unexpected MultiFactorSessionType")}}}]),e}(),ES=function(e){Be(n,e);var t=We(n);function n(e){var r;return $e(this,n),(r=t.call(this,"phone")).credential=e,r}return Ye(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return ik(e,"POST","/v2/accounts/mfaEnrollment:finalize",rk(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return ik(e,"POST","/v2/accounts/mfaSignIn:finalize",rk(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(xS),_S=function(){function e(){$e(this,e)}return Ye(e,null,[{key:"assertion",value:function(e){return ES._fromCredential(e)}}]),e}();_S.FACTOR_ID="phone";var SS,IS="@firebase/auth",TS="0.20.4",CS=function(){function e(t){$e(this,e),this.auth=t,this.internalListeners=new Map}return Ye(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=ze(je().mark((function e(t){var n;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){qb(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function NS(e){return Te(e)||Ke(e)||Ne(e)||Ae()}function AS(){return window}SS="Browser",yn(new Ct("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){qb(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),qb(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:SS,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ew(SS)},i=new nw(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Gb);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),yn(new Ct("auth-internal",(function(e){return function(e){return new CS(e)}(rw(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),An(IS,TS,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(SS)),An(IS,TS,"esm2017");function OS(e,t,n){return PS.apply(this,arguments)}function PS(){return PS=ze(je().mark((function e(t,n,r){var i,a,o,u,s;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=AS(),o=a.BuildInfo,Wb(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,VS(n.sessionId);case 4:return u=e.sent,s={},Yk()?s.ibi=o.packageName:Gk()?s.apn=o.packageName:Vb(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",gS(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),PS.apply(this,arguments)}function RS(){return RS=ze(je().mark((function e(t){var n,r,i;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=AS(),r=n.BuildInfo,i={},Yk()?i.iosBundleId=r.packageName:Gk()?i.androidPackageName=r.packageName:Vb(t,"operation-not-supported-in-this-environment"),e.next=5,$_(t,i);case 5:case"end":return e.stop()}}),e)}))),RS.apply(this,arguments)}function DS(e){var t=AS().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function MS(e,t,n){return FS.apply(this,arguments)}function FS(){return FS=ze(je().mark((function e(t,n,r){var i,a,o;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=AS(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(jb(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),Gk()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),FS.apply(this,arguments)}function LS(e){var t,n,r,i,a,o,u,s,c,l,f=AS();qb("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),qb("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),qb("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),qb("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),qb("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function VS(e){return jS.apply(this,arguments)}function jS(){return(jS=ze(je().mark((function e(t){var n,r,i;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=US(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function US(e){if(Wb(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var zS=function(e){Be(n,e);var t=We(n);function n(){var e;return $e(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return Ye(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Fe(De(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=ze(je().mark((function e(){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(W_);function BS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:GS(),postBody:null,tenantId:e.tenantId,error:jb(e,"no-auth-event")}}function qS(e,t){return $S()._set(QS(e),t)}function HS(e){return WS.apply(this,arguments)}function WS(){return WS=ze(je().mark((function e(t){var n;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$S()._get(QS(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,$S()._remove(QS(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),WS.apply(this,arguments)}function KS(e,t){var n,r,i=function(e){var t=YS(e),n=t.link?decodeURIComponent(t.link):void 0,r=YS(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return YS(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=YS(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(kA){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?jb(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function GS(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function $S(){return Gb(fE)}function QS(e){return Uk("authEvent",e.config.apiKey,e.name)}function YS(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=NS(e.split("?"));t[0];return xt(t.slice(1).join("?"))}var XS=function(){function e(){$e(this,e),this._redirectPersistence=dE,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=z_,this._overrideRedirectResult=A_}return Ye(e,[{key:"_initialize",value:function(){var e=ze(je().mark((function e(t){var n,r;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new zS(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Vb(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=ze(je().mark((function e(t,n,r,i){var a,o,u,s;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return LS(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),__.clear(),e.next=10,this._originValidation(t);case 10:return o=BS(t,r,i),e.next=13,qS(t,o);case 13:return e.next=15,OS(t,o,n);case 15:return u=e.sent,e.next=18,DS(u);case 18:return s=e.sent,e.abrupt("return",MS(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return RS.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=AS(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(ze(je().mark((function n(){return je().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,HS(e);case 2:t.onEvent(ZS());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=ze(je().mark((function n(r){var i,a;return je().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,HS(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=KS(i,r.url)),t.onEvent(a||ZS());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");AS().handleOpenURL=function(){var e=ze(je().mark((function e(t){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(kA){console.error(kA)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),JS=XS;function ZS(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:jb("no-auth-event")}}function eI(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function tI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut();return!("file:"!==eI()&&"ionic:"!==eI()&&"capacitor:"!==eI()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function nI(){return ht()&&11===(null===document||void 0===document?void 0:document.documentMode)}function rI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut();return/Edge\/\d+/.test(e)}function iI(){try{var e=self.localStorage,t=mE();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut();return nI()||rI(e)}()||dt()}catch(kA){return aI()&&dt()}return!1}function aI(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function oI(){return("http:"===eI()||"https:"===eI()||lt()||tI())&&!(ft()||ct())&&iI()&&!aI()}function uI(){return tI()&&"undefined"!==typeof document}function sI(){return cI.apply(this,arguments)}function cI(){return(cI=ze(je().mark((function e(){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(uI()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var lI={LOCAL:"local",NONE:"none",SESSION:"session"},fI=qb,hI="persistence";function dI(e,t){fI(Object.values(lI).includes(t),e,"invalid-persistence-type"),ft()?fI(t!==lI.SESSION,e,"unsupported-persistence-type"):ct()?fI(t===lI.NONE,e,"unsupported-persistence-type"):aI()?fI(t===lI.NONE||t===lI.LOCAL&&dt(),e,"unsupported-persistence-type"):fI(t===lI.NONE||iI(),e,"unsupported-persistence-type")}function pI(e){return vI.apply(this,arguments)}function vI(){return vI=ze(je().mark((function e(t){var n,r;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=mI(),r=Uk(hI,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),vI.apply(this,arguments)}function mI(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(kA){return null}}var yI=qb,gI=function(){function e(){$e(this,e),this.browserResolver=Gb(wS),this.cordovaResolver=Gb(JS),this.underlyingResolver=null,this._redirectPersistence=dE,this._completeRedirectFn=z_,this._overrideRedirectResult=A_}return Ye(e,[{key:"_initialize",value:function(){var e=ze(je().mark((function e(t){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=ze(je().mark((function e(t,n,r,i){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=ze(je().mark((function e(t,n,r,i){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return uI()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return yI(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=ze(je().mark((function e(){var t;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,sI();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function bI(e){return e.unwrap()}function kI(e,t){var n,r,i=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===(r=t)||void 0===r?void 0:r.code))t.resolver=new SI(e,function(e,t){var n,r=Tt(e),i=t;return qb(t.customData.operationType,r,"argument-error"),qb(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),rE._fromError(r,i)}(e,t));else if(i){var a=wI(t),o=t;a&&(o.credential=a,o.tenantId=i.tenantId||void 0,o.email=i.email||void 0,o.phoneNumber=i.phoneNumber||void 0)}}function wI(e){var t=(e instanceof pt?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof pt)&&"temporaryProof"in t&&"phoneNumber"in t)return c_.credentialFromResult(e);var n,r=t.providerId;if(!r||r===_b)return null;switch(r){case Eb:n=$w;break;case wb:n=Gw;break;case xb:n=Qw;break;case Sb:n=Jw;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?Yw._create(r,u):Dw._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new Kw(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof pt?n.credentialFromError(e):n.credentialFromResult(e)}function xI(e,t){return t.catch((function(t){throw t instanceof pt&&kI(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,wI(t)),additionalUserInfo:tE(e),user:II.getOrCreate(r)}}))}function EI(e,t){return _I.apply(this,arguments)}function _I(){return _I=ze(je().mark((function e(t,n){var r;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return xI(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),_I.apply(this,arguments)}var SI=function(){function e(t,n){$e(this,e),this.resolver=n,this.auth=function(e){return e.wrapped()}(t)}return Ye(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return xI(bI(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),II=function(){function e(t){$e(this,e),this._delegate=t,this.multiFactor=function(e){var t=Tt(e);return uE.has(t)||uE.set(t,oE._fromUser(t)),uE.get(t)}(t)}return Ye(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=ze(je().mark((function e(t){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xI(this.auth,bx(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=ze(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",EI(this.auth,r_(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=ze(je().mark((function e(t){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xI(this.auth,w_(this._delegate,t,gI)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=ze(je().mark((function e(t){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pI(rw(this.auth));case 2:return e.abrupt("return",L_(this._delegate,t,gI));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=ze(je().mark((function e(t){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xI(this.auth,wx(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return EI(this.auth,function(e,t,n){return a_.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return xI(this.auth,function(e,t,n){return k_.apply(this,arguments)}(this._delegate,e,gI))}},{key:"reauthenticateWithRedirect",value:function(){var e=ze(je().mark((function e(t){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pI(rw(this.auth));case 2:return e.abrupt("return",M_(this._delegate,t,gI));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Bx.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=ze(je().mark((function e(t){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ux(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Gx(Tt(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Gx(Tt(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return s_.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Kx.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return qx.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();II.USER_MAP=new WeakMap;var TI=qb,CI=function(){function e(t,n){if($e(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;TI(r,"invalid-api-key",{appName:t.name}),TI(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?gI:void 0;this._delegate=n.initialize({options:{persistence:AI(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Rb),this.linkUnderlyingAuth()}return Ye(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?II.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){aw(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Ox.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Px(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Ax.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=ze(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xI(this._delegate,Mx(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return zx.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Bw.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=ze(je().mark((function e(){var t;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return TI(oI(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,j_(this._delegate,gI);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",xI(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){rw(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=NI(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=NI(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Lx.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Nx.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=ze(je().mark((function e(t){var n,r;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:dI(this._delegate,t),e.t0=t,e.next=e.t0===lI.SESSION?4:e.t0===lI.LOCAL?6:e.t0===lI.NONE?11:13;break;case 4:return n=dE,e.abrupt("break",14);case 6:return e.next=8,Gb(FE)._isAvailable();case 8:return r=e.sent,n=r?FE:fE,e.abrupt("break",14);case 11:return n=jk,e.abrupt("break",14);case 13:return e.abrupt("return",Vb("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return xI(this._delegate,function(e){return rx.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return xI(this._delegate,yx(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return xI(this._delegate,function(e,t){return Sx.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return xI(this._delegate,function(e,t,n){return yx(Tt(e),qw.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return xI(this._delegate,function(e,t,n){return Vx.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return EI(this._delegate,function(e,t,n){return n_.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=ze(je().mark((function e(t){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return TI(oI(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",xI(this._delegate,g_(this._delegate,t,gI)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=ze(je().mark((function e(t){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return TI(oI(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,pI(this._delegate);case 3:return e.abrupt("return",R_(this._delegate,t,gI));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Dx.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function NI(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&II.getOrCreate(e))},error:t,complete:n}}function AI(e,t){var n=function(e,t){var n=mI();if(!n)return[];var r=Uk(hI,e,t);switch(n.getItem(r)){case lI.NONE:return[jk];case lI.LOCAL:return[FE,dE];case lI.SESSION:return[dE];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(FE)||n.push(FE),"undefined"!==typeof window)for(var r=0,i=[fE,dE];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(jk)||n.push(jk),n}CI.Persistence=lI;var OI=function(){function e(){$e(this,e),this.providerId="phone",this._delegate=new c_(bI(gb.auth()))}return Ye(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return c_.credential(e,t)}}]),e}();OI.PHONE_SIGN_IN_METHOD=c_.PHONE_SIGN_IN_METHOD,OI.PROVIDER_ID=c_.PROVIDER_ID;var PI,RI=qb,DI=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:gb.app();$e(this,e),RI(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new ZE(t,n,i.auth()),this.type=this._delegate.type}return Ye(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(PI=gb).INTERNAL.registerComponent(new Ct("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new CI(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Ib,PASSWORD_RESET:Tb,RECOVER_EMAIL:Cb,REVERT_SECOND_FACTOR_ADDITION:Nb,VERIFY_AND_CHANGE_EMAIL:Ab,VERIFY_EMAIL:Ob}},EmailAuthProvider:qw,FacebookAuthProvider:Gw,GithubAuthProvider:Qw,GoogleAuthProvider:$w,OAuthProvider:Kw,SAMLAuthProvider:Xw,PhoneAuthProvider:OI,PhoneMultiFactorGenerator:_S,RecaptchaVerifier:DI,TwitterAuthProvider:Jw,Auth:CI,AuthCredential:sw,Error:pt}).setInstantiationMode("LAZY").setMultipleInstances(!1)),PI.registerVersion("@firebase/auth-compat","0.2.17");function MI(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new ku("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function FI(){if("undefined"===typeof Uint8Array)throw new ku("unimplemented","Uint8Arrays are not available in this environment.")}function LI(){if("undefined"==typeof atob)throw new ku("unimplemented","Blobs are unavailable in Firestore in this environment.")}var VI=function(){function e(t){$e(this,e),this._delegate=t}return Ye(e,[{key:"toBase64",value:function(){return LI(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return FI(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return LI(),new e(Wy.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return FI(),new e(Wy.fromUint8Array(t))}}]),e}();function jI(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Le(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var UI=function(){function e(){$e(this,e)}return Ye(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){qy(e=ky(e,My));var n=Fy(e),r=e._freezeSettings(),i=new Wm;return Vy(n,i,new qm(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){qy(e=ky(e,My));var t=Fy(e),n=e._freezeSettings(),r=new Wm;return Vy(t,r,new Hm(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new ku(bu.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new wu;return e._queue.enqueueAndForgetEvenWhileRestricted(ze(je().mark((function n(){return je().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=ze(je().mark((function e(t){var n;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(rs.V()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,rs.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Ud(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),zI=function(){function e(t,n,r){var i=this;$e(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Rs||(this._appCompat=t)}return Ye(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||pu("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_y(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return jy(this._delegate)}},{key:"disableNetwork",value:function(){return Uy(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&my("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new wu;return e.asyncQueue.enqueueAndForget(ze(je().mark((function n(){return je().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=cm,n.next=3,cy(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(Fy(e=ky(e,My)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return ib(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new ku("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new tT(this,Cy(this._delegate,e))}catch(kA){throw GI(kA,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new KI(this,Ny(this._delegate,e))}catch(kA){throw GI(kA,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new JI(this,function(e,t){if(e=ky(e,Ey),vy("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new ku(bu.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Iy(e,null,function(e){return new Nc(Vu.emptyPath(),e)}(t))}(this._delegate,e))}catch(kA){throw GI(kA,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return cb(this._delegate,(function(n){return e(new qI(t,n))}))}},{key:"batch",value:function(){var e=this;return Fy(this._delegate),new HI(new Qg(this._delegate,(function(t){return ab(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return zy(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return By(this._delegate,e).then((function(e){return e?new JI(t,e):null}))}}]),e}(),BI=function(e){Be(n,e);var t=We(n);function n(e){var r;return $e(this,n),(r=t.call(this)).firestore=e,r}return Ye(n,[{key:"convertBytes",value:function(e){return new VI(new Wy(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return KI.forKey(t,this.firestore,null)}}]),n}(Kg);var qI=function(){function e(t,n){$e(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new BI(t)}return Ye(e,[{key:"get",value:function(e){var t=this,n=nT(e);return this._delegate.get(n).then((function(e){return new YI(t._firestore,new _g(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=nT(e);return n?(MI("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=nT(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=nT(e);return this._delegate.delete(t),this}}]),e}(),HI=function(){function e(t){$e(this,e),this._delegate=t}return Ye(e,[{key:"set",value:function(e,t,n){var r=nT(e);return n?(MI("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=nT(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=nT(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),WI=function(){function e(t,n,r){$e(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Ye(e,[{key:"fromFirestore",value:function(e,t){var n=new Sg(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new XI(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new BI(t),n),i.set(n,a)),a}}]),e}();WI.INSTANCES=new WeakMap;var KI=function(){function e(t,n){$e(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new BI(t)}return Ye(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new tT(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new tT(this.firestore,Cy(this._delegate,e))}catch(kA){throw GI(kA,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Tt(e))instanceof Sy&&Ay(this._delegate,e)}},{key:"set",value:function(e,t){t=MI("DocumentReference.set",t);try{return t?tb(this._delegate,e,t):tb(this._delegate,e)}catch(kA){throw GI(kA,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?nb(this._delegate,e):nb.apply(void 0,[this._delegate,e,t].concat(r))}catch(kA){throw GI(kA,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return ab(ky(e.firestore,My),[new El(e._key,sl.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=$I(n),a=QI(n,(function(t){return new YI(e.firestore,new _g(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return rb(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?Jg(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=ky(e,Sy);var t=ky(e.firestore,My);return hy(Fy(t),e._key,{source:"server"}).then((function(n){return ob(t,e,n)}))}(this._delegate):function(e){e=ky(e,Sy);var t=ky(e.firestore,My);return hy(Fy(t),e._key).then((function(n){return ob(t,e,n)}))}(this._delegate),t.then((function(e){return new YI(n.firestore,new _g(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(WI.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new ku("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new Sy(n._delegate,r,new zu(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new Sy(n._delegate,r,t))}}]),e}();function GI(e,t,n){return e.message=e.message.replace(t,n),e}function $I(e){var t,n=Le(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!jI(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function QI(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=jI(e[0])?e[0]:jI(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var YI=function(){function e(t,n){$e(this,e),this._firestore=t,this._delegate=n}return Ye(e,[{key:"ref",get:function(){return new KI(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return Cg(this._delegate,e._delegate)}}]),e}(),XI=function(e){Be(n,e);var t=We(n);function n(){return $e(this,n),t.apply(this,arguments)}return Ye(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||mu()}(void 0!==t),t}}]),n}(YI),JI=function(){function e(t,n){$e(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new BI(t)}return Ye(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,Og(this._delegate,function(e,t,n){var r=t,i=xg("where",e);return new Pg(i,r,n)}(t,n,r)))}catch(kA){throw GI(kA,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,Og(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=xg("orderBy",e);return new Rg(n,t)}(t,n)))}catch(kA){throw GI(kA,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,Og(this._delegate,function(e){return wy("limit",e),new Dg("limit",e,"F")}(t)))}catch(kA){throw GI(kA,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,Og(this._delegate,function(e){return wy("limitToLast",e),new Dg("limitToLast",e,"L")}(t)))}catch(kA){throw GI(kA,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,Og(this._delegate,Fg.apply(void 0,arguments)))}catch(kA){throw GI(kA,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,Og(this._delegate,Lg.apply(void 0,arguments)))}catch(kA){throw GI(kA,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,Og(this._delegate,jg.apply(void 0,arguments)))}catch(kA){throw GI(kA,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,Og(this._delegate,Ug.apply(void 0,arguments)))}catch(kA){throw GI(kA,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return Oy(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?eb(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=ky(e,Iy);var t=ky(e.firestore,My),n=Fy(t),r=new Xg(t);return dy(n,e._query,{source:"server"}).then((function(n){return new Ig(t,r,e,n)}))}(this._delegate):Zg(this._delegate),t.then((function(e){return new eT(n.firestore,new Ig(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=$I(n),a=QI(n,(function(t){return new eT(e.firestore,new Ig(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return rb(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(WI.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),ZI=function(){function e(t,n){$e(this,e),this._firestore=t,this._delegate=n}return Ye(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new XI(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),eT=function(){function e(t,n){$e(this,e),this._firestore=t,this._delegate=n}return Ye(e,[{key:"query",get:function(){return new JI(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new XI(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new ZI(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new XI(n._firestore,r))}))}},{key:"isEqual",value:function(e){return Cg(this._delegate,e._delegate)}}]),e}(),tT=function(e){Be(n,e);var t=We(n);function n(e,r){var i;return $e(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Ye(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new KI(this.firestore,e):null}},{key:"doc",value:function(e){try{return new KI(this.firestore,void 0===e?Ny(this._delegate):Ny(this._delegate,e))}catch(kA){throw GI(kA,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=ky(e.firestore,My),r=Ny(e),i=Gg(e.converter,t);return ab(n,[tg(eg(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,sl.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new KI(t.firestore,e)}))}},{key:"isEqual",value:function(e){return Ay(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(WI.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(JI);function nT(e){return ky(e,Sy)}var rT=function(){function e(){$e(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=Re(Hy,n)}return Ye(e,[{key:"isEqual",value:function(e){return(e=Tt(e))instanceof Hy&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Uu.keyField().canonicalString())}}]),e}(),iT=function(){function e(t){$e(this,e),this._delegate=t}return Ye(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new ig("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new ng("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=lb.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=fb.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new ug("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),aT={Firestore:zI,GeoPoint:Gy,Timestamp:Mu,Blob:VI,Transaction:qI,WriteBatch:HI,DocumentReference:KI,DocumentSnapshot:YI,Query:JI,QueryDocumentSnapshot:XI,QuerySnapshot:eT,CollectionReference:tT,FieldPath:rT,FieldValue:iT,setLogLevel:function(e){!function(e){lu.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Ct("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},aT)))}(e,(function(e,t){return new zI(e,t,new UI)})),e.registerVersion("@firebase/firestore-compat","0.1.20")}(gb);An("firebase","9.8.4","app");var oT=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:In();return gn(e,"firestore").getImmediate()}(Sn({apiKey:"AIzaSyD4wKIXfqHZ7OGb2w7a8GuCLdBVSwc11H4",authDomain:"eye-db.firebaseapp.com",projectId:"eye-db",storageBucket:"eye-db.appspot.com",messagingSenderId:"664411119894",appId:"1:664411119894:web:77f1f198e4c6bfac533037"})),uT=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:In(),t=gn(e,"auth");return t.isInitialized()?t.getImmediate():$b(e,{popupRedirectResolver:wS,persistence:[FE,fE,dE]})}(),sT=function(){var e,n=Oe((0,t.useState)(""),2),r=n[0],i=n[1];(0,t.useEffect)((function(){a()}),[]),(0,t.useEffect)((function(){}),[r]);var a=function(){Zg(Cy(oT,"Featured Products")).then((function(e){var t=e.docs.map((function(e){return e.data()}));i(t)})).catch((function(e){return console.log(e.message)}))};return(0,_e.jsxs)("div",{className:"feprduct",children:[(0,_e.jsx)("div",{className:"f-product",children:"Featured Products"}),(0,_e.jsx)("div",{className:"fetch-item",children:null===(e=r[0])||void 0===e?void 0:e.title.map((function(e){return(0,_e.jsxs)("div",{className:"fetch",children:[(0,_e.jsx)("img",{src:e.imageUrl,alt:""},e.id),(0,_e.jsxs)("div",{className:"name-sub",children:[(0,_e.jsx)("div",{className:"fetch-name",children:e.name},e.id),(0,_e.jsx)("div",{className:"fetch-subName",children:e.subName},e.id)]})]})}))})]})},cT=function(){var e,n=Oe((0,t.useState)(""),2),r=n[0],i=n[1];(0,t.useEffect)((function(){a()}),[]),(0,t.useEffect)((function(){}),[r]);var a=function(){Zg(Cy(oT,"Featured Products")).then((function(e){var t=e.docs.map((function(e){return e.data()}));i(t)})).catch((function(e){return console.log(e.message)}))};return(0,_e.jsxs)("div",{className:"reproduct",children:[(0,_e.jsx)("div",{className:"products",children:"Recommended Products"}),(0,_e.jsx)("div",{className:"fetch-item",children:null===(e=r[0])||void 0===e?void 0:e.title.map((function(e){return(0,_e.jsxs)("div",{className:"fetch",children:[(0,_e.jsx)("img",{src:e.imageUrl,alt:""},e.id),(0,_e.jsxs)("div",{className:"name-sub",children:[(0,_e.jsx)("div",{className:"fetch-name",children:e.name},e.id),(0,_e.jsx)("div",{className:"fetch-subName",children:e.subName},e.id)]})]})}))})]})},lT=function(){return(0,_e.jsx)("div",{className:"footer",children:(0,_e.jsxs)("div",{className:"footer-logo",children:[(0,_e.jsx)("img",{src:"https://salinaka-ecommerce.web.app/images/logo-full.059e10fa5fedbfb65165e7565ed3936f.png",alt:""}),(0,_e.jsx)("h6",{children:"\xa9 2022"}),(0,_e.jsxs)("div",{className:"developed",children:[" Developed By",(0,_e.jsx)("a",{href:"https://github.com/Yashbharadva",children:"Yash Bharadva"})]}),(0,_e.jsxs)("div",{className:"project",children:[" For this project",(0,_e.jsx)("a",{href:"https://github.com/Yashbharadva/eye-web",children:"Here"})]})]})})},fT=function(){return(0,_e.jsxs)("div",{className:"homepage",children:[(0,_e.jsx)(Se,{}),(0,_e.jsx)(Ie,{}),(0,_e.jsx)(sT,{}),(0,_e.jsx)(cT,{}),(0,_e.jsx)(lT,{})]})},hT=function(){return(0,_e.jsx)("div",{className:"another-navbar",children:(0,_e.jsxs)("div",{className:"navbar-ano",children:[(0,_e.jsxs)("a",{href:"/",children:[(0,_e.jsx)("img",{src:"https://salinaka-ecommerce.web.app/images/logo-full.059e10fa5fedbfb65165e7565ed3936f.png",alt:""})," "]}),(0,_e.jsxs)("ul",{className:"navigation-bar",children:[(0,_e.jsx)("ui",{className:"home",children:"Home"}),(0,_e.jsx)("ui",{className:"home",children:"Shop"}),(0,_e.jsx)("ui",{className:"home",children:"Featured"}),(0,_e.jsx)("ui",{className:"home",children:"Recommended"})]}),(0,_e.jsx)("div",{className:"logo-search",children:(0,_e.jsx)("input",{className:"serach-type",type:"search",placeholder:"Search product.."})}),(0,_e.jsx)("div",{className:"logo",children:(0,_e.jsx)(d,{})}),(0,_e.jsx)("div",{className:"cart-bag",children:(0,_e.jsx)(p,{size:"22px"})}),(0,_e.jsx)("div",{className:"sign-in",children:"Sign-in"})]})})};function dT(e){return c({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"}}]})(e)}var pT=function(){return(0,_e.jsxs)("div",{className:"facebook",children:[(0,_e.jsxs)("div",{className:"but-face",children:[(0,_e.jsx)(dT,{}),"Continue with Facebook"]}),(0,_e.jsxs)("div",{className:"but-goo",children:[(0,_e.jsx)(h,{}),"Continue with Google"]}),(0,_e.jsxs)("div",{className:"but-git",children:[(0,_e.jsx)(f,{}),"Continue with Github"]}),(0,_e.jsx)("div",{className:"or-style",children:"Or"})]})};function vT(e,t){if(null==e)return{};var n,r,i=Z(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var mT=n(3873);function yT(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[];return t.Children.forEach(e,(function(e){(void 0!==e&&null!==e||n.keepEmpty)&&(Array.isArray(e)?r=r.concat(yT(e)):(0,mT.isFragment)(e)&&e.props?r=r.concat(yT(e.props.children,n)):r.push(e))})),r}var gT={};function bT(e,t){0}function kT(e,t,n){t||gT[n]||(e(!1,n),gT[n]=!0)}var wT=function(e,t){kT(bT,e,t)},xT="RC_FORM_INTERNAL_HOOKS",ET=function(){wT(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},_T=t.createContext({getFieldValue:ET,getFieldsValue:ET,getFieldError:ET,getFieldWarning:ET,getFieldsError:ET,isFieldsTouched:ET,isFieldTouched:ET,isFieldValidating:ET,isFieldsValidating:ET,resetFields:ET,setFields:ET,setFieldsValue:ET,validateFields:ET,submit:ET,getInternalHooks:function(){return ET(),{dispatch:ET,initEntityValue:ET,registerField:ET,useSubscribe:ET,setInitialValues:ET,destroyForm:ET,setCallbacks:ET,registerWatch:ET,getFields:ET,setValidateMessages:ET,setPreserve:ET,getInitialValue:ET}}});function ST(e){return void 0===e||null===e?[]:Array.isArray(e)?e:[e]}function IT(){return IT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IT.apply(this,arguments)}function TT(e){return TT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},TT(e)}function CT(e,t){return CT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},CT(e,t)}function NT(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(kA){return!1}}function AT(e,t,n){return AT=NT()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&CT(i,n.prototype),i},AT.apply(null,arguments)}function OT(e){var t="function"===typeof Map?new Map:void 0;return OT=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return AT(e,arguments,TT(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),CT(n,e)},OT(e)}var PT=/%[sdj%]/g;function RT(e){if(!e||!e.length)return null;var t={};return e.forEach((function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)})),t}function DT(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0,a=n.length;if("function"===typeof e)return e.apply(null,n);if("string"===typeof e){var o=e.replace(PT,(function(e){if("%%"===e)return"%";if(i>=a)return e;switch(e){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch(t){return"[Circular]"}break;default:return e}}));return o}return e}function MT(e,t){return void 0===e||null===e||(!("array"!==t||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}(t)||"string"!==typeof e||e))}function FT(e,t,n){var r=0,i=e.length;!function a(o){if(o&&o.length)n(o);else{var u=r;r+=1,u<i?t(e[u],a):n([])}}([])}var LT=function(e){var t,n;function r(t,n){var r;return(r=e.call(this,"Async Validation Error")||this).errors=t,r.fields=n,r}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,CT(t,n),r}(OT(Error));function VT(e,t,n,r,i){if(t.first){var a=new Promise((function(t,a){var o=function(e){var t=[];return Object.keys(e).forEach((function(n){t.push.apply(t,e[n]||[])})),t}(e);FT(o,n,(function(e){return r(e),e.length?a(new LT(e,RT(e))):t(i)}))}));return a.catch((function(e){return e})),a}var o=!0===t.firstFields?Object.keys(e):t.firstFields||[],u=Object.keys(e),s=u.length,c=0,l=[],f=new Promise((function(t,a){var f=function(e){if(l.push.apply(l,e),++c===s)return r(l),l.length?a(new LT(l,RT(l))):t(i)};u.length||(r(l),t(i)),u.forEach((function(t){var r=e[t];-1!==o.indexOf(t)?FT(r,n,f):function(e,t,n){var r=[],i=0,a=e.length;function o(e){r.push.apply(r,e||[]),++i===a&&n(r)}e.forEach((function(e){t(e,o)}))}(r,n,f)}))}));return f.catch((function(e){return e})),f}function jT(e,t){return function(n){var r,i;return r=e.fullFields?function(e,t){for(var n=e,r=0;r<t.length;r++){if(void 0==n)return n;n=n[t[r]]}return n}(t,e.fullFields):t[n.field||e.fullField],(i=n)&&void 0!==i.message?(n.field=n.field||e.fullField,n.fieldValue=r,n):{message:"function"===typeof n?n():n,fieldValue:r,field:n.field||e.fullField}}}function UT(e,t){if(t)for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];"object"===typeof r&&"object"===typeof e[n]?e[n]=IT({},e[n],r):e[n]=r}return e}var zT,BT=function(e,t,n,r,i,a){!e.required||n.hasOwnProperty(e.field)&&!MT(t,a||e.type)||r.push(DT(i.messages.required,e.fullField))},qT=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,HT=/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i,WT={integer:function(e){return WT.number(e)&&parseInt(e,10)===e},float:function(e){return WT.number(e)&&!WT.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(kA){return!1}},date:function(e){return"function"===typeof e.getTime&&"function"===typeof e.getMonth&&"function"===typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"===typeof e},object:function(e){return"object"===typeof e&&!WT.array(e)},method:function(e){return"function"===typeof e},email:function(e){return"string"===typeof e&&e.length<=320&&!!e.match(qT)},url:function(e){return"string"===typeof e&&e.length<=2048&&!!e.match(function(){if(zT)return zT;var e="[a-fA-F\\d:]",t=function(t){return t&&t.includeBoundaries?"(?:(?<=\\s|^)(?="+e+")|(?<="+e+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",i=("\n(?:\n(?:"+r+":){7}(?:"+r+"|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8\n(?:"+r+":){6}(?:"+n+"|:"+r+"|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4\n(?:"+r+":){5}(?::"+n+"|(?::"+r+"){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4\n(?:"+r+":){4}(?:(?::"+r+"){0,1}:"+n+"|(?::"+r+"){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4\n(?:"+r+":){3}(?:(?::"+r+"){0,2}:"+n+"|(?::"+r+"){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4\n(?:"+r+":){2}(?:(?::"+r+"){0,3}:"+n+"|(?::"+r+"){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4\n(?:"+r+":){1}(?:(?::"+r+"){0,4}:"+n+"|(?::"+r+"){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4\n(?::(?:(?::"+r+"){0,5}:"+n+"|(?::"+r+"){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4\n)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1\n").replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),a=new RegExp("(?:^"+n+"$)|(?:^"+i+"$)"),o=new RegExp("^"+n+"$"),u=new RegExp("^"+i+"$"),s=function(e){return e&&e.exact?a:new RegExp("(?:"+t(e)+n+t(e)+")|(?:"+t(e)+i+t(e)+")","g")};s.v4=function(e){return e&&e.exact?o:new RegExp(""+t(e)+n+t(e),"g")},s.v6=function(e){return e&&e.exact?u:new RegExp(""+t(e)+i+t(e),"g")};var c=s.v4().source,l=s.v6().source;return zT=new RegExp("(?:^(?:(?:(?:[a-z]+:)?//)|www\\.)(?:\\S+(?::\\S*)?@)?(?:localhost|"+c+"|"+l+'|(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:[/?#][^\\s"]*)?$)',"i")}())},hex:function(e){return"string"===typeof e&&!!e.match(HT)}},KT={required:BT,whitespace:function(e,t,n,r,i){(/^\s+$/.test(t)||""===t)&&r.push(DT(i.messages.whitespace,e.fullField))},type:function(e,t,n,r,i){if(e.required&&void 0===t)BT(e,t,n,r,i);else{var a=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(a)>-1?WT[a](t)||r.push(DT(i.messages.types[a],e.fullField,e.type)):a&&typeof t!==e.type&&r.push(DT(i.messages.types[a],e.fullField,e.type))}},range:function(e,t,n,r,i){var a="number"===typeof e.len,o="number"===typeof e.min,u="number"===typeof e.max,s=t,c=null,l="number"===typeof t,f="string"===typeof t,h=Array.isArray(t);if(l?c="number":f?c="string":h&&(c="array"),!c)return!1;h&&(s=t.length),f&&(s=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),a?s!==e.len&&r.push(DT(i.messages[c].len,e.fullField,e.len)):o&&!u&&s<e.min?r.push(DT(i.messages[c].min,e.fullField,e.min)):u&&!o&&s>e.max?r.push(DT(i.messages[c].max,e.fullField,e.max)):o&&u&&(s<e.min||s>e.max)&&r.push(DT(i.messages[c].range,e.fullField,e.min,e.max))},enum:function(e,t,n,r,i){e.enum=Array.isArray(e.enum)?e.enum:[],-1===e.enum.indexOf(t)&&r.push(DT(i.messages.enum,e.fullField,e.enum.join(", ")))},pattern:function(e,t,n,r,i){if(e.pattern)if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||r.push(DT(i.messages.pattern.mismatch,e.fullField,t,e.pattern));else if("string"===typeof e.pattern){new RegExp(e.pattern).test(t)||r.push(DT(i.messages.pattern.mismatch,e.fullField,t,e.pattern))}}},GT=function(e,t,n,r,i){var a=e.type,o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(MT(t,a)&&!e.required)return n();KT.required(e,t,r,o,i,a),MT(t,a)||KT.type(e,t,r,o,i)}n(o)},$T={string:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(MT(t,"string")&&!e.required)return n();KT.required(e,t,r,a,i,"string"),MT(t,"string")||(KT.type(e,t,r,a,i),KT.range(e,t,r,a,i),KT.pattern(e,t,r,a,i),!0===e.whitespace&&KT.whitespace(e,t,r,a,i))}n(a)},method:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(MT(t)&&!e.required)return n();KT.required(e,t,r,a,i),void 0!==t&&KT.type(e,t,r,a,i)}n(a)},number:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(""===t&&(t=void 0),MT(t)&&!e.required)return n();KT.required(e,t,r,a,i),void 0!==t&&(KT.type(e,t,r,a,i),KT.range(e,t,r,a,i))}n(a)},boolean:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(MT(t)&&!e.required)return n();KT.required(e,t,r,a,i),void 0!==t&&KT.type(e,t,r,a,i)}n(a)},regexp:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(MT(t)&&!e.required)return n();KT.required(e,t,r,a,i),MT(t)||KT.type(e,t,r,a,i)}n(a)},integer:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(MT(t)&&!e.required)return n();KT.required(e,t,r,a,i),void 0!==t&&(KT.type(e,t,r,a,i),KT.range(e,t,r,a,i))}n(a)},float:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(MT(t)&&!e.required)return n();KT.required(e,t,r,a,i),void 0!==t&&(KT.type(e,t,r,a,i),KT.range(e,t,r,a,i))}n(a)},array:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if((void 0===t||null===t)&&!e.required)return n();KT.required(e,t,r,a,i,"array"),void 0!==t&&null!==t&&(KT.type(e,t,r,a,i),KT.range(e,t,r,a,i))}n(a)},object:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(MT(t)&&!e.required)return n();KT.required(e,t,r,a,i),void 0!==t&&KT.type(e,t,r,a,i)}n(a)},enum:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(MT(t)&&!e.required)return n();KT.required(e,t,r,a,i),void 0!==t&&KT.enum(e,t,r,a,i)}n(a)},pattern:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(MT(t,"string")&&!e.required)return n();KT.required(e,t,r,a,i),MT(t,"string")||KT.pattern(e,t,r,a,i)}n(a)},date:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(MT(t,"date")&&!e.required)return n();var o;if(KT.required(e,t,r,a,i),!MT(t,"date"))o=t instanceof Date?t:new Date(t),KT.type(e,o,r,a,i),o&&KT.range(e,o.getTime(),r,a,i)}n(a)},url:GT,hex:GT,email:GT,required:function(e,t,n,r,i){var a=[],o=Array.isArray(t)?"array":typeof t;KT.required(e,t,r,a,i,o),n(a)},any:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(MT(t)&&!e.required)return n();KT.required(e,t,r,a,i)}n(a)}};function QT(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var YT=QT(),XT=function(){function e(e){this.rules=null,this._messages=YT,this.define(e)}var t=e.prototype;return t.define=function(e){var t=this;if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!==typeof e||Array.isArray(e))throw new Error("Rules must be an object");this.rules={},Object.keys(e).forEach((function(n){var r=e[n];t.rules[n]=Array.isArray(r)?r:[r]}))},t.messages=function(e){return e&&(this._messages=UT(QT(),e)),this._messages},t.validate=function(t,n,r){var i=this;void 0===n&&(n={}),void 0===r&&(r=function(){});var a=t,o=n,u=r;if("function"===typeof o&&(u=o,o={}),!this.rules||0===Object.keys(this.rules).length)return u&&u(null,a),Promise.resolve(a);if(o.messages){var s=this.messages();s===YT&&(s=QT()),UT(s,o.messages),o.messages=s}else o.messages=this.messages();var c={};(o.keys||Object.keys(this.rules)).forEach((function(e){var n=i.rules[e],r=a[e];n.forEach((function(n){var o=n;"function"===typeof o.transform&&(a===t&&(a=IT({},a)),r=a[e]=o.transform(r)),(o="function"===typeof o?{validator:o}:IT({},o)).validator=i.getValidationMethod(o),o.validator&&(o.field=e,o.fullField=o.fullField||e,o.type=i.getType(o),c[e]=c[e]||[],c[e].push({rule:o,value:r,source:a,field:e}))}))}));var l={};return VT(c,o,(function(t,n){var r,i=t.rule,u=("object"===i.type||"array"===i.type)&&("object"===typeof i.fields||"object"===typeof i.defaultField);function s(e,t){return IT({},t,{fullField:i.fullField+"."+e,fullFields:i.fullFields?[].concat(i.fullFields,[e]):[e]})}function c(r){void 0===r&&(r=[]);var c=Array.isArray(r)?r:[r];!o.suppressWarning&&c.length&&e.warning("async-validator:",c),c.length&&void 0!==i.message&&(c=[].concat(i.message));var f=c.map(jT(i,a));if(o.first&&f.length)return l[i.field]=1,n(f);if(u){if(i.required&&!t.value)return void 0!==i.message?f=[].concat(i.message).map(jT(i,a)):o.error&&(f=[o.error(i,DT(o.messages.required,i.field))]),n(f);var h={};i.defaultField&&Object.keys(t.value).map((function(e){h[e]=i.defaultField})),h=IT({},h,t.rule.fields);var d={};Object.keys(h).forEach((function(e){var t=h[e],n=Array.isArray(t)?t:[t];d[e]=n.map(s.bind(null,e))}));var p=new e(d);p.messages(o.messages),t.rule.options&&(t.rule.options.messages=o.messages,t.rule.options.error=o.error),p.validate(t.value,t.rule.options||o,(function(e){var t=[];f&&f.length&&t.push.apply(t,f),e&&e.length&&t.push.apply(t,e),n(t.length?t:null)}))}else n(f)}if(u=u&&(i.required||!i.required&&t.value),i.field=t.field,i.asyncValidator)r=i.asyncValidator(i,t.value,c,t.source,o);else if(i.validator){try{r=i.validator(i,t.value,c,t.source,o)}catch(f){null==console.error||console.error(f),o.suppressValidatorError||setTimeout((function(){throw f}),0),c(f.message)}!0===r?c():!1===r?c("function"===typeof i.message?i.message(i.fullField||i.field):i.message||(i.fullField||i.field)+" fails"):r instanceof Array?c(r):r instanceof Error&&c(r.message)}r&&r.then&&r.then((function(){return c()}),(function(e){return c(e)}))}),(function(e){!function(e){var t=[],n={};function r(e){var n;Array.isArray(e)?t=(n=t).concat.apply(n,e):t.push(e)}for(var i=0;i<e.length;i++)r(e[i]);t.length?(n=RT(t),u(t,n)):u(null,a)}(e)}),a)},t.getType=function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!==typeof e.validator&&e.type&&!$T.hasOwnProperty(e.type))throw new Error(DT("Unknown rule type %s",e.type));return e.type||"string"},t.getValidationMethod=function(e){if("function"===typeof e.validator)return e.validator;var t=Object.keys(e),n=t.indexOf("message");return-1!==n&&t.splice(n,1),1===t.length&&"required"===t[0]?$T.required:$T[this.getType(e)]||void 0},e}();XT.register=function(e,t){if("function"!==typeof t)throw new Error("Cannot register a validator by type, validator is not a function");$T[e]=t},XT.warning=function(){},XT.messages=YT,XT.validators=$T;var JT="'${name}' is not a valid ${type}",ZT={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:JT,method:JT,array:JT,object:JT,number:JT,date:JT,boolean:JT,integer:JT,float:JT,regexp:JT,email:JT,url:JT,hex:JT},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}};function eC(e,t){for(var n=e,r=0;r<t.length;r+=1){if(null===n||void 0===n)return;n=n[t[r]]}return n}function tC(e,t,n,r){if(!t.length)return n;var i,a=NS(t),o=a[0],u=a.slice(1);return i=e||"number"!==typeof o?Array.isArray(e)?Ge(e):zt({},e):[],r&&void 0===n&&1===u.length?delete i[o][u[0]]:i[o]=tC(i[o],u,n,r),i}function nC(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.length&&r&&void 0===n&&!eC(e,t.slice(0,-1))?e:tC(e,t,n,r)}function rC(e){return Array.isArray(e)?function(e){return e.map((function(e){return rC(e)}))}(e):"object"===Ve(e)&&null!==e?function(e){if(Object.getPrototypeOf(e)===Object.prototype){var t={};for(var n in e)t[n]=rC(e[n]);return t}return e}(e):e}var iC=rC;function aC(e){return ST(e)}function oC(e,t){return eC(e,t)}function uC(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=nC(e,t,n,r);return i}function sC(e,t){var n={};return t.forEach((function(t){var r=oC(e,t);n=uC(n,t,r)})),n}function cC(e,t){return e&&e.some((function(e){return dC(e,t)}))}function lC(e){return"object"===Ve(e)&&null!==e&&Object.getPrototypeOf(e)===Object.prototype}function fC(e,t){var n=Array.isArray(e)?Ge(e):zt({},e);return t?(Object.keys(t).forEach((function(e){var r=n[e],i=t[e],a=lC(r)&&lC(i);n[e]=a?fC(r,i||{}):iC(i)})),n):n}function hC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((function(e,t){return fC(e,t)}),e)}function dC(e,t){return!(!e||!t||e.length!==t.length)&&e.every((function(e,n){return t[n]===e}))}function pC(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&"object"===Ve(t.target)&&e in t.target?t.target[e]:t}function vC(e,t,n){var r=e.length;if(t<0||t>=r||n<0||n>=r)return e;var i=e[t],a=t-n;return a>0?[].concat(Ge(e.slice(0,n)),[i],Ge(e.slice(n,t)),Ge(e.slice(t+1,r))):a<0?[].concat(Ge(e.slice(0,t)),Ge(e.slice(t+1,n+1)),[i],Ge(e.slice(n+1,r))):e}var mC=XT;function yC(e,t){return e.replace(/\$\{\w+\}/g,(function(e){var n=e.slice(2,-1);return t[n]}))}var gC="CODE_LOGIC_ERROR";function bC(e,t,n,r,i){return kC.apply(this,arguments)}function kC(){return kC=ze(je().mark((function e(n,r,i,a,o){var u,s,c,l,f,h,d,p,v;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete(u=zt({},i)).ruleIndex,u.validator&&(s=u.validator,u.validator=function(){try{return s.apply(void 0,arguments)}catch(e){return console.error(e),Promise.reject(gC)}}),c=null,u&&"array"===u.type&&u.defaultField&&(c=u.defaultField,delete u.defaultField),l=new mC(Xe({},n,[u])),f=hC({},ZT,a.validateMessages),l.messages(f),h=[],e.prev=9,e.next=12,Promise.resolve(l.validate(Xe({},n,r),zt({},a)));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),e.t0.errors&&(h=e.t0.errors.map((function(e,n){var r=e.message,i=r===gC?f.default:r;return t.isValidElement(i)?t.cloneElement(i,{key:"error_".concat(n)}):i})));case 17:if(h.length||!c){e.next=22;break}return e.next=20,Promise.all(r.map((function(e,t){return bC("".concat(n,".").concat(t),e,c,a,o)})));case 20:return d=e.sent,e.abrupt("return",d.reduce((function(e,t){return[].concat(Ge(e),Ge(t))}),[]));case 22:return p=zt(zt({},i),{},{name:n,enum:(i.enum||[]).join(", ")},o),v=h.map((function(e){return"string"===typeof e?yC(e,p):e})),e.abrupt("return",v);case 25:case"end":return e.stop()}}),e,null,[[9,14]])}))),kC.apply(this,arguments)}function wC(e,t,n,r,i,a){var o,u=e.join("."),s=n.map((function(e,t){var n=e.validator,r=zt(zt({},e),{},{ruleIndex:t});return n&&(r.validator=function(e,t,r){var i=!1,a=n(e,t,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Promise.resolve().then((function(){wT(!i,"Your validator function has already return a promise. `callback` will be ignored."),i||r.apply(void 0,t)}))}));i=a&&"function"===typeof a.then&&"function"===typeof a.catch,wT(i,"`callback` is deprecated. Please return a promise instead."),i&&a.then((function(){r()})).catch((function(e){r(e||" ")}))}),r})).sort((function(e,t){var n=e.warningOnly,r=e.ruleIndex,i=t.warningOnly,a=t.ruleIndex;return!!n===!!i?r-a:n?1:-1}));if(!0===i)o=new Promise(function(){var e=ze(je().mark((function e(n,i){var o,c,l;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=0;case 1:if(!(o<s.length)){e.next=12;break}return c=s[o],e.next=5,bC(u,t,c,r,a);case 5:if(!(l=e.sent).length){e.next=9;break}return i([{errors:l,rule:c}]),e.abrupt("return");case 9:o+=1,e.next=1;break;case 12:n([]);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());else{var c=s.map((function(e){return bC(u,t,e,r,a).then((function(t){return{errors:t,rule:e}}))}));o=(i?function(e){return EC.apply(this,arguments)}(c):function(e){return xC.apply(this,arguments)}(c)).then((function(e){return Promise.reject(e)}))}return o.catch((function(e){return e})),o}function xC(){return(xC=ze(je().mark((function e(t){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t).then((function(e){var t;return(t=[]).concat.apply(t,Ge(e))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function EC(){return(EC=ze(je().mark((function e(t){var n;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,e.abrupt("return",new Promise((function(e){t.forEach((function(r){r.then((function(r){r.errors.length&&e([r]),(n+=1)===t.length&&e([])}))}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _C=["name"],SC=[];function IC(e,t,n,r,i,a){return"function"===typeof e?e(t,n,"source"in a?{source:a.source}:{}):r!==i}var TC=function(e){Be(r,e);var n=We(r);function r(e){var i;($e(this,r),(i=n.call(this,e)).state={resetCount:0},i.cancelRegisterFunc=null,i.mounted=!1,i.touched=!1,i.dirty=!1,i.validatePromise=null,i.prevValidating=void 0,i.errors=SC,i.warnings=SC,i.cancelRegister=function(){var e=i.props,t=e.preserve,n=e.isListField,r=e.name;i.cancelRegisterFunc&&i.cancelRegisterFunc(n,t,aC(r)),i.cancelRegisterFunc=null},i.getNamePath=function(){var e=i.props,t=e.name,n=e.fieldContext.prefixName;return void 0!==t?[].concat(Ge(void 0===n?[]:n),Ge(t)):[]},i.getRules=function(){var e=i.props,t=e.rules,n=void 0===t?[]:t,r=e.fieldContext;return n.map((function(e){return"function"===typeof e?e(r):e}))},i.refresh=function(){i.mounted&&i.setState((function(e){return{resetCount:e.resetCount+1}}))},i.triggerMetaEvent=function(e){var t=i.props.onMetaChange;null===t||void 0===t||t(zt(zt({},i.getMeta()),{},{destroy:e}))},i.onStoreChange=function(e,t,n){var r=i.props,a=r.shouldUpdate,o=r.dependencies,u=void 0===o?[]:o,s=r.onReset,c=n.store,l=i.getNamePath(),f=i.getValue(e),h=i.getValue(c),d=t&&cC(t,l);switch("valueUpdate"===n.type&&"external"===n.source&&f!==h&&(i.touched=!0,i.dirty=!0,i.validatePromise=null,i.errors=SC,i.warnings=SC,i.triggerMetaEvent()),n.type){case"reset":if(!t||d)return i.touched=!1,i.dirty=!1,i.validatePromise=null,i.errors=SC,i.warnings=SC,i.triggerMetaEvent(),null===s||void 0===s||s(),void i.refresh();break;case"remove":if(a)return void i.reRender();break;case"setField":if(d){var p=n.data;return"touched"in p&&(i.touched=p.touched),"validating"in p&&!("originRCField"in p)&&(i.validatePromise=p.validating?Promise.resolve([]):null),"errors"in p&&(i.errors=p.errors||SC),"warnings"in p&&(i.warnings=p.warnings||SC),i.dirty=!0,i.triggerMetaEvent(),void i.reRender()}if(a&&!l.length&&IC(a,e,c,f,h,n))return void i.reRender();break;case"dependenciesUpdate":if(u.map(aC).some((function(e){return cC(n.relatedFields,e)})))return void i.reRender();break;default:if(d||(!u.length||l.length||a)&&IC(a,e,c,f,h,n))return void i.reRender()}!0===a&&i.reRender()},i.validateRules=function(e){var t=i.getNamePath(),n=i.getValue(),r=Promise.resolve().then((function(){if(!i.mounted)return[];var a=i.props,o=a.validateFirst,u=void 0!==o&&o,s=a.messageVariables,c=(e||{}).triggerName,l=i.getRules();c&&(l=l.filter((function(e){var t=e.validateTrigger;return!t||ST(t).includes(c)})));var f=wC(t,n,l,e,u,s);return f.catch((function(e){return e})).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:SC;if(i.validatePromise===r){i.validatePromise=null;var t=[],n=[];e.forEach((function(e){var r=e.rule.warningOnly,i=e.errors,a=void 0===i?SC:i;r?n.push.apply(n,Ge(a)):t.push.apply(t,Ge(a))})),i.errors=t,i.warnings=n,i.triggerMetaEvent(),i.reRender()}})),f}));return i.validatePromise=r,i.dirty=!0,i.errors=SC,i.warnings=SC,i.triggerMetaEvent(),i.reRender(),r},i.isFieldValidating=function(){return!!i.validatePromise},i.isFieldTouched=function(){return i.touched},i.isFieldDirty=function(){return!(!i.dirty&&void 0===i.props.initialValue)||void 0!==(0,i.props.fieldContext.getInternalHooks(xT).getInitialValue)(i.getNamePath())},i.getErrors=function(){return i.errors},i.getWarnings=function(){return i.warnings},i.isListField=function(){return i.props.isListField},i.isList=function(){return i.props.isList},i.isPreserve=function(){return i.props.preserve},i.getMeta=function(){return i.prevValidating=i.isFieldValidating(),{touched:i.isFieldTouched(),validating:i.prevValidating,errors:i.errors,warnings:i.warnings,name:i.getNamePath()}},i.getOnlyChild=function(e){if("function"===typeof e){var n=i.getMeta();return zt(zt({},i.getOnlyChild(e(i.getControlled(),n,i.props.fieldContext))),{},{isFunction:!0})}var r=yT(e);return 1===r.length&&t.isValidElement(r[0])?{child:r[0],isFunction:!1}:{child:r,isFunction:!1}},i.getValue=function(e){var t=i.props.fieldContext.getFieldsValue,n=i.getNamePath();return oC(e||t(!0),n)},i.getControlled=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=i.props,n=t.trigger,r=t.validateTrigger,a=t.getValueFromEvent,o=t.normalize,u=t.valuePropName,s=t.getValueProps,c=t.fieldContext,l=void 0!==r?r:c.validateTrigger,f=i.getNamePath(),h=c.getInternalHooks,d=c.getFieldsValue,p=h(xT),v=p.dispatch,m=i.getValue(),y=s||function(e){return Xe({},u,e)},g=e[n],b=zt(zt({},e),y(m));b[n]=function(){var e;i.touched=!0,i.dirty=!0,i.triggerMetaEvent();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e=a?a.apply(void 0,n):pC.apply(void 0,[u].concat(n)),o&&(e=o(e,m,d(!0))),v({type:"updateValue",namePath:f,value:e}),g&&g.apply(void 0,n)};var k=ST(l||[]);return k.forEach((function(e){var t=b[e];b[e]=function(){t&&t.apply(void 0,arguments);var n=i.props.rules;n&&n.length&&v({type:"validateField",namePath:f,triggerName:e})}})),b},e.fieldContext)&&(0,(0,e.fieldContext.getInternalHooks)(xT).initEntityValue)(qe(i));return i}return Ye(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.shouldUpdate,n=e.fieldContext;if(this.mounted=!0,n){var r=(0,n.getInternalHooks)(xT).registerField;this.cancelRegisterFunc=r(this)}!0===t&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var e,n=this.state.resetCount,r=this.props.children,i=this.getOnlyChild(r),a=i.child;return i.isFunction?e=a:t.isValidElement(a)?e=t.cloneElement(a,this.getControlled(a.props)):(wT(!a,"`children` of Field is not validate ReactElement."),e=a),t.createElement(t.Fragment,{key:n},e)}}]),r}(t.Component);TC.contextType=_T,TC.defaultProps={trigger:"onChange",valuePropName:"value"};var CC=function(e){var n=e.name,r=vT(e,_C),i=t.useContext(_T),a=void 0!==n?aC(n):void 0,o="keep";return r.isListField||(o="_".concat((a||[]).join("_"))),t.createElement(TC,y({key:o,name:a},r,{fieldContext:i}))},NC=t.createContext(null),AC=function(e){var n=e.name,r=e.initialValue,i=e.children,a=e.rules,o=e.validateTrigger,u=t.useContext(_T),s=t.useRef({keys:[],id:0}).current,c=t.useMemo((function(){var e=aC(u.prefixName)||[];return[].concat(Ge(e),Ge(aC(n)))}),[u.prefixName,n]),l=t.useMemo((function(){return zt(zt({},u),{},{prefixName:c})}),[u,c]),f=t.useMemo((function(){return{getKey:function(e){var t=c.length,n=e[t];return[s.keys[n],e.slice(t+1)]}}}),[c]);if("function"!==typeof i)return wT(!1,"Form.List only accepts function as children."),null;return t.createElement(NC.Provider,{value:f},t.createElement(_T.Provider,{value:l},t.createElement(CC,{name:[],shouldUpdate:function(e,t,n){return"internal"!==n.source&&e!==t},rules:a,validateTrigger:o,initialValue:r,isList:!0},(function(e,t){var n=e.value,r=void 0===n?[]:n,a=e.onChange,o=u.getFieldValue,l=function(){return o(c||[])||[]},f={add:function(e,t){var n=l();t>=0&&t<=n.length?(s.keys=[].concat(Ge(s.keys.slice(0,t)),[s.id],Ge(s.keys.slice(t))),a([].concat(Ge(n.slice(0,t)),[e],Ge(n.slice(t))))):(s.keys=[].concat(Ge(s.keys),[s.id]),a([].concat(Ge(n),[e]))),s.id+=1},remove:function(e){var t=l(),n=new Set(Array.isArray(e)?e:[e]);n.size<=0||(s.keys=s.keys.filter((function(e,t){return!n.has(t)})),a(t.filter((function(e,t){return!n.has(t)}))))},move:function(e,t){if(e!==t){var n=l();e<0||e>=n.length||t<0||t>=n.length||(s.keys=vC(s.keys,e,t),a(vC(n,e,t)))}}},h=r||[];return Array.isArray(h)||(h=[]),i(h.map((function(e,t){var n=s.keys[t];return void 0===n&&(s.keys[t]=s.id,n=s.keys[t],s.id+=1),{name:t,key:n,isListField:!0}})),f,t)}))))};var OC="__@field_split__";function PC(e){return e.map((function(e){return"".concat(Ve(e),":").concat(e)})).join(OC)}var RC=function(){function e(){$e(this,e),this.kvs=new Map}return Ye(e,[{key:"set",value:function(e,t){this.kvs.set(PC(e),t)}},{key:"get",value:function(e){return this.kvs.get(PC(e))}},{key:"update",value:function(e,t){var n=t(this.get(e));n?this.set(e,n):this.delete(e)}},{key:"delete",value:function(e){this.kvs.delete(PC(e))}},{key:"map",value:function(e){return Ge(this.kvs.entries()).map((function(t){var n=Oe(t,2),r=n[0],i=n[1],a=r.split(OC);return e({key:a.map((function(e){var t=Oe(e.match(/^([^:]*):(.*)$/),3),n=t[1],r=t[2];return"number"===n?Number(r):r})),value:i})}))}},{key:"toJSON",value:function(){var e={};return this.map((function(t){var n=t.key,r=t.value;return e[n.join(".")]=r,null})),e}}]),e}(),DC=RC,MC=["name","errors"],FC=Ye((function e(t){var n=this;$e(this,e),this.formHooked=!1,this.forceRootUpdate=void 0,this.subscribable=!0,this.store={},this.fieldEntities=[],this.initialValues={},this.callbacks={},this.validateMessages=null,this.preserve=null,this.lastValidatePromise=null,this.getForm=function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,_init:!0,getInternalHooks:n.getInternalHooks}},this.getInternalHooks=function(e){return e===xT?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,destroyForm:n.destroyForm,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue,registerWatch:n.registerWatch}):(wT(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)},this.useSubscribe=function(e){n.subscribable=e},this.prevWithoutPreserves=null,this.setInitialValues=function(e,t){if(n.initialValues=e||{},t){var r,i=hC({},e,n.store);null===(r=n.prevWithoutPreserves)||void 0===r||r.map((function(t){var n=t.key;i=uC(i,n,oC(e,n))})),n.prevWithoutPreserves=null,n.updateStore(i)}},this.destroyForm=function(){var e=new DC;n.getFieldEntities(!0).forEach((function(t){n.isMergedPreserve(t.isPreserve())||e.set(t.getNamePath(),!0)})),n.prevWithoutPreserves=e},this.getInitialValue=function(e){var t=oC(n.initialValues,e);return e.length?iC(t):t},this.setCallbacks=function(e){n.callbacks=e},this.setValidateMessages=function(e){n.validateMessages=e},this.setPreserve=function(e){n.preserve=e},this.watchList=[],this.registerWatch=function(e){return n.watchList.push(e),function(){n.watchList=n.watchList.filter((function(t){return t!==e}))}},this.notifyWatch=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(n.watchList.length){var t=n.getFieldsValue();n.watchList.forEach((function(n){n(t,e)}))}},this.timeoutId=null,this.warningUnhooked=function(){0},this.updateStore=function(e){n.store=e},this.getFieldEntities=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?n.fieldEntities.filter((function(e){return e.getNamePath().length})):n.fieldEntities},this.getFieldsMap=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new DC;return n.getFieldEntities(e).forEach((function(e){var n=e.getNamePath();t.set(n,e)})),t},this.getFieldEntitiesForNamePathList=function(e){if(!e)return n.getFieldEntities(!0);var t=n.getFieldsMap(!0);return e.map((function(e){var n=aC(e);return t.get(n)||{INVALIDATE_NAME_PATH:aC(e)}}))},this.getFieldsValue=function(e,t){if(n.warningUnhooked(),!0===e&&!t)return n.store;var r=n.getFieldEntitiesForNamePathList(Array.isArray(e)?e:null),i=[];return r.forEach((function(n){var r,a="INVALIDATE_NAME_PATH"in n?n.INVALIDATE_NAME_PATH:n.getNamePath();if(e||!(null===(r=n.isListField)||void 0===r?void 0:r.call(n)))if(t){var o="getMeta"in n?n.getMeta():null;t(o)&&i.push(a)}else i.push(a)})),sC(n.store,i.map(aC))},this.getFieldValue=function(e){n.warningUnhooked();var t=aC(e);return oC(n.store,t)},this.getFieldsError=function(e){return n.warningUnhooked(),n.getFieldEntitiesForNamePathList(e).map((function(t,n){return t&&!("INVALIDATE_NAME_PATH"in t)?{name:t.getNamePath(),errors:t.getErrors(),warnings:t.getWarnings()}:{name:aC(e[n]),errors:[],warnings:[]}}))},this.getFieldError=function(e){n.warningUnhooked();var t=aC(e);return n.getFieldsError([t])[0].errors},this.getFieldWarning=function(e){n.warningUnhooked();var t=aC(e);return n.getFieldsError([t])[0].warnings},this.isFieldsTouched=function(){n.warningUnhooked();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i,a=t[0],o=t[1],u=!1;0===t.length?i=null:1===t.length?Array.isArray(a)?(i=a.map(aC),u=!1):(i=null,u=a):(i=a.map(aC),u=o);var s=n.getFieldEntities(!0),c=function(e){return e.isFieldTouched()};if(!i)return u?s.every(c):s.some(c);var l=new DC;i.forEach((function(e){l.set(e,[])})),s.forEach((function(e){var t=e.getNamePath();i.forEach((function(n){n.every((function(e,n){return t[n]===e}))&&l.update(n,(function(t){return[].concat(Ge(t),[e])}))}))}));var f=function(e){return e.some(c)},h=l.map((function(e){return e.value}));return u?h.every(f):h.some(f)},this.isFieldTouched=function(e){return n.warningUnhooked(),n.isFieldsTouched([e])},this.isFieldsValidating=function(e){n.warningUnhooked();var t=n.getFieldEntities();if(!e)return t.some((function(e){return e.isFieldValidating()}));var r=e.map(aC);return t.some((function(e){var t=e.getNamePath();return cC(r,t)&&e.isFieldValidating()}))},this.isFieldValidating=function(e){return n.warningUnhooked(),n.isFieldsValidating([e])},this.resetWithFieldInitialValue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new DC,r=n.getFieldEntities(!0);r.forEach((function(e){var n=e.props.initialValue,r=e.getNamePath();if(void 0!==n){var i=t.get(r)||new Set;i.add({entity:e,value:n}),t.set(r,i)}}));var i,a=function(r){r.forEach((function(r){if(void 0!==r.props.initialValue){var i=r.getNamePath();if(void 0!==n.getInitialValue(i))wT(!1,"Form already set 'initialValues' with path '".concat(i.join("."),"'. Field can not overwrite it."));else{var a=t.get(i);if(a&&a.size>1)wT(!1,"Multiple Field with path '".concat(i.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(a){var o=n.getFieldValue(i);e.skipExist&&void 0!==o||n.updateStore(uC(n.store,i,Ge(a)[0].value))}}}}))};e.entities?i=e.entities:e.namePathList?(i=[],e.namePathList.forEach((function(e){var n,r=t.get(e);r&&(n=i).push.apply(n,Ge(Ge(r).map((function(e){return e.entity}))))}))):i=r,a(i)},this.resetFields=function(e){n.warningUnhooked();var t=n.store;if(!e)return n.updateStore(hC({},n.initialValues)),n.resetWithFieldInitialValue(),n.notifyObservers(t,null,{type:"reset"}),void n.notifyWatch();var r=e.map(aC);r.forEach((function(e){var t=n.getInitialValue(e);n.updateStore(uC(n.store,e,t))})),n.resetWithFieldInitialValue({namePathList:r}),n.notifyObservers(t,r,{type:"reset"}),n.notifyWatch(r)},this.setFields=function(e){n.warningUnhooked();var t=n.store,r=[];e.forEach((function(e){var i=e.name,a=(e.errors,vT(e,MC)),o=aC(i);r.push(o),"value"in a&&n.updateStore(uC(n.store,o,a.value)),n.notifyObservers(t,[o],{type:"setField",data:e})})),n.notifyWatch(r)},this.getFields=function(){return n.getFieldEntities(!0).map((function(e){var t=e.getNamePath(),r=zt(zt({},e.getMeta()),{},{name:t,value:n.getFieldValue(t)});return Object.defineProperty(r,"originRCField",{value:!0}),r}))},this.initEntityValue=function(e){var t=e.props.initialValue;if(void 0!==t){var r=e.getNamePath();void 0===oC(n.store,r)&&n.updateStore(uC(n.store,r,t))}},this.isMergedPreserve=function(e){var t=void 0!==e?e:n.preserve;return null===t||void 0===t||t},this.registerField=function(e){n.fieldEntities.push(e);var t=e.getNamePath();if(n.notifyWatch([t]),void 0!==e.props.initialValue){var r=n.store;n.resetWithFieldInitialValue({entities:[e],skipExist:!0}),n.notifyObservers(r,[e.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(r,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(n.fieldEntities=n.fieldEntities.filter((function(t){return t!==e})),!n.isMergedPreserve(i)&&(!r||a.length>1)){var o=r?void 0:n.getInitialValue(t);if(t.length&&n.getFieldValue(t)!==o&&n.fieldEntities.every((function(e){return!dC(e.getNamePath(),t)}))){var u=n.store;n.updateStore(uC(u,t,o,!0)),n.notifyObservers(u,[t],{type:"remove"}),n.triggerDependenciesUpdate(u,t)}}n.notifyWatch([t])}},this.dispatch=function(e){switch(e.type){case"updateValue":var t=e.namePath,r=e.value;n.updateValue(t,r);break;case"validateField":var i=e.namePath,a=e.triggerName;n.validateFields([i],{triggerName:a})}},this.notifyObservers=function(e,t,r){if(n.subscribable){var i=zt(zt({},r),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach((function(n){(0,n.onStoreChange)(e,t,i)}))}else n.forceRootUpdate()},this.triggerDependenciesUpdate=function(e,t){var r=n.getDependencyChildrenFields(t);return r.length&&n.validateFields(r),n.notifyObservers(e,r,{type:"dependenciesUpdate",relatedFields:[t].concat(Ge(r))}),r},this.updateValue=function(e,t){var r=aC(e),i=n.store;n.updateStore(uC(n.store,r,t)),n.notifyObservers(i,[r],{type:"valueUpdate",source:"internal"}),n.notifyWatch([r]);var a=n.triggerDependenciesUpdate(i,r),o=n.callbacks.onValuesChange;o&&o(sC(n.store,[r]),n.getFieldsValue());n.triggerOnFieldsChange([r].concat(Ge(a)))},this.setFieldsValue=function(e){n.warningUnhooked();var t=n.store;if(e){var r=hC(n.store,e);n.updateStore(r)}n.notifyObservers(t,null,{type:"valueUpdate",source:"external"}),n.notifyWatch()},this.getDependencyChildrenFields=function(e){var t=new Set,r=[],i=new DC;n.getFieldEntities().forEach((function(e){(e.props.dependencies||[]).forEach((function(t){var n=aC(t);i.update(n,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;return t.add(e),t}))}))}));return function e(n){(i.get(n)||new Set).forEach((function(n){if(!t.has(n)){t.add(n);var i=n.getNamePath();n.isFieldDirty()&&i.length&&(r.push(i),e(i))}}))}(e),r},this.triggerOnFieldsChange=function(e,t){var r=n.callbacks.onFieldsChange;if(r){var i=n.getFields();if(t){var a=new DC;t.forEach((function(e){var t=e.name,n=e.errors;a.set(t,n)})),i.forEach((function(e){e.errors=a.get(e.name)||e.errors}))}r(i.filter((function(t){var n=t.name;return cC(e,n)})),i)}},this.validateFields=function(e,t){n.warningUnhooked();var r=!!e,i=r?e.map(aC):[],a=[];n.getFieldEntities(!0).forEach((function(o){if(r||i.push(o.getNamePath()),(null===t||void 0===t?void 0:t.recursive)&&r){var u=o.getNamePath();u.every((function(t,n){return e[n]===t||void 0===e[n]}))&&i.push(u)}if(o.props.rules&&o.props.rules.length){var s=o.getNamePath();if(!r||cC(i,s)){var c=o.validateRules(zt({validateMessages:zt(zt({},ZT),n.validateMessages)},t));a.push(c.then((function(){return{name:s,errors:[],warnings:[]}})).catch((function(e){var t=[],n=[];return e.forEach((function(e){var r=e.rule.warningOnly,i=e.errors;r?n.push.apply(n,Ge(i)):t.push.apply(t,Ge(i))})),t.length?Promise.reject({name:s,errors:t,warnings:n}):{name:s,errors:t,warnings:n}})))}}}));var o=function(e){var t=!1,n=e.length,r=[];return e.length?new Promise((function(i,a){e.forEach((function(e,o){e.catch((function(e){return t=!0,e})).then((function(e){n-=1,r[o]=e,n>0||(t&&a(r),i(r))}))}))})):Promise.resolve([])}(a);n.lastValidatePromise=o,o.catch((function(e){return e})).then((function(e){var t=e.map((function(e){return e.name}));n.notifyObservers(n.store,t,{type:"validateFinish"}),n.triggerOnFieldsChange(t,e)}));var u=o.then((function(){return n.lastValidatePromise===o?Promise.resolve(n.getFieldsValue(i)):Promise.reject([])})).catch((function(e){var t=e.filter((function(e){return e&&e.errors.length}));return Promise.reject({values:n.getFieldsValue(i),errorFields:t,outOfDate:n.lastValidatePromise!==o})}));return u.catch((function(e){return e})),u},this.submit=function(){n.warningUnhooked(),n.validateFields().then((function(e){var t=n.callbacks.onFinish;if(t)try{t(e)}catch(r){console.error(r)}})).catch((function(e){var t=n.callbacks.onFinishFailed;t&&t(e)}))},this.forceRootUpdate=t}));var LC=function(e){var n=t.useRef(),r=Oe(t.useState({}),2)[1];if(!n.current)if(e)n.current=e;else{var i=new FC((function(){r({})}));n.current=i.getForm()}return[n.current]},VC=t.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),jC=function(e){var n=e.validateMessages,r=e.onFormChange,i=e.onFormFinish,a=e.children,o=t.useContext(VC),u=t.useRef({});return t.createElement(VC.Provider,{value:zt(zt({},o),{},{validateMessages:zt(zt({},o.validateMessages),n),triggerFormChange:function(e,t){r&&r(e,{changedFields:t,forms:u.current}),o.triggerFormChange(e,t)},triggerFormFinish:function(e,t){i&&i(e,{values:t,forms:u.current}),o.triggerFormFinish(e,t)},registerForm:function(e,t){e&&(u.current=zt(zt({},u.current),{},Xe({},e,t))),o.registerForm(e,t)},unregisterForm:function(e){var t=zt({},u.current);delete t[e],u.current=t,o.unregisterForm(e)}})},a)},UC=VC,zC=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"],BC=function(e,n){var r=e.name,i=e.initialValues,a=e.fields,o=e.form,u=e.preserve,s=e.children,c=e.component,l=void 0===c?"form":c,f=e.validateMessages,h=e.validateTrigger,d=void 0===h?"onChange":h,p=e.onValuesChange,v=e.onFieldsChange,m=e.onFinish,g=e.onFinishFailed,b=vT(e,zC),k=t.useContext(UC),w=Oe(LC(o),1)[0],x=w.getInternalHooks(xT),E=x.useSubscribe,_=x.setInitialValues,S=x.setCallbacks,I=x.setValidateMessages,T=x.setPreserve,C=x.destroyForm;t.useImperativeHandle(n,(function(){return w})),t.useEffect((function(){return k.registerForm(r,w),function(){k.unregisterForm(r)}}),[k,w,r]),I(zt(zt({},k.validateMessages),f)),S({onValuesChange:p,onFieldsChange:function(e){if(k.triggerFormChange(r,e),v){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];v.apply(void 0,[e].concat(n))}},onFinish:function(e){k.triggerFormFinish(r,e),m&&m(e)},onFinishFailed:g}),T(u);var N,A=t.useRef(null);_(i,!A.current),A.current||(A.current=!0),t.useEffect((function(){return C}),[]);var O="function"===typeof s;O?N=s(w.getFieldsValue(!0),w):N=s;E(!O);var P=t.useRef();t.useEffect((function(){(function(e,t){if(e===t)return!0;if(!e&&t||e&&!t)return!1;if(!e||!t||"object"!==Ve(e)||"object"!==Ve(t))return!1;var n=Object.keys(e),r=Object.keys(t),i=new Set([].concat(Ge(n),Ge(r)));return Ge(i).every((function(n){var r=e[n],i=t[n];return"function"===typeof r&&"function"===typeof i||r===i}))})(P.current||[],a||[])||w.setFields(a||[]),P.current=a}),[a,w]);var R=t.useMemo((function(){return zt(zt({},w),{},{validateTrigger:d})}),[w,d]),D=t.createElement(_T.Provider,{value:R},N);return!1===l?D:t.createElement(l,y({},b,{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),w.submit()},onReset:function(e){var t;e.preventDefault(),w.resetFields(),null===(t=b.onReset)||void 0===t||t.call(b,e)}}),D)};function qC(e){try{return JSON.stringify(e)}catch(t){return Math.random()}}var HC=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,r=(0,t.useState)(),i=Oe(r,2),a=i[0],o=i[1],u=(0,t.useMemo)((function(){return qC(a)}),[a]),s=(0,t.useRef)(u);s.current=u;var c=(0,t.useContext)(_T),l=n||c,f=l&&l._init,h=aC(e),d=(0,t.useRef)(h);return d.current=h,(0,t.useEffect)((function(){if(f){var e=l.getFieldsValue,t=(0,(0,l.getInternalHooks)(xT).registerWatch)((function(e){var t=oC(e,d.current),n=qC(t);s.current!==n&&(s.current=n,o(t))})),n=oC(e(),d.current);return o(n),t}}),[]),a},WC=t.forwardRef(BC);WC.FormProvider=jC,WC.Field=CC,WC.List=AC,WC.useForm=LC,WC.useWatch=HC;var KC=WC;function GC(e,t){var n=zt({},e);return Array.isArray(t)&&t.forEach((function(e){delete n[e]})),n}var $C=t.createContext({labelAlign:"right",vertical:!1,itemRef:function(){}}),QC=t.createContext(null),YC=t.createContext({prefixCls:""}),XC=t.createContext({}),JC=function(e){var n=e.children,r=e.status,i=e.override,a=(0,t.useContext)(XC),o=(0,t.useMemo)((function(){var e=y({},a);return i&&delete e.isFormItemInput,r&&(delete e.status,delete e.hasFeedback,delete e.feedbackIcon),e}),[r,i,a]);return t.createElement(XC.Provider,{value:o},n)},ZC=n(1694),eN=n.n(ZC),tN=n(4164);function nN(e){return e instanceof HTMLElement?e:tN.findDOMNode(e)}function rN(e,t){"function"===typeof e?e(t):"object"===Ve(e)&&e&&"current"in e&&(e.current=t)}function iN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter((function(e){return e}));return r.length<=1?r[0]:function(e){t.forEach((function(t){rN(t,e)}))}}function aN(e){var t,n,r=(0,mT.isMemo)(e)?e.type.type:e.type;return!("function"===typeof r&&!(null===(t=r.prototype)||void 0===t?void 0:t.render))&&!("function"===typeof e&&!(null===(n=e.prototype)||void 0===n?void 0:n.render))}function oN(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}function uN(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}var sN=function(e,t){var n={animationend:uN("Animation","AnimationEnd"),transitionend:uN("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete n.animationend.animation,"TransitionEvent"in t||delete n.transitionend.transition),n}(oN(),"undefined"!==typeof window?window:{}),cN={};if(oN()){var lN=document.createElement("div");cN=lN.style}var fN={};function hN(e){if(fN[e])return fN[e];var t=sN[e];if(t)for(var n=Object.keys(t),r=n.length,i=0;i<r;i+=1){var a=n[i];if(Object.prototype.hasOwnProperty.call(t,a)&&a in cN)return fN[e]=t[a],fN[e]}return""}var dN=hN("animationend"),pN=hN("transitionend"),vN=!(!dN||!pN),mN=dN||"animationend",yN=pN||"transitionend";function gN(e,t){return e?"object"===Ve(e)?e[t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}))]:"".concat(e,"-").concat(t):null}var bN="none",kN="appear",wN="enter",xN="leave",EN="none",_N="prepare",SN="start",IN="active",TN="end";function CN(e){var n=t.useRef(!1),r=Oe(t.useState(e),2),i=r[0],a=r[1];return t.useEffect((function(){return n.current=!1,function(){n.current=!0}}),[]),[i,function(e,t){t&&n.current||a(e)}]}var NN=function(e){return+setTimeout(e,16)},AN=function(e){return clearTimeout(e)};"undefined"!==typeof window&&"requestAnimationFrame"in window&&(NN=function(e){return window.requestAnimationFrame(e)},AN=function(e){return window.cancelAnimationFrame(e)});var ON=0,PN=new Map;function RN(e){PN.delete(e)}function DN(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=ON+=1;function r(t){if(0===t)RN(n),e();else{var i=NN((function(){r(t-1)}));PN.set(n,i)}}return r(t),n}DN.cancel=function(e){var t=PN.get(e);return RN(t),AN(t)};var MN=oN()?t.useLayoutEffect:t.useEffect,FN=[_N,SN,IN,TN];function LN(e){return e===IN||e===TN}var VN=function(e,n){var r=Oe(CN(EN),2),i=r[0],a=r[1],o=function(){var e=t.useRef(null);function n(){DN.cancel(e.current)}return t.useEffect((function(){return function(){n()}}),[]),[function t(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;n();var a=DN((function(){i<=1?r({isCanceled:function(){return a!==e.current}}):t(r,i-1)}));e.current=a},n]}(),u=Oe(o,2),s=u[0],c=u[1];return MN((function(){if(i!==EN&&i!==TN){var e=FN.indexOf(i),t=FN[e+1],r=n(i);false===r?a(t,!0):s((function(e){function n(){e.isCanceled()||a(t,!0)}!0===r?n():Promise.resolve(r).then(n)}))}}),[e,i]),t.useEffect((function(){return function(){c()}}),[]),[function(){a(_N,!0)},i]};function jN(e,n,r,i){var a=i.motionEnter,o=void 0===a||a,u=i.motionAppear,s=void 0===u||u,c=i.motionLeave,l=void 0===c||c,f=i.motionDeadline,h=i.motionLeaveImmediately,d=i.onAppearPrepare,p=i.onEnterPrepare,v=i.onLeavePrepare,m=i.onAppearStart,y=i.onEnterStart,g=i.onLeaveStart,b=i.onAppearActive,k=i.onEnterActive,w=i.onLeaveActive,x=i.onAppearEnd,E=i.onEnterEnd,_=i.onLeaveEnd,S=i.onVisibleChanged,I=Oe(CN(),2),T=I[0],C=I[1],N=Oe(CN(bN),2),A=N[0],O=N[1],P=Oe(CN(null),2),R=P[0],D=P[1],M=(0,t.useRef)(!1),F=(0,t.useRef)(null);function L(){return r()}var V=(0,t.useRef)(!1);function j(e){var t=L();if(!e||e.deadline||e.target===t){var n,r=V.current;A===kN&&r?n=null===x||void 0===x?void 0:x(t,e):A===wN&&r?n=null===E||void 0===E?void 0:E(t,e):A===xN&&r&&(n=null===_||void 0===_?void 0:_(t,e)),A!==bN&&r&&!1!==n&&(O(bN,!0),D(null,!0))}}var U=function(e){var n=(0,t.useRef)(),r=(0,t.useRef)(e);r.current=e;var i=t.useCallback((function(e){r.current(e)}),[]);function a(e){e&&(e.removeEventListener(yN,i),e.removeEventListener(mN,i))}return t.useEffect((function(){return function(){a(n.current)}}),[]),[function(e){n.current&&n.current!==e&&a(n.current),e&&e!==n.current&&(e.addEventListener(yN,i),e.addEventListener(mN,i),n.current=e)},a]}(j),z=Oe(U,1)[0],B=t.useMemo((function(){var e,t,n;switch(A){case kN:return Xe(e={},_N,d),Xe(e,SN,m),Xe(e,IN,b),e;case wN:return Xe(t={},_N,p),Xe(t,SN,y),Xe(t,IN,k),t;case xN:return Xe(n={},_N,v),Xe(n,SN,g),Xe(n,IN,w),n;default:return{}}}),[A]),q=Oe(VN(A,(function(e){if(e===_N){var t=B.prepare;return!!t&&t(L())}var n;W in B&&D((null===(n=B[W])||void 0===n?void 0:n.call(B,L(),null))||null);return W===IN&&(z(L()),f>0&&(clearTimeout(F.current),F.current=setTimeout((function(){j({deadline:!0})}),f))),true})),2),H=q[0],W=q[1],K=LN(W);V.current=K,MN((function(){C(n);var t,r=M.current;(M.current=!0,e)&&(!r&&n&&s&&(t=kN),r&&n&&o&&(t=wN),(r&&!n&&l||!r&&h&&!n&&l)&&(t=xN),t&&(O(t),H()))}),[n]),(0,t.useEffect)((function(){(A===kN&&!s||A===wN&&!o||A===xN&&!l)&&O(bN)}),[s,o,l]),(0,t.useEffect)((function(){return function(){M.current=!1,clearTimeout(F.current)}}),[]),(0,t.useEffect)((function(){void 0!==T&&A===bN&&(null===S||void 0===S||S(T))}),[T,A]);var G=R;return B.prepare&&W===SN&&(G=zt({transition:"none"},G)),[A,W,G,null!==T&&void 0!==T?T:n]}var UN=function(e){Be(n,e);var t=We(n);function n(){return $e(this,n),t.apply(this,arguments)}return Ye(n,[{key:"render",value:function(){return this.props.children}}]),n}(t.Component),zN=UN;var BN=function(e){var n=e;function r(e){return!(!e.motionName||!n)}"object"===Ve(e)&&(n=e.transitionSupport);var i=t.forwardRef((function(e,n){var i=e.visible,a=void 0===i||i,o=e.removeOnLeave,u=void 0===o||o,s=e.forceRender,c=e.children,l=e.motionName,f=e.leavedClassName,h=e.eventProps,d=r(e),p=(0,t.useRef)(),v=(0,t.useRef)();var m=Oe(jN(d,a,(function(){try{return p.current instanceof HTMLElement?p.current:nN(v.current)}catch(kA){return null}}),e),4),y=m[0],g=m[1],b=m[2],k=m[3],w=t.useRef(k);k&&(w.current=!0);var x,E=t.useCallback((function(e){p.current=e,rN(n,e)}),[n]),_=zt(zt({},h),{},{visible:a});if(c)if(y!==bN&&r(e)){var S,I;g===_N?I="prepare":LN(g)?I="active":g===SN&&(I="start"),x=c(zt(zt({},_),{},{className:eN()(gN(l,y),(S={},Xe(S,gN(l,"".concat(y,"-").concat(I)),I),Xe(S,l,"string"===typeof l),S)),style:b}),E)}else x=k?c(zt({},_),E):!u&&w.current?c(zt(zt({},_),{},{className:f}),E):s?c(zt(zt({},_),{},{style:{display:"none"}}),E):null;else x=null;t.isValidElement(x)&&aN(x)&&(x.ref||(x=t.cloneElement(x,{ref:E})));return t.createElement(zN,{ref:v},x)}));return i.displayName="CSSMotion",i}(vN),qN="add",HN="keep",WN="remove",KN="removed";function GN(e){var t;return zt(zt({},t=e&&"object"===Ve(e)&&"key"in e?e:{key:e}),{},{key:String(t.key)})}function $N(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(GN)}function QN(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0,i=t.length,a=$N(e),o=$N(t);a.forEach((function(e){for(var t=!1,a=r;a<i;a+=1){var u=o[a];if(u.key===e.key){r<a&&(n=n.concat(o.slice(r,a).map((function(e){return zt(zt({},e),{},{status:qN})}))),r=a),n.push(zt(zt({},u),{},{status:HN})),r+=1,t=!0;break}}t||n.push(zt(zt({},e),{},{status:WN}))})),r<i&&(n=n.concat(o.slice(r).map((function(e){return zt(zt({},e),{},{status:qN})}))));var u={};n.forEach((function(e){var t=e.key;u[t]=(u[t]||0)+1}));var s=Object.keys(u).filter((function(e){return u[e]>1}));return s.forEach((function(e){n=n.filter((function(t){var n=t.key,r=t.status;return n!==e||r!==WN})),n.forEach((function(t){t.key===e&&(t.status=HN)}))})),n}var YN=["component","children","onVisibleChanged","onAllRemoved"],XN=["status"],JN=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];var ZN=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:BN,r=function(e){Be(i,e);var r=We(i);function i(){var e;$e(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return(e=r.call.apply(r,[this].concat(n))).state={keyEntities:[]},e.removeKey=function(t){var n=e.state.keyEntities.map((function(e){return e.key!==t?e:zt(zt({},e),{},{status:KN})}));return e.setState({keyEntities:n}),n.filter((function(e){return e.status!==KN})).length},e}return Ye(i,[{key:"render",value:function(){var e=this,r=this.state.keyEntities,i=this.props,a=i.component,o=i.children,u=i.onVisibleChanged,s=i.onAllRemoved,c=vT(i,YN),l=a||t.Fragment,f={};return JN.forEach((function(e){f[e]=c[e],delete c[e]})),delete c.keys,t.createElement(l,c,r.map((function(r){var i=r.status,a=vT(r,XN),c=i===qN||i===HN;return t.createElement(n,y({},f,{key:a.key,visible:c,eventProps:a,onVisibleChanged:function(t){(null===u||void 0===u||u(t,{key:a.key}),t)||0===e.removeKey(a.key)&&s&&s()}}),o)})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.keys,r=t.keyEntities,i=$N(n);return{keyEntities:QN(r,i).filter((function(e){var t=r.find((function(t){var n=t.key;return e.key===n}));return!t||t.status!==KN||e.status!==WN}))}}}]),i}(t.Component);return r.defaultProps={component:"div"},r}(vN),eA=BN,tA=t.createContext({getPrefixCls:function(e,t){return t||(e?"ant-".concat(e):"ant")}}),nA=tA.Consumer;var rA=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t},iA=function(){return{height:0,opacity:0}},aA=function(e){return{height:e.scrollHeight,opacity:1}},oA=function(e,t){return!0===(null===t||void 0===t?void 0:t.deadline)||"height"===t.propertyName},uA={motionName:"ant-motion-collapse",onAppearStart:iA,onEnterStart:iA,onAppearActive:aA,onEnterActive:aA,onLeaveStart:function(e){return{height:e?e.offsetHeight:0}},onLeaveActive:iA,onAppearEnd:oA,onEnterEnd:oA,onLeaveEnd:oA,motionDeadline:500},sA=(rA("bottomLeft","bottomRight","topLeft","topRight"),function(e,t,n){return void 0!==n?n:"".concat(e,"-").concat(t)}),cA=uA,lA=[];function fA(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return{key:"string"===typeof e?e:"".concat(n,"-").concat(r),error:e,errorStatus:t}}function hA(e){var n=e.help,r=e.helpStatus,i=e.errors,a=void 0===i?lA:i,o=e.warnings,u=void 0===o?lA:o,s=e.className,c=t.useContext(YC).prefixCls,l=t.useContext(tA).getPrefixCls,f="".concat(c,"-item-explain"),h=l(),d=t.useMemo((function(){return void 0!==n&&null!==n?[fA(n,r,"help")]:[].concat(Ge(a.map((function(e,t){return fA(e,"error","error",t)}))),Ge(u.map((function(e,t){return fA(e,"warning","warning",t)}))))}),[n,r,a,u]);return t.createElement(eA,y({},cA,{motionName:"".concat(h,"-show-help"),motionAppear:!1,motionEnter:!1,visible:!!d.length,onLeaveStart:function(e){return e.style.height="auto",{height:e.offsetHeight}}}),(function(e){var n=e.className,r=e.style;return t.createElement("div",{className:eN()(f,n,s),style:r},t.createElement(ZN,y({keys:d},cA,{motionName:"".concat(h,"-show-help-item"),component:!1}),(function(e){var n=e.key,r=e.error,i=e.errorStatus,a=e.className,o=e.style;return t.createElement("div",{key:n,role:"alert",className:eN()(a,Xe({},"".concat(f,"-").concat(i),i)),style:o},r)})))}))}var dA=t.createContext(!1),pA=function(e){var n=e.children,r=e.disabled,i=t.useContext(dA);return t.createElement(dA.Provider,{value:r||i},n)},vA=dA,mA=t.createContext(void 0),yA=function(e){var n=e.children,r=e.size;return t.createElement(mA.Consumer,null,(function(e){return t.createElement(mA.Provider,{value:r||e},n)}))},gA=mA;function bA(e){return"object"==typeof e&&null!=e&&1===e.nodeType}function kA(e,t){return(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e}function wA(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var n=getComputedStyle(e,null);return kA(n.overflowY,t)||kA(n.overflowX,t)||function(e){var t=function(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}}(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)}(e)}return!1}function xA(e,t,n,r,i,a,o,u){return a<e&&o>t||a>e&&o<t?0:a<=e&&u<=n||o>=t&&u>=n?a-e-r:o>t&&u<n||a<e&&u>n?o-t+i:0}function EA(e,t){var n=window,r=t.scrollMode,i=t.block,a=t.inline,o=t.boundary,u=t.skipOverflowHiddenElements,s="function"==typeof o?o:function(e){return e!==o};if(!bA(e))throw new TypeError("Invalid target");for(var c=document.scrollingElement||document.documentElement,l=[],f=e;bA(f)&&s(f);){if((f=f.parentElement)===c){l.push(f);break}null!=f&&f===document.body&&wA(f)&&!wA(document.documentElement)||null!=f&&wA(f,u)&&l.push(f)}for(var h=n.visualViewport?n.visualViewport.width:innerWidth,d=n.visualViewport?n.visualViewport.height:innerHeight,p=window.scrollX||pageXOffset,v=window.scrollY||pageYOffset,m=e.getBoundingClientRect(),y=m.height,g=m.width,b=m.top,k=m.right,w=m.bottom,x=m.left,E="start"===i||"nearest"===i?b:"end"===i?w:b+y/2,_="center"===a?x+g/2:"end"===a?k:x,S=[],I=0;I<l.length;I++){var T=l[I],C=T.getBoundingClientRect(),N=C.height,A=C.width,O=C.top,P=C.right,R=C.bottom,D=C.left;if("if-needed"===r&&b>=0&&x>=0&&w<=d&&k<=h&&b>=O&&w<=R&&x>=D&&k<=P)return S;var M=getComputedStyle(T),F=parseInt(M.borderLeftWidth,10),L=parseInt(M.borderTopWidth,10),V=parseInt(M.borderRightWidth,10),j=parseInt(M.borderBottomWidth,10),U=0,z=0,B="offsetWidth"in T?T.offsetWidth-T.clientWidth-F-V:0,q="offsetHeight"in T?T.offsetHeight-T.clientHeight-L-j:0;if(c===T)U="start"===i?E:"end"===i?E-d:"nearest"===i?xA(v,v+d,d,L,j,v+E,v+E+y,y):E-d/2,z="start"===a?_:"center"===a?_-h/2:"end"===a?_-h:xA(p,p+h,h,F,V,p+_,p+_+g,g),U=Math.max(0,U+v),z=Math.max(0,z+p);else{U="start"===i?E-O-L:"end"===i?E-R+j+q:"nearest"===i?xA(O,R,N,L,j+q,E,E+y,y):E-(O+N/2)+q/2,z="start"===a?_-D-F:"center"===a?_-(D+A/2)+B/2:"end"===a?_-P+V+B:xA(D,P,A,F,V+B,_,_+g,g);var H=T.scrollLeft,W=T.scrollTop;E+=W-(U=Math.max(0,Math.min(W+U,T.scrollHeight-N+q))),_+=H-(z=Math.max(0,Math.min(H+z,T.scrollWidth-A+B)))}S.push({el:T,top:U,left:z})}return S}function _A(e){return e===Object(e)&&0!==Object.keys(e).length}var SA=function(e,t){var n=e.isConnected||e.ownerDocument.documentElement.contains(e);if(_A(t)&&"function"===typeof t.behavior)return t.behavior(n?EA(e,t):[]);if(n){var r=function(e){return!1===e?{block:"end",inline:"nearest"}:_A(e)?e:{block:"start",inline:"nearest"}}(t);return function(e,t){void 0===t&&(t="auto");var n="scrollBehavior"in document.body.style;e.forEach((function(e){var r=e.el,i=e.top,a=e.left;r.scroll&&n?r.scroll({top:i,left:a,behavior:t}):(r.scrollTop=i,r.scrollLeft=a)}))}(EA(e,r),r.behavior)}},IA=["parentNode"];function TA(e){return void 0===e||!1===e?[]:Array.isArray(e)?e:[e]}function CA(e,t){if(e.length){var n=e.join("_");return t?"".concat(t,"_").concat(n):IA.indexOf(n)>=0?"".concat("form_item","_").concat(n):n}}function NA(e){return TA(e).join("_")}function AA(e){var n=Oe(LC(),1)[0],r=t.useRef({}),i=t.useMemo((function(){return null!==e&&void 0!==e?e:y(y({},n),{__INTERNAL__:{itemRef:function(e){return function(t){var n=NA(e);t?r.current[n]=t:delete r.current[n]}}},scrollToField:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=TA(e),r=CA(n,i.__INTERNAL__.name),a=r?document.getElementById(r):null;a&&SA(a,y({scrollMode:"if-needed",block:"nearest"},t))},getFieldInstance:function(e){var t=NA(e);return r.current[t]}})}),[e,n]);return[i]}var OA=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},PA=function(e,n){var r,i=t.useContext(gA),a=t.useContext(vA),o=t.useContext(tA),u=o.getPrefixCls,s=o.direction,c=o.form,l=e.prefixCls,f=e.className,h=void 0===f?"":f,d=e.size,p=void 0===d?i:d,v=e.disabled,m=void 0===v?a:v,g=e.form,b=e.colon,k=e.labelAlign,w=e.labelWrap,x=e.labelCol,E=e.wrapperCol,_=e.hideRequiredMark,S=e.layout,I=void 0===S?"horizontal":S,T=e.scrollToFirstError,C=e.requiredMark,N=e.onFinishFailed,A=e.name,O=OA(e,["prefixCls","className","size","disabled","form","colon","labelAlign","labelWrap","labelCol","wrapperCol","hideRequiredMark","layout","scrollToFirstError","requiredMark","onFinishFailed","name"]),P=(0,t.useMemo)((function(){return void 0!==C?C:c&&void 0!==c.requiredMark?c.requiredMark:!_}),[_,C,c]),R=null!==b&&void 0!==b?b:null===c||void 0===c?void 0:c.colon,D=u("form",l),M=eN()(D,(Xe(r={},"".concat(D,"-").concat(I),!0),Xe(r,"".concat(D,"-hide-required-mark"),!1===P),Xe(r,"".concat(D,"-rtl"),"rtl"===s),Xe(r,"".concat(D,"-").concat(p),p),r),h),F=Oe(AA(g),1)[0],L=F.__INTERNAL__;L.name=A;var V=(0,t.useMemo)((function(){return{name:A,labelAlign:k,labelCol:x,labelWrap:w,wrapperCol:E,vertical:"vertical"===I,colon:R,requiredMark:P,itemRef:L.itemRef,form:F}}),[A,k,x,E,I,R,P,F]);t.useImperativeHandle(n,(function(){return F}));return t.createElement(pA,{disabled:m},t.createElement(yA,{size:p},t.createElement($C.Provider,{value:V},t.createElement(KC,y({id:A},O,{name:A,onFinishFailed:function(e){null===N||void 0===N||N(e);var t={block:"nearest"};T&&e.errorFields.length&&("object"===Ve(T)&&(t=T),F.scrollToField(e.errorFields[0].name,t))},form:F,className:M})))))},RA=t.forwardRef(PA),DA={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"},MA=(0,t.createContext)({});function FA(e,t){(function(e){return"string"===typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"===typeof e&&-1!==e.indexOf("%")}(e);return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t))}function LA(e){return e<=1?"".concat(100*Number(e),"%"):e}function VA(e){return 1===e.length?"0"+e:String(e)}function jA(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*n*(t-e):n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function UA(e){return zA(e)/255}function zA(e){return parseInt(e,16)}var BA={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function qA(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,a=null,o=!1,u=!1;return"string"===typeof e&&(e=function(e){if(0===(e=e.trim().toLowerCase()).length)return!1;var t=!1;if(BA[e])e=BA[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var n=GA.rgb.exec(e);if(n)return{r:n[1],g:n[2],b:n[3]};if(n=GA.rgba.exec(e))return{r:n[1],g:n[2],b:n[3],a:n[4]};if(n=GA.hsl.exec(e))return{h:n[1],s:n[2],l:n[3]};if(n=GA.hsla.exec(e))return{h:n[1],s:n[2],l:n[3],a:n[4]};if(n=GA.hsv.exec(e))return{h:n[1],s:n[2],v:n[3]};if(n=GA.hsva.exec(e))return{h:n[1],s:n[2],v:n[3],a:n[4]};if(n=GA.hex8.exec(e))return{r:zA(n[1]),g:zA(n[2]),b:zA(n[3]),a:UA(n[4]),format:t?"name":"hex8"};if(n=GA.hex6.exec(e))return{r:zA(n[1]),g:zA(n[2]),b:zA(n[3]),format:t?"name":"hex"};if(n=GA.hex4.exec(e))return{r:zA(n[1]+n[1]),g:zA(n[2]+n[2]),b:zA(n[3]+n[3]),a:UA(n[4]+n[4]),format:t?"name":"hex8"};if(n=GA.hex3.exec(e))return{r:zA(n[1]+n[1]),g:zA(n[2]+n[2]),b:zA(n[3]+n[3]),format:t?"name":"hex"};return!1}(e)),"object"===typeof e&&($A(e.r)&&$A(e.g)&&$A(e.b)?(t=function(e,t,n){return{r:255*FA(e,255),g:255*FA(t,255),b:255*FA(n,255)}}(e.r,e.g,e.b),o=!0,u="%"===String(e.r).substr(-1)?"prgb":"rgb"):$A(e.h)&&$A(e.s)&&$A(e.v)?(r=LA(e.s),i=LA(e.v),t=function(e,t,n){e=6*FA(e,360),t=FA(t,100),n=FA(n,100);var r=Math.floor(e),i=e-r,a=n*(1-t),o=n*(1-i*t),u=n*(1-(1-i)*t),s=r%6;return{r:255*[n,o,a,a,u,n][s],g:255*[u,n,n,o,a,a][s],b:255*[a,a,u,n,n,o][s]}}(e.h,r,i),o=!0,u="hsv"):$A(e.h)&&$A(e.s)&&$A(e.l)&&(r=LA(e.s),a=LA(e.l),t=function(e,t,n){var r,i,a;if(e=FA(e,360),t=FA(t,100),n=FA(n,100),0===t)i=n,a=n,r=n;else{var o=n<.5?n*(1+t):n+t-n*t,u=2*n-o;r=jA(u,o,e+1/3),i=jA(u,o,e),a=jA(u,o,e-1/3)}return{r:255*r,g:255*i,b:255*a}}(e.h,r,a),o=!0,u="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(n=e.a)),n=function(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}(n),{ok:o,format:e.format||u,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}var HA="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),WA="[\\s|\\(]+(".concat(HA,")[,|\\s]+(").concat(HA,")[,|\\s]+(").concat(HA,")\\s*\\)?"),KA="[\\s|\\(]+(".concat(HA,")[,|\\s]+(").concat(HA,")[,|\\s]+(").concat(HA,")[,|\\s]+(").concat(HA,")\\s*\\)?"),GA={CSS_UNIT:new RegExp(HA),rgb:new RegExp("rgb"+WA),rgba:new RegExp("rgba"+KA),hsl:new RegExp("hsl"+WA),hsla:new RegExp("hsla"+KA),hsv:new RegExp("hsv"+WA),hsva:new RegExp("hsva"+KA),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function $A(e){return Boolean(GA.CSS_UNIT.exec(String(e)))}var QA=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function YA(e){var t=function(e,t,n){e=FA(e,255),t=FA(t,255),n=FA(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),a=0,o=r,u=r-i,s=0===r?0:u/r;if(r===i)a=0;else{switch(r){case e:a=(t-n)/u+(t<n?6:0);break;case t:a=(n-e)/u+2;break;case n:a=(e-t)/u+4}a/=6}return{h:a,s:s,v:o}}(e.r,e.g,e.b);return{h:360*t.h,s:t.s,v:t.v}}function XA(e){var t=e.r,n=e.g,r=e.b;return"#".concat(function(e,t,n,r){var i=[VA(Math.round(e).toString(16)),VA(Math.round(t).toString(16)),VA(Math.round(n).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}(t,n,r,!1))}function JA(e,t,n){var r=n/100;return{r:(t.r-e.r)*r+e.r,g:(t.g-e.g)*r+e.g,b:(t.b-e.b)*r+e.b}}function ZA(e,t,n){var r;return(r=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-2*t:Math.round(e.h)+2*t:n?Math.round(e.h)+2*t:Math.round(e.h)-2*t)<0?r+=360:r>=360&&(r-=360),r}function eO(e,t,n){return 0===e.h&&0===e.s?e.s:((r=n?e.s-.16*t:4===t?e.s+.16:e.s+.05*t)>1&&(r=1),n&&5===t&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2)));var r}function tO(e,t,n){var r;return(r=n?e.v+.05*t:e.v-.15*t)>1&&(r=1),Number(r.toFixed(2))}function nO(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=qA(e),i=5;i>0;i-=1){var a=YA(r),o=XA(qA({h:ZA(a,i,!0),s:eO(a,i,!0),v:tO(a,i,!0)}));n.push(o)}n.push(XA(r));for(var u=1;u<=4;u+=1){var s=YA(r),c=XA(qA({h:ZA(s,u),s:eO(s,u),v:tO(s,u)}));n.push(c)}return"dark"===t.theme?QA.map((function(e){var r=e.index,i=e.opacity;return XA(JA(qA(t.backgroundColor||"#141414"),qA(n[r]),100*i))})):n}var rO={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},iO={},aO={};Object.keys(rO).forEach((function(e){iO[e]=nO(rO[e]),iO[e].primary=iO[e][5],aO[e]=nO(rO[e],{theme:"dark",backgroundColor:"#141414"}),aO[e].primary=aO[e][5]}));iO.red,iO.volcano,iO.gold,iO.orange,iO.yellow,iO.lime,iO.green,iO.cyan,iO.blue,iO.geekblue,iO.purple,iO.magenta,iO.grey;var oO="rc-util-key";function uO(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mark;return t?t.startsWith("data-")?t:"data-".concat(t):oO}function sO(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function cO(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!oN())return null;var r,i=document.createElement("style");(null===(t=n.csp)||void 0===t?void 0:t.nonce)&&(i.nonce=null===(r=n.csp)||void 0===r?void 0:r.nonce);i.innerHTML=e;var a=sO(n),o=a.firstChild;return n.prepend&&a.prepend?a.prepend(i):n.prepend&&o?a.insertBefore(i,o):a.appendChild(i),i}var lO=new Map;function fO(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=sO(t);return Array.from(lO.get(n).children).find((function(n){return"STYLE"===n.tagName&&n.getAttribute(uO(t))===e}))}function hO(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=sO(n);if(!lO.has(r)){var i=cO("",n),a=i.parentNode;lO.set(r,a),a.removeChild(i)}var o=fO(t,n);if(o){var u,s,c;if((null===(u=n.csp)||void 0===u?void 0:u.nonce)&&o.nonce!==(null===(s=n.csp)||void 0===s?void 0:s.nonce))o.nonce=null===(c=n.csp)||void 0===c?void 0:c.nonce;return o.innerHTML!==e&&(o.innerHTML=e),o}var l=cO(e,n);return l.setAttribute(uO(n),t),l}function dO(e){return"object"===Ve(e)&&"string"===typeof e.name&&"string"===typeof e.theme&&("object"===Ve(e.icon)||"function"===typeof e.icon)}function pO(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,n){var r=e[n];if("class"===n)t.className=r,delete t.class;else t[n]=r;return t}),{})}function vO(e,n,r){return r?t.createElement(e.tag,zt(zt({key:n},pO(e.attrs)),r),(e.children||[]).map((function(t,r){return vO(t,"".concat(n,"-").concat(e.tag,"-").concat(r))}))):t.createElement(e.tag,zt({key:n},pO(e.attrs)),(e.children||[]).map((function(t,r){return vO(t,"".concat(n,"-").concat(e.tag,"-").concat(r))})))}function mO(e){return nO(e)[0]}function yO(e){return e?Array.isArray(e)?e:[e]:[]}var gO="\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n",bO=["icon","className","onClick","style","primaryColor","secondaryColor"],kO={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};var wO=function(e){var n,r,i=e.icon,a=e.className,o=e.onClick,u=e.style,s=e.primaryColor,c=e.secondaryColor,l=vT(e,bO),f=kO;if(s&&(f={primaryColor:s,secondaryColor:c||mO(s)}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gO,n=(0,t.useContext)(MA).csp;(0,t.useEffect)((function(){hO(e,"@ant-design-icons",{prepend:!0,csp:n})}),[])}(),n=dO(i),r="icon should be icon definiton, but got ".concat(i),wT(n,"[@ant-design/icons] ".concat(r)),!dO(i))return null;var h=i;return h&&"function"===typeof h.icon&&(h=zt(zt({},h),{},{icon:h.icon(f.primaryColor,f.secondaryColor)})),vO(h.icon,"svg-".concat(h.name),zt({className:a,onClick:o,style:u,"data-icon":h.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},l))};wO.displayName="IconReact",wO.getTwoToneColors=function(){return zt({},kO)},wO.setTwoToneColors=function(e){var t=e.primaryColor,n=e.secondaryColor;kO.primaryColor=t,kO.secondaryColor=n||mO(t),kO.calculated=!!n};var xO=wO;function EO(e){var t=Oe(yO(e),2),n=t[0],r=t[1];return xO.setTwoToneColors({primaryColor:n,secondaryColor:r})}var _O=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];EO("#1890ff");var SO=t.forwardRef((function(e,n){var r,i=e.className,a=e.icon,o=e.spin,u=e.rotate,s=e.tabIndex,c=e.onClick,l=e.twoToneColor,f=vT(e,_O),h=t.useContext(MA).prefixCls,d=void 0===h?"anticon":h,p=eN()(d,(Xe(r={},"".concat(d,"-").concat(a.name),!!a.name),Xe(r,"".concat(d,"-spin"),!!o||"loading"===a.name),r),i),v=s;void 0===v&&c&&(v=-1);var m=u?{msTransform:"rotate(".concat(u,"deg)"),transform:"rotate(".concat(u,"deg)")}:void 0,y=Oe(yO(l),2),g=y[0],b=y[1];return t.createElement("span",zt(zt({role:"img","aria-label":a.name},f),{},{ref:n,tabIndex:v,onClick:c,className:p}),t.createElement(xO,{icon:a,primaryColor:g,secondaryColor:b,style:m}))}));SO.displayName="AntdIcon",SO.getTwoToneColor=function(){var e=xO.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor},SO.setTwoToneColor=EO;var IO=SO,TO=function(e,n){return t.createElement(IO,zt(zt({},e),{},{ref:n,icon:DA}))};TO.displayName="CheckCircleFilled";var CO=t.forwardRef(TO),NO={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"}}]},name:"close-circle",theme:"filled"},AO=function(e,n){return t.createElement(IO,zt(zt({},e),{},{ref:n,icon:NO}))};AO.displayName="CloseCircleFilled";var OO=t.forwardRef(AO),PO={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},RO=function(e,n){return t.createElement(IO,zt(zt({},e),{},{ref:n,icon:PO}))};RO.displayName="ExclamationCircleFilled";var DO=t.forwardRef(RO),MO={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},FO=function(e,n){return t.createElement(IO,zt(zt({},e),{},{ref:n,icon:MO}))};FO.displayName="LoadingOutlined";var LO,VO=t.forwardRef(FO),jO=function(){if(!oN()||!window.document.documentElement)return!1;if(void 0!==LO)return LO;var e=document.createElement("div");return e.style.display="flex",e.style.flexDirection="column",e.style.rowGap="1px",e.appendChild(document.createElement("div")),e.appendChild(document.createElement("div")),document.body.appendChild(e),LO=1===e.scrollHeight,document.body.removeChild(e),LO},UO=["xxl","xl","lg","md","sm","xs"],zO={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"},BO=new Map,qO=-1,HO={},WO={matchHandlers:{},dispatch:function(e){return HO=e,BO.forEach((function(e){return e(HO)})),BO.size>=1},subscribe:function(e){return BO.size||this.register(),qO+=1,BO.set(qO,e),e(HO),qO},unsubscribe:function(e){BO.delete(e),BO.size||this.unregister()},unregister:function(){var e=this;Object.keys(zO).forEach((function(t){var n=zO[t],r=e.matchHandlers[n];null===r||void 0===r||r.mql.removeListener(null===r||void 0===r?void 0:r.listener)})),BO.clear()},register:function(){var e=this;Object.keys(zO).forEach((function(t){var n=zO[t],r=function(n){var r=n.matches;e.dispatch(y(y({},HO),Xe({},t,r)))},i=window.matchMedia(n);i.addListener(r),e.matchHandlers[n]={mql:i,listener:r},r(i)}))}},KO=(0,t.createContext)({}),GO=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},$O=(rA("top","middle","bottom","stretch"),rA("start","end","center","space-around","space-between","space-evenly"),t.forwardRef((function(e,n){var r,i=e.prefixCls,a=e.justify,o=e.align,u=e.className,s=e.style,c=e.children,l=e.gutter,f=void 0===l?0:l,h=e.wrap,d=GO(e,["prefixCls","justify","align","className","style","children","gutter","wrap"]),p=t.useContext(tA),v=p.getPrefixCls,m=p.direction,g=Oe(t.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),2),b=g[0],k=g[1],w=function(){var e=Oe(t.useState(!1),2),n=e[0],r=e[1];return t.useEffect((function(){r(jO())}),[]),n}(),x=t.useRef(f);t.useEffect((function(){var e=WO.subscribe((function(e){var t=x.current||0;(!Array.isArray(t)&&"object"===Ve(t)||Array.isArray(t)&&("object"===Ve(t[0])||"object"===Ve(t[1])))&&k(e)}));return function(){return WO.unsubscribe(e)}}),[]);var E=v("row",i),_=function(){var e=[void 0,void 0];return(Array.isArray(f)?f:[f,void 0]).forEach((function(t,n){if("object"===Ve(t))for(var r=0;r<UO.length;r++){var i=UO[r];if(b[i]&&void 0!==t[i]){e[n]=t[i];break}}else e[n]=t})),e}(),S=eN()(E,(Xe(r={},"".concat(E,"-no-wrap"),!1===h),Xe(r,"".concat(E,"-").concat(a),a),Xe(r,"".concat(E,"-").concat(o),o),Xe(r,"".concat(E,"-rtl"),"rtl"===m),r),u),I={},T=null!=_[0]&&_[0]>0?_[0]/-2:void 0,C=null!=_[1]&&_[1]>0?_[1]/-2:void 0;if(T&&(I.marginLeft=T,I.marginRight=T),w){var N=Oe(_,2);I.rowGap=N[1]}else C&&(I.marginTop=C,I.marginBottom=C);var A=Oe(_,2),O=A[0],P=A[1],R=t.useMemo((function(){return{gutter:[O,P],wrap:h,supportFlexGap:w}}),[O,P,h,w]);return t.createElement(KO.Provider,{value:R},t.createElement("div",y({},d,{className:S,style:y(y({},I),s),ref:n}),c))})));var QO=$O,YO=t.isValidElement;function XO(e,n){return function(e,n,r){return YO(e)?t.cloneElement(e,"function"===typeof r?r(e.props||{}):r):n}(e,e,n)}var JO=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};var ZO=["xs","sm","md","lg","xl","xxl"],eP=t.forwardRef((function(e,n){var r,i=t.useContext(tA),a=i.getPrefixCls,o=i.direction,u=t.useContext(KO),s=u.gutter,c=u.wrap,l=u.supportFlexGap,f=e.prefixCls,h=e.span,d=e.order,p=e.offset,v=e.push,m=e.pull,g=e.className,b=e.children,k=e.flex,w=e.style,x=JO(e,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),E=a("col",f),_={};ZO.forEach((function(t){var n,r={},i=e[t];"number"===typeof i?r.span=i:"object"===Ve(i)&&(r=i||{}),delete x[t],_=y(y({},_),(Xe(n={},"".concat(E,"-").concat(t,"-").concat(r.span),void 0!==r.span),Xe(n,"".concat(E,"-").concat(t,"-order-").concat(r.order),r.order||0===r.order),Xe(n,"".concat(E,"-").concat(t,"-offset-").concat(r.offset),r.offset||0===r.offset),Xe(n,"".concat(E,"-").concat(t,"-push-").concat(r.push),r.push||0===r.push),Xe(n,"".concat(E,"-").concat(t,"-pull-").concat(r.pull),r.pull||0===r.pull),Xe(n,"".concat(E,"-rtl"),"rtl"===o),n))}));var S=eN()(E,(Xe(r={},"".concat(E,"-").concat(h),void 0!==h),Xe(r,"".concat(E,"-order-").concat(d),d),Xe(r,"".concat(E,"-offset-").concat(p),p),Xe(r,"".concat(E,"-push-").concat(v),v),Xe(r,"".concat(E,"-pull-").concat(m),m),r),g,_),I={};if(s&&s[0]>0){var T=s[0]/2;I.paddingLeft=T,I.paddingRight=T}if(s&&s[1]>0&&!l){var C=s[1]/2;I.paddingTop=C,I.paddingBottom=C}return k&&(I.flex=function(e){return"number"===typeof e?"".concat(e," ").concat(e," auto"):/^\d+(\.\d+)?(px|em|rem|%)$/.test(e)?"0 0 ".concat(e):e}(k),!1!==c||I.minWidth||(I.minWidth=0)),t.createElement("div",y({},x,{style:y(y({},I),w),className:S,ref:n}),b)}));var tP=eP,nP=function(e){var n=e.prefixCls,r=e.status,i=e.wrapperCol,a=e.children,o=e.errors,u=e.warnings,s=e._internalItemRender,c=e.extra,l=e.help,f="".concat(n,"-item"),h=t.useContext($C),d=i||h.wrapperCol||{},p=eN()("".concat(f,"-control"),d.className),v=t.useMemo((function(){return y({},h)}),[h]);delete v.labelCol,delete v.wrapperCol;var m=t.createElement("div",{className:"".concat(f,"-control-input")},t.createElement("div",{className:"".concat(f,"-control-input-content")},a)),g=t.useMemo((function(){return{prefixCls:n,status:r}}),[n,r]),b=t.createElement(YC.Provider,{value:g},t.createElement(hA,{errors:o,warnings:u,help:l,helpStatus:r,className:"".concat(f,"-explain-connected")})),k=c?t.createElement("div",{className:"".concat(f,"-extra")},c):null,w=s&&"pro_table_render"===s.mark&&s.render?s.render(e,{input:m,errorList:b,extra:k}):t.createElement(t.Fragment,null,m,b,k);return t.createElement($C.Provider,{value:v},t.createElement(tP,y({},d,{className:p}),w))},rP={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"},iP=function(e,n){return t.createElement(IO,zt(zt({},e),{},{ref:n,icon:rP}))};iP.displayName="QuestionCircleOutlined";var aP=t.forwardRef(iP),oP=(0,t.createContext)(void 0),uP={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},sP={lang:y({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"}),timePickerLocale:y({},uP)},cP="${label} is not a valid ${type}",lP={locale:"en",Pagination:{items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},DatePicker:sP,TimePicker:uP,Calendar:sP,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No Data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:cP,method:cP,array:cP,object:cP,number:cP,date:cP,boolean:cP,integer:cP,float:cP,regexp:cP,email:cP,url:cP,hex:cP},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"}},fP=lP,hP=function(e){Be(n,e);var t=We(n);function n(){return $e(this,n),t.apply(this,arguments)}return Ye(n,[{key:"getLocale",value:function(){var e=this.props,t=e.componentName,n=e.defaultLocale||fP[null!==t&&void 0!==t?t:"global"],r=this.context,i=t&&r?r[t]:{};return y(y({},n instanceof Function?n():n),i||{})}},{key:"getLocaleCode",value:function(){var e=this.context,t=e&&e.locale;return e&&e.exist&&!t?fP.locale:t}},{key:"render",value:function(){return this.props.children(this.getLocale(),this.getLocaleCode(),this.context)}}]),n}(t.Component);function dP(e,t){return!!e&&e.contains(t)}function pP(e,t,n,r){var i=tN.unstable_batchedUpdates?function(e){tN.unstable_batchedUpdates(n,e)}:n;return e.addEventListener&&e.addEventListener(t,i,r),{remove:function(){e.removeEventListener&&e.removeEventListener(t,i,r)}}}hP.defaultProps={componentName:"global"},hP.contextType=oP;var vP=(0,t.forwardRef)((function(e,n){var r=e.didUpdate,i=e.getContainer,a=e.children,o=(0,t.useRef)(),u=(0,t.useRef)();(0,t.useImperativeHandle)(n,(function(){return{}}));var s=(0,t.useRef)(!1);return!s.current&&oN()&&(u.current=i(),o.current=u.current.parentNode,s.current=!0),(0,t.useEffect)((function(){null===r||void 0===r||r(e)})),(0,t.useEffect)((function(){return null===u.current.parentNode&&null!==o.current&&o.current.appendChild(u.current),function(){var e,t;null===(e=u.current)||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(u.current)}}),[]),u.current?tN.createPortal(a,u.current):null})),mP=vP;function yP(e,t,n){return n?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function gP(e){var t=e.prefixCls,n=e.motion,r=e.animation,i=e.transitionName;return n||(r?{motionName:"".concat(t,"-").concat(r)}:i?{motionName:i}:null)}function bP(e){var n=e.prefixCls,r=e.visible,i=e.zIndex,a=e.mask,o=e.maskMotion,u=e.maskAnimation,s=e.maskTransitionName;if(!a)return null;var c={};return(o||s||u)&&(c=zt({motionAppear:!0},gP({motion:o,prefixCls:n,transitionName:s,animation:u}))),t.createElement(eA,y({},c,{visible:r,removeOnLeave:!0}),(function(e){var r=e.className;return t.createElement("div",{style:{zIndex:i},className:eN()("".concat(n,"-mask"),r)})}))}var kP;function wP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wP(Object(n),!0).forEach((function(t){_P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function EP(e){return EP="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},EP(e)}function _P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var SP={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function IP(){if(void 0!==kP)return kP;kP="";var e=document.createElement("p").style;for(var t in SP)t+"Transform"in e&&(kP=t);return kP}function TP(){return IP()?"".concat(IP(),"TransitionProperty"):"transitionProperty"}function CP(){return IP()?"".concat(IP(),"Transform"):"transform"}function NP(e,t){var n=TP();n&&(e.style[n]=t,"transitionProperty"!==n&&(e.style.transitionProperty=t))}function AP(e,t){var n=CP();n&&(e.style[n]=t,"transform"!==n&&(e.style.transform=t))}var OP,PP=/matrix\((.*)\)/,RP=/matrix3d\((.*)\)/;function DP(e){var t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t}function MP(e,t,n){var r=n;if("object"!==EP(t))return"undefined"!==typeof r?("number"===typeof r&&(r="".concat(r,"px")),void(e.style[t]=r)):OP(e,t);for(var i in t)t.hasOwnProperty(i)&&MP(e,i,t[i])}function FP(e,t){var n=e["page".concat(t?"Y":"X","Offset")],r="scroll".concat(t?"Top":"Left");if("number"!==typeof n){var i=e.document;"number"!==typeof(n=i.documentElement[r])&&(n=i.body[r])}return n}function LP(e){return FP(e)}function VP(e){return FP(e,!0)}function jP(e){var t=function(e){var t,n,r,i=e.ownerDocument,a=i.body,o=i&&i.documentElement;return t=e.getBoundingClientRect(),n=Math.floor(t.left),r=Math.floor(t.top),{left:n-=o.clientLeft||a.clientLeft||0,top:r-=o.clientTop||a.clientTop||0}}(e),n=e.ownerDocument,r=n.defaultView||n.parentWindow;return t.left+=LP(r),t.top+=VP(r),t}function UP(e){return null!==e&&void 0!==e&&e==e.window}function zP(e){return UP(e)?e.document:9===e.nodeType?e:e.ownerDocument}var BP=new RegExp("^(".concat(/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,")(?!px)[a-z%]+$"),"i"),qP=/^(top|right|bottom|left)$/;function HP(e,t){return"left"===e?t.useCssRight?"right":e:t.useCssBottom?"bottom":e}function WP(e){return"left"===e?"right":"right"===e?"left":"top"===e?"bottom":"bottom"===e?"top":void 0}function KP(e,t,n){"static"===MP(e,"position")&&(e.style.position="relative");var r=-999,i=-999,a=HP("left",n),o=HP("top",n),u=WP(a),s=WP(o);"left"!==a&&(r=999),"top"!==o&&(i=999);var c,l="",f=jP(e);("left"in t||"top"in t)&&(l=(c=e).style.transitionProperty||c.style[TP()]||"",NP(e,"none")),"left"in t&&(e.style[u]="",e.style[a]="".concat(r,"px")),"top"in t&&(e.style[s]="",e.style[o]="".concat(i,"px")),DP(e);var h=jP(e),d={};for(var p in t)if(t.hasOwnProperty(p)){var v=HP(p,n),m="left"===p?r:i,y=f[p]-h[p];d[v]=v===p?m+y:m-y}MP(e,d),DP(e),("left"in t||"top"in t)&&NP(e,l);var g={};for(var b in t)if(t.hasOwnProperty(b)){var k=HP(b,n),w=t[b]-f[b];g[k]=b===k?d[k]+w:d[k]-w}MP(e,g)}function GP(e,t){var n=jP(e),r=function(e){var t=window.getComputedStyle(e,null),n=t.getPropertyValue("transform")||t.getPropertyValue(CP());if(n&&"none"!==n){var r=n.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(r[12]||r[4],0),y:parseFloat(r[13]||r[5],0)}}return{x:0,y:0}}(e),i={x:r.x,y:r.y};"left"in t&&(i.x=r.x+t.left-n.left),"top"in t&&(i.y=r.y+t.top-n.top),function(e,t){var n=window.getComputedStyle(e,null),r=n.getPropertyValue("transform")||n.getPropertyValue(CP());if(r&&"none"!==r){var i,a=r.match(PP);a?((i=(a=a[1]).split(",").map((function(e){return parseFloat(e,10)})))[4]=t.x,i[5]=t.y,AP(e,"matrix(".concat(i.join(","),")"))):((i=r.match(RP)[1].split(",").map((function(e){return parseFloat(e,10)})))[12]=t.x,i[13]=t.y,AP(e,"matrix3d(".concat(i.join(","),")")))}else AP(e,"translateX(".concat(t.x,"px) translateY(").concat(t.y,"px) translateZ(0)"))}(e,i)}function $P(e,t){for(var n=0;n<e.length;n++)t(e[n])}function QP(e){return"border-box"===OP(e,"boxSizing")}"undefined"!==typeof window&&(OP=window.getComputedStyle?function(e,t,n){var r=n,i="",a=zP(e);return(r=r||a.defaultView.getComputedStyle(e,null))&&(i=r.getPropertyValue(t)||r[t]),i}:function(e,t){var n=e.currentStyle&&e.currentStyle[t];if(BP.test(n)&&!qP.test(t)){var r=e.style,i=r.left,a=e.runtimeStyle.left;e.runtimeStyle.left=e.currentStyle.left,r.left="fontSize"===t?"1em":n||0,n=r.pixelLeft+"px",r.left=i,e.runtimeStyle.left=a}return""===n?"auto":n});var YP=["margin","border","padding"];function XP(e,t,n){var r,i={},a=e.style;for(r in t)t.hasOwnProperty(r)&&(i[r]=a[r],a[r]=t[r]);for(r in n.call(e),t)t.hasOwnProperty(r)&&(a[r]=i[r])}function JP(e,t,n){var r,i,a,o=0;for(i=0;i<t.length;i++)if(r=t[i])for(a=0;a<n.length;a++){var u=void 0;u="border"===r?"".concat(r).concat(n[a],"Width"):r+n[a],o+=parseFloat(OP(e,u))||0}return o}var ZP={getParent:function(e){var t=e;do{t=11===t.nodeType&&t.host?t.host:t.parentNode}while(t&&1!==t.nodeType&&9!==t.nodeType);return t}};function eR(e,t,n){var r=n;if(UP(e))return"width"===t?ZP.viewportWidth(e):ZP.viewportHeight(e);if(9===e.nodeType)return"width"===t?ZP.docWidth(e):ZP.docHeight(e);var i="width"===t?["Left","Right"]:["Top","Bottom"],a="width"===t?Math.floor(e.getBoundingClientRect().width):Math.floor(e.getBoundingClientRect().height),o=QP(e),u=0;(null===a||void 0===a||a<=0)&&(a=void 0,(null===(u=OP(e,t))||void 0===u||Number(u)<0)&&(u=e.style[t]||0),u=parseFloat(u)||0),void 0===r&&(r=o?1:-1);var s=void 0!==a||o,c=a||u;return-1===r?s?c-JP(e,["border","padding"],i):u:s?1===r?c:c+(2===r?-JP(e,["border"],i):JP(e,["margin"],i)):u+JP(e,YP.slice(r),i)}$P(["Width","Height"],(function(e){ZP["doc".concat(e)]=function(t){var n=t.document;return Math.max(n.documentElement["scroll".concat(e)],n.body["scroll".concat(e)],ZP["viewport".concat(e)](n))},ZP["viewport".concat(e)]=function(t){var n="client".concat(e),r=t.document,i=r.body,a=r.documentElement[n];return"CSS1Compat"===r.compatMode&&a||i&&i[n]||a}}));var tR={position:"absolute",visibility:"hidden",display:"block"};function nR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=t[0];return 0!==i.offsetWidth?r=eR.apply(void 0,t):XP(i,tR,(function(){r=eR.apply(void 0,t)})),r}function rR(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}$P(["width","height"],(function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);ZP["outer".concat(t)]=function(t,n){return t&&nR(t,e,n?0:1)};var n="width"===e?["Left","Right"]:["Top","Bottom"];ZP[e]=function(t,r){var i=r;return void 0!==i?t?(QP(t)&&(i+=JP(t,["padding","border"],n)),MP(t,e,i)):void 0:t&&nR(t,e,-1)}}));var iR={getWindow:function(e){if(e&&e.document&&e.setTimeout)return e;var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},getDocument:zP,offset:function(e,t,n){if("undefined"===typeof t)return jP(e);!function(e,t,n){if(n.ignoreShake){var r=jP(e),i=r.left.toFixed(0),a=r.top.toFixed(0),o=t.left.toFixed(0),u=t.top.toFixed(0);if(i===o&&a===u)return}n.useCssRight||n.useCssBottom?KP(e,t,n):n.useCssTransform&&CP()in document.body.style?GP(e,t):KP(e,t,n)}(e,t,n||{})},isWindow:UP,each:$P,css:MP,clone:function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);if(e.overflow)for(t in e)e.hasOwnProperty(t)&&(n.overflow[t]=e.overflow[t]);return n},mix:rR,getWindowScrollLeft:function(e){return LP(e)},getWindowScrollTop:function(e){return VP(e)},merge:function(){for(var e={},t=0;t<arguments.length;t++)iR.mix(e,t<0||arguments.length<=t?void 0:arguments[t]);return e},viewportWidth:0,viewportHeight:0};rR(iR,ZP);var aR=iR.getParent;function oR(e){if(iR.isWindow(e)||9===e.nodeType)return null;var t,n=iR.getDocument(e).body,r=iR.css(e,"position");if(!("fixed"===r||"absolute"===r))return"html"===e.nodeName.toLowerCase()?null:aR(e);for(t=aR(e);t&&t!==n&&9!==t.nodeType;t=aR(t))if("static"!==(r=iR.css(t,"position")))return t;return null}var uR=iR.getParent;function sR(e,t){for(var n={left:0,right:1/0,top:0,bottom:1/0},r=oR(e),i=iR.getDocument(e),a=i.defaultView||i.parentWindow,o=i.body,u=i.documentElement;r;){if(-1!==navigator.userAgent.indexOf("MSIE")&&0===r.clientWidth||r===o||r===u||"visible"===iR.css(r,"overflow")){if(r===o||r===u)break}else{var s=iR.offset(r);s.left+=r.clientLeft,s.top+=r.clientTop,n.top=Math.max(n.top,s.top),n.right=Math.min(n.right,s.left+r.clientWidth),n.bottom=Math.min(n.bottom,s.top+r.clientHeight),n.left=Math.max(n.left,s.left)}r=oR(r)}var c=null;iR.isWindow(e)||9===e.nodeType||(c=e.style.position,"absolute"===iR.css(e,"position")&&(e.style.position="fixed"));var l=iR.getWindowScrollLeft(a),f=iR.getWindowScrollTop(a),h=iR.viewportWidth(a),d=iR.viewportHeight(a),p=u.scrollWidth,v=u.scrollHeight,m=window.getComputedStyle(o);if("hidden"===m.overflowX&&(p=a.innerWidth),"hidden"===m.overflowY&&(v=a.innerHeight),e.style&&(e.style.position=c),t||function(e){if(iR.isWindow(e)||9===e.nodeType)return!1;var t=iR.getDocument(e),n=t.body,r=null;for(r=uR(e);r&&r!==n&&r!==t;r=uR(r))if("fixed"===iR.css(r,"position"))return!0;return!1}(e))n.left=Math.max(n.left,l),n.top=Math.max(n.top,f),n.right=Math.min(n.right,l+h),n.bottom=Math.min(n.bottom,f+d);else{var y=Math.max(p,l+h);n.right=Math.min(n.right,y);var g=Math.max(v,f+d);n.bottom=Math.min(n.bottom,g)}return n.top>=0&&n.left>=0&&n.bottom>n.top&&n.right>n.left?n:null}function cR(e){var t,n,r;if(iR.isWindow(e)||9===e.nodeType){var i=iR.getWindow(e);t={left:iR.getWindowScrollLeft(i),top:iR.getWindowScrollTop(i)},n=iR.viewportWidth(i),r=iR.viewportHeight(i)}else t=iR.offset(e),n=iR.outerWidth(e),r=iR.outerHeight(e);return t.width=n,t.height=r,t}function lR(e,t){var n=t.charAt(0),r=t.charAt(1),i=e.width,a=e.height,o=e.left,u=e.top;return"c"===n?u+=a/2:"b"===n&&(u+=a),"c"===r?o+=i/2:"r"===r&&(o+=i),{left:o,top:u}}function fR(e,t,n,r,i){var a=lR(t,n[1]),o=lR(e,n[0]),u=[o.left-a.left,o.top-a.top];return{left:Math.round(e.left-u[0]+r[0]-i[0]),top:Math.round(e.top-u[1]+r[1]-i[1])}}function hR(e,t,n){return e.left<n.left||e.left+t.width>n.right}function dR(e,t,n){return e.top<n.top||e.top+t.height>n.bottom}function pR(e,t,n){var r=[];return iR.each(e,(function(e){r.push(e.replace(t,(function(e){return n[e]})))})),r}function vR(e,t){return e[t]=-e[t],e}function mR(e,t){return(/%$/.test(e)?parseInt(e.substring(0,e.length-1),10)/100*t:parseInt(e,10))||0}function yR(e,t){e[0]=mR(e[0],t.width),e[1]=mR(e[1],t.height)}function gR(e,t,n,r){var i=n.points,a=n.offset||[0,0],o=n.targetOffset||[0,0],u=n.overflow,s=n.source||e;a=[].concat(a),o=[].concat(o);var c={},l=0,f=sR(s,!(!(u=u||{})||!u.alwaysByViewport)),h=cR(s);yR(a,h),yR(o,t);var d=fR(h,t,i,a,o),p=iR.merge(h,d);if(f&&(u.adjustX||u.adjustY)&&r){if(u.adjustX&&hR(d,h,f)){var v=pR(i,/[lr]/gi,{l:"r",r:"l"}),m=vR(a,0),y=vR(o,0);(function(e,t,n){return e.left>n.right||e.left+t.width<n.left})(fR(h,t,v,m,y),h,f)||(l=1,i=v,a=m,o=y)}if(u.adjustY&&dR(d,h,f)){var g=pR(i,/[tb]/gi,{t:"b",b:"t"}),b=vR(a,1),k=vR(o,1);(function(e,t,n){return e.top>n.bottom||e.top+t.height<n.top})(fR(h,t,g,b,k),h,f)||(l=1,i=g,a=b,o=k)}l&&(d=fR(h,t,i,a,o),iR.mix(p,d));var w=hR(d,h,f),x=dR(d,h,f);if(w||x){var E=i;w&&(E=pR(i,/[lr]/gi,{l:"r",r:"l"})),x&&(E=pR(i,/[tb]/gi,{t:"b",b:"t"})),i=E,a=n.offset||[0,0],o=n.targetOffset||[0,0]}c.adjustX=u.adjustX&&w,c.adjustY=u.adjustY&&x,(c.adjustX||c.adjustY)&&(p=function(e,t,n,r){var i=iR.clone(e),a={width:t.width,height:t.height};return r.adjustX&&i.left<n.left&&(i.left=n.left),r.resizeWidth&&i.left>=n.left&&i.left+a.width>n.right&&(a.width-=i.left+a.width-n.right),r.adjustX&&i.left+a.width>n.right&&(i.left=Math.max(n.right-a.width,n.left)),r.adjustY&&i.top<n.top&&(i.top=n.top),r.resizeHeight&&i.top>=n.top&&i.top+a.height>n.bottom&&(a.height-=i.top+a.height-n.bottom),r.adjustY&&i.top+a.height>n.bottom&&(i.top=Math.max(n.bottom-a.height,n.top)),iR.mix(i,a)}(d,h,f,c))}return p.width!==h.width&&iR.css(s,"width",iR.width(s)+p.width-h.width),p.height!==h.height&&iR.css(s,"height",iR.height(s)+p.height-h.height),iR.offset(s,{left:p.left,top:p.top},{useCssRight:n.useCssRight,useCssBottom:n.useCssBottom,useCssTransform:n.useCssTransform,ignoreShake:n.ignoreShake}),{points:i,offset:a,targetOffset:o,overflow:c}}function bR(e,t,n){var r=n.target||t,i=cR(r),a=!function(e,t){var n=sR(e,t),r=cR(e);return!n||r.left+r.width<=n.left||r.top+r.height<=n.top||r.left>=n.right||r.top>=n.bottom}(r,n.overflow&&n.overflow.alwaysByViewport);return gR(e,i,n,a)}bR.__getOffsetParent=oR,bR.__getVisibleRectForElement=sR;var kR=n(8111),wR=n.n(kR),xR=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),ER="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,_R="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),SR="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(_R):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var IR=["top","right","bottom","left","width","height","size","weight"],TR="undefined"!==typeof MutationObserver,CR=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function a(){n&&(n=!1,e()),r&&u()}function o(){SR(a)}function u(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(o,t);i=e}return u}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){ER&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),TR?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){ER&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t,r=IR.some((function(e){return!!~n.indexOf(e)}));r&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),NR=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},AR=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||_R},OR=LR(0,0,0,0);function PR(e){return parseFloat(e)||0}function RR(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+PR(e["border-"+n+"-width"])}),0)}function DR(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return OR;var r=AR(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],a=e["padding-"+i];t[i]=PR(a)}return t}(r),a=i.left+i.right,o=i.top+i.bottom,u=PR(r.width),s=PR(r.height);if("border-box"===r.boxSizing&&(Math.round(u+a)!==t&&(u-=RR(r,"left","right")+a),Math.round(s+o)!==n&&(s-=RR(r,"top","bottom")+o)),!function(e){return e===AR(e).document.documentElement}(e)){var c=Math.round(u+a)-t,l=Math.round(s+o)-n;1!==Math.abs(c)&&(u-=c),1!==Math.abs(l)&&(s-=l)}return LR(i.left,i.top,u,s)}var MR="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof AR(e).SVGGraphicsElement}:function(e){return e instanceof AR(e).SVGElement&&"function"===typeof e.getBBox};function FR(e){return ER?MR(e)?function(e){var t=e.getBBox();return LR(0,0,t.width,t.height)}(e):DR(e):OR}function LR(e,t,n,r){return{x:e,y:t,width:n,height:r}}var VR=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=LR(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=FR(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),jR=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,a="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,o=Object.create(a.prototype);return NR(o,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),o}(t);NR(this,{target:e,contentRect:n})},UR=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new xR,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof AR(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new VR(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof AR(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new jR(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),zR="undefined"!==typeof WeakMap?new WeakMap:new xR,BR=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=CR.getInstance(),r=new UR(t,n,this);zR.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){BR.prototype[e]=function(){var t;return(t=zR.get(this))[e].apply(t,arguments)}}));var qR="undefined"!==typeof _R.ResizeObserver?_R.ResizeObserver:BR;function HR(e,t){var n=null,r=null;var i=new qR((function(e){var i=Oe(e,1)[0].target;if(document.documentElement.contains(i)){var a=i.getBoundingClientRect(),o=a.width,u=a.height,s=Math.floor(o),c=Math.floor(u);n===s&&r===c||Promise.resolve().then((function(){t({width:s,height:c})})),n=s,r=c}}));return e&&i.observe(e),function(){i.disconnect()}}function WR(e){return"function"!==typeof e?null:e()}function KR(e){return"object"===Ve(e)&&e?e:null}var GR=function(e,n){var r=e.children,i=e.disabled,a=e.target,o=e.align,u=e.onAlign,s=e.monitorWindowResize,c=e.monitorBufferTime,l=void 0===c?0:c,f=t.useRef({}),h=t.useRef(),d=t.Children.only(r),p=t.useRef({});p.current.disabled=i,p.current.target=a,p.current.align=o,p.current.onAlign=u;var v=function(e,n){var r=t.useRef(!1),i=t.useRef(null);function a(){window.clearTimeout(i.current)}return[function t(o){if(a(),r.current&&!0!==o)i.current=window.setTimeout((function(){r.current=!1,t()}),n);else{if(!1===e())return;r.current=!0,i.current=window.setTimeout((function(){r.current=!1}),n)}},function(){r.current=!1,a()}]}((function(){var e=p.current,t=e.disabled,n=e.target,r=e.align,i=e.onAlign;if(!t&&n){var a,o=h.current,u=WR(n),s=KR(n);f.current.element=u,f.current.point=s,f.current.align=r;var c=document.activeElement;return u&&function(e){if(!e)return!1;if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox();if(t.width||t.height)return!0}if(e.getBoundingClientRect){var n=e.getBoundingClientRect();if(n.width||n.height)return!0}return!1}(u)?a=bR(o,u,r):s&&(a=function(e,t,n){var r,i,a=iR.getDocument(e),o=a.defaultView||a.parentWindow,u=iR.getWindowScrollLeft(o),s=iR.getWindowScrollTop(o),c=iR.viewportWidth(o),l=iR.viewportHeight(o),f={left:r="pageX"in t?t.pageX:u+t.clientX,top:i="pageY"in t?t.pageY:s+t.clientY,width:0,height:0},h=r>=0&&r<=u+c&&i>=0&&i<=s+l,d=[n.points[0],"cc"];return gR(e,f,xP(xP({},n),{},{points:d}),h)}(o,s,r)),function(e,t){e!==document.activeElement&&dP(t,e)&&"function"===typeof e.focus&&e.focus()}(c,o),i&&a&&i(o,a),!0}return!1}),l),m=Oe(v,2),y=m[0],g=m[1],b=t.useRef({cancel:function(){}}),k=t.useRef({cancel:function(){}});t.useEffect((function(){var e,t,n=WR(a),r=KR(a);h.current!==k.current.element&&(k.current.cancel(),k.current.element=h.current,k.current.cancel=HR(h.current,y)),f.current.element===n&&((e=f.current.point)===(t=r)||e&&t&&("pageX"in t&&"pageY"in t?e.pageX===t.pageX&&e.pageY===t.pageY:"clientX"in t&&"clientY"in t&&e.clientX===t.clientX&&e.clientY===t.clientY))&&wR()(f.current.align,o)||(y(),b.current.element!==n&&(b.current.cancel(),b.current.element=n,b.current.cancel=HR(n,y)))})),t.useEffect((function(){i?g():y()}),[i]);var w=t.useRef(null);return t.useEffect((function(){s?w.current||(w.current=pP(window,"resize",y)):w.current&&(w.current.remove(),w.current=null)}),[s]),t.useEffect((function(){return function(){b.current.cancel(),k.current.cancel(),w.current&&w.current.remove(),g()}}),[]),t.useImperativeHandle(n,(function(){return{forceAlign:function(){return y(!0)}}})),t.isValidElement(d)&&(d=t.cloneElement(d,{ref:iN(d.ref,h)})),d},$R=t.forwardRef(GR);$R.displayName="Align";var QR=$R,YR=oN()?t.useLayoutEffect:t.useEffect,XR=["measure","alignPre","align",null,"motion"],JR=t.forwardRef((function(e,n){var r=e.visible,i=e.prefixCls,a=e.className,o=e.style,u=e.children,s=e.zIndex,c=e.stretch,l=e.destroyPopupOnHide,f=e.forceRender,h=e.align,d=e.point,p=e.getRootDomNode,v=e.getClassNameFromAlign,m=e.onAlign,g=e.onMouseEnter,b=e.onMouseLeave,k=e.onMouseDown,w=e.onTouchStart,x=e.onClick,E=(0,t.useRef)(),_=(0,t.useRef)(),S=Oe((0,t.useState)(),2),I=S[0],T=S[1],C=function(e){var n=Oe(t.useState({width:0,height:0}),2),r=n[0],i=n[1];return[t.useMemo((function(){var t={};if(e){var n=r.width,i=r.height;-1!==e.indexOf("height")&&i?t.height=i:-1!==e.indexOf("minHeight")&&i&&(t.minHeight=i),-1!==e.indexOf("width")&&n?t.width=n:-1!==e.indexOf("minWidth")&&n&&(t.minWidth=n)}return t}),[e,r]),function(e){i({width:e.offsetWidth,height:e.offsetHeight})}]}(c),N=Oe(C,2),A=N[0],O=N[1];var P=function(e,n){var r=Oe(CN(null),2),i=r[0],a=r[1],o=(0,t.useRef)();function u(e){a(e,!0)}function s(){DN.cancel(o.current)}return(0,t.useEffect)((function(){u("measure")}),[e]),(0,t.useEffect)((function(){"measure"===i&&n(),i&&(o.current=DN(ze(je().mark((function e(){var t,n;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=XR.indexOf(i),(n=XR[t+1])&&-1!==t&&u(n);case 3:case"end":return e.stop()}}),e)})))))}),[i]),(0,t.useEffect)((function(){return function(){s()}}),[]),[i,function(e){s(),o.current=DN((function(){u((function(e){switch(i){case"align":return"motion";case"motion":return"stable"}return e})),null===e||void 0===e||e()}))}]}(r,(function(){c&&O(p())})),R=Oe(P,2),D=R[0],M=R[1],F=Oe((0,t.useState)(0),2),L=F[0],V=F[1],j=(0,t.useRef)();function U(){var e;null===(e=E.current)||void 0===e||e.forceAlign()}function z(e,t){var n=v(t);I!==n&&T(n),V((function(e){return e+1})),"align"===D&&(null===m||void 0===m||m(e,t))}YR((function(){"alignPre"===D&&V(0)}),[D]),YR((function(){"align"===D&&(L<2?U():M((function(){var e;null===(e=j.current)||void 0===e||e.call(j)})))}),[L]);var B=zt({},gP(e));function q(){return new Promise((function(e){j.current=e}))}["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach((function(e){var t=B[e];B[e]=function(e,n){return M(),null===t||void 0===t?void 0:t(e,n)}})),t.useEffect((function(){B.motionName||"motion"!==D||M()}),[B.motionName,D]),t.useImperativeHandle(n,(function(){return{forceAlign:U,getElement:function(){return _.current}}}));var H=zt(zt({},A),{},{zIndex:s,opacity:"motion"!==D&&"stable"!==D&&r?0:void 0,pointerEvents:r||"stable"===D?void 0:"none"},o),W=!0;!(null===h||void 0===h?void 0:h.points)||"align"!==D&&"stable"!==D||(W=!1);var K=u;return t.Children.count(u)>1&&(K=t.createElement("div",{className:"".concat(i,"-content")},u)),t.createElement(eA,y({visible:r,ref:_,leavedClassName:"".concat(i,"-hidden")},B,{onAppearPrepare:q,onEnterPrepare:q,removeOnLeave:l,forceRender:f}),(function(e,n){var r=e.className,o=e.style,u=eN()(i,a,I,r);return t.createElement(QR,{target:d||p,key:"popup",ref:E,monitorWindowResize:!0,disabled:W,align:h,onAlign:z},t.createElement("div",{ref:n,className:u,onMouseEnter:g,onMouseLeave:b,onMouseDownCapture:k,onTouchStartCapture:w,onClick:x,style:zt(zt({},o),H)},K))}))}));JR.displayName="PopupInner";var ZR=JR,eD=t.forwardRef((function(e,n){var r=e.prefixCls,i=e.visible,a=e.zIndex,o=e.children,u=e.mobile,s=(u=void 0===u?{}:u).popupClassName,c=u.popupStyle,l=u.popupMotion,f=void 0===l?{}:l,h=u.popupRender,d=e.onClick,p=t.useRef();t.useImperativeHandle(n,(function(){return{forceAlign:function(){},getElement:function(){return p.current}}}));var v=zt({zIndex:a},c),m=o;return t.Children.count(o)>1&&(m=t.createElement("div",{className:"".concat(r,"-content")},o)),h&&(m=h(m)),t.createElement(eA,y({visible:i,ref:p,removeOnLeave:!0},f),(function(e,n){var i=e.className,a=e.style,o=eN()(r,s,i);return t.createElement("div",{ref:n,className:o,onClick:d,style:zt(zt({},a),v)},m)}))}));eD.displayName="MobilePopupInner";var tD=eD,nD=["visible","mobile"],rD=t.forwardRef((function(e,n){var r=e.visible,i=e.mobile,a=vT(e,nD),o=Oe((0,t.useState)(r),2),u=o[0],s=o[1],c=Oe((0,t.useState)(!1),2),l=c[0],f=c[1],h=zt(zt({},a),{},{visible:u});(0,t.useEffect)((function(){s(r),r&&i&&f(function(){if("undefined"===typeof navigator||"undefined"===typeof window)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null===e||void 0===e?void 0:e.substr(0,4)))}())}),[r,i]);var d=l?t.createElement(tD,y({},h,{mobile:i,ref:n})):t.createElement(ZR,y({},h,{ref:n}));return t.createElement("div",null,t.createElement(bP,h),d)}));rD.displayName="Popup";var iD=rD,aD=t.createContext(null);function oD(){}function uD(){return""}function sD(e){return e?e.ownerDocument:window.document}var cD=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];var lD,fD=function(e){var n=function(n){Be(i,n);var r=We(i);function i(e){var n,a;return $e(this,i),(n=r.call(this,e)).popupRef=t.createRef(),n.triggerRef=t.createRef(),n.portalContainer=void 0,n.attachId=void 0,n.clickOutsideHandler=void 0,n.touchOutsideHandler=void 0,n.contextMenuOutsideHandler1=void 0,n.contextMenuOutsideHandler2=void 0,n.mouseDownTimeout=void 0,n.focusTime=void 0,n.preClickTime=void 0,n.preTouchTime=void 0,n.delayTimer=void 0,n.hasPopupMouseDown=void 0,n.onMouseEnter=function(e){var t=n.props.mouseEnterDelay;n.fireEvents("onMouseEnter",e),n.delaySetPopupVisible(!0,t,t?null:e)},n.onMouseMove=function(e){n.fireEvents("onMouseMove",e),n.setPoint(e)},n.onMouseLeave=function(e){n.fireEvents("onMouseLeave",e),n.delaySetPopupVisible(!1,n.props.mouseLeaveDelay)},n.onPopupMouseEnter=function(){n.clearDelayTimer()},n.onPopupMouseLeave=function(e){var t;e.relatedTarget&&!e.relatedTarget.setTimeout&&dP(null===(t=n.popupRef.current)||void 0===t?void 0:t.getElement(),e.relatedTarget)||n.delaySetPopupVisible(!1,n.props.mouseLeaveDelay)},n.onFocus=function(e){n.fireEvents("onFocus",e),n.clearDelayTimer(),n.isFocusToShow()&&(n.focusTime=Date.now(),n.delaySetPopupVisible(!0,n.props.focusDelay))},n.onMouseDown=function(e){n.fireEvents("onMouseDown",e),n.preClickTime=Date.now()},n.onTouchStart=function(e){n.fireEvents("onTouchStart",e),n.preTouchTime=Date.now()},n.onBlur=function(e){n.fireEvents("onBlur",e),n.clearDelayTimer(),n.isBlurToHide()&&n.delaySetPopupVisible(!1,n.props.blurDelay)},n.onContextMenu=function(e){e.preventDefault(),n.fireEvents("onContextMenu",e),n.setPopupVisible(!0,e)},n.onContextMenuClose=function(){n.isContextMenuToShow()&&n.close()},n.onClick=function(e){if(n.fireEvents("onClick",e),n.focusTime){var t;if(n.preClickTime&&n.preTouchTime?t=Math.min(n.preClickTime,n.preTouchTime):n.preClickTime?t=n.preClickTime:n.preTouchTime&&(t=n.preTouchTime),Math.abs(t-n.focusTime)<20)return;n.focusTime=0}n.preClickTime=0,n.preTouchTime=0,n.isClickToShow()&&(n.isClickToHide()||n.isBlurToHide())&&e&&e.preventDefault&&e.preventDefault();var r=!n.state.popupVisible;(n.isClickToHide()&&!r||r&&n.isClickToShow())&&n.setPopupVisible(!n.state.popupVisible,e)},n.onPopupMouseDown=function(){var e;(n.hasPopupMouseDown=!0,clearTimeout(n.mouseDownTimeout),n.mouseDownTimeout=window.setTimeout((function(){n.hasPopupMouseDown=!1}),0),n.context)&&(e=n.context).onPopupMouseDown.apply(e,arguments)},n.onDocumentClick=function(e){if(!n.props.mask||n.props.maskClosable){var t=e.target,r=n.getRootDomNode(),i=n.getPopupDomNode();dP(r,t)&&!n.isContextMenuOnly()||dP(i,t)||n.hasPopupMouseDown||n.close()}},n.getRootDomNode=function(){var e=n.props.getTriggerDOMNode;if(e)return e(n.triggerRef.current);try{var t=nN(n.triggerRef.current);if(t)return t}catch(r){}return tN.findDOMNode(qe(n))},n.getPopupClassNameFromAlign=function(e){var t=[],r=n.props,i=r.popupPlacement,a=r.builtinPlacements,o=r.prefixCls,u=r.alignPoint,s=r.getPopupClassNameFromAlign;return i&&a&&t.push(function(e,t,n,r){for(var i=n.points,a=Object.keys(e),o=0;o<a.length;o+=1){var u=a[o];if(yP(e[u].points,i,r))return"".concat(t,"-placement-").concat(u)}return""}(a,o,e,u)),s&&t.push(s(e)),t.join(" ")},n.getComponent=function(){var e=n.props,r=e.prefixCls,i=e.destroyPopupOnHide,a=e.popupClassName,o=e.onPopupAlign,u=e.popupMotion,s=e.popupAnimation,c=e.popupTransitionName,l=e.popupStyle,f=e.mask,h=e.maskAnimation,d=e.maskTransitionName,p=e.maskMotion,v=e.zIndex,m=e.popup,g=e.stretch,b=e.alignPoint,k=e.mobile,w=e.forceRender,x=e.onPopupClick,E=n.state,_=E.popupVisible,S=E.point,I=n.getPopupAlign(),T={};return n.isMouseEnterToShow()&&(T.onMouseEnter=n.onPopupMouseEnter),n.isMouseLeaveToHide()&&(T.onMouseLeave=n.onPopupMouseLeave),T.onMouseDown=n.onPopupMouseDown,T.onTouchStart=n.onPopupMouseDown,t.createElement(iD,y({prefixCls:r,destroyPopupOnHide:i,visible:_,point:b&&S,className:a,align:I,onAlign:o,animation:s,getClassNameFromAlign:n.getPopupClassNameFromAlign},T,{stretch:g,getRootDomNode:n.getRootDomNode,style:l,mask:f,zIndex:v,transitionName:c,maskAnimation:h,maskTransitionName:d,maskMotion:p,ref:n.popupRef,motion:u,mobile:k,forceRender:w,onClick:x}),"function"===typeof m?m():m)},n.attachParent=function(e){DN.cancel(n.attachId);var t,r=n.props,i=r.getPopupContainer,a=r.getDocument,o=n.getRootDomNode();i?(o||0===i.length)&&(t=i(o)):t=a(n.getRootDomNode()).body,t?t.appendChild(e):n.attachId=DN((function(){n.attachParent(e)}))},n.getContainer=function(){if(!n.portalContainer){var e=(0,n.props.getDocument)(n.getRootDomNode()).createElement("div");e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="100%",n.portalContainer=e}return n.attachParent(n.portalContainer),n.portalContainer},n.setPoint=function(e){n.props.alignPoint&&e&&n.setState({point:{pageX:e.pageX,pageY:e.pageY}})},n.handlePortalUpdate=function(){n.state.prevPopupVisible!==n.state.popupVisible&&n.props.afterPopupVisibleChange(n.state.popupVisible)},n.triggerContextValue={onPopupMouseDown:n.onPopupMouseDown},a="popupVisible"in e?!!e.popupVisible:!!e.defaultPopupVisible,n.state={prevPopupVisible:a,popupVisible:a},cD.forEach((function(e){n["fire".concat(e)]=function(t){n.fireEvents(e,t)}})),n}return Ye(i,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e,t=this.props;if(this.state.popupVisible)return this.clickOutsideHandler||!this.isClickToHide()&&!this.isContextMenuToShow()||(e=t.getDocument(this.getRootDomNode()),this.clickOutsideHandler=pP(e,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(e=e||t.getDocument(this.getRootDomNode()),this.touchOutsideHandler=pP(e,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(e=e||t.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=pP(e,"scroll",this.onContextMenuClose)),void(!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=pP(window,"blur",this.onContextMenuClose)));this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),DN.cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var e;return(null===(e=this.popupRef.current)||void 0===e?void 0:e.getElement())||null}},{key:"getPopupAlign",value:function(){var e=this.props,t=e.popupPlacement,n=e.popupAlign,r=e.builtinPlacements;return t&&r?function(e,t,n){return zt(zt({},e[t]||{}),n)}(r,t,n):n}},{key:"setPopupVisible",value:function(e,t){var n=this.props.alignPoint,r=this.state.popupVisible;this.clearDelayTimer(),r!==e&&("popupVisible"in this.props||this.setState({popupVisible:e,prevPopupVisible:r}),this.props.onPopupVisibleChange(e)),n&&t&&e&&this.setPoint(t)}},{key:"delaySetPopupVisible",value:function(e,t,n){var r=this,i=1e3*t;if(this.clearDelayTimer(),i){var a=n?{pageX:n.pageX,pageY:n.pageY}:null;this.delayTimer=window.setTimeout((function(){r.setPopupVisible(e,a),r.clearDelayTimer()}),i)}else this.setPopupVisible(e,n)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(e){var t=this.props.children.props,n=this.props;return t[e]&&n[e]?this["fire".concat(e)]:t[e]||n[e]}},{key:"isClickToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isContextMenuOnly",value:function(){var e=this.props.action;return"contextMenu"===e||1===e.length&&"contextMenu"===e[0]}},{key:"isContextMenuToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("contextMenu")||-1!==n.indexOf("contextMenu")}},{key:"isClickToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isMouseEnterToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseEnter")}},{key:"isMouseLeaveToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseLeave")}},{key:"isFocusToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("focus")}},{key:"isBlurToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("blur")}},{key:"forcePopupAlign",value:function(){var e;this.state.popupVisible&&(null===(e=this.popupRef.current)||void 0===e||e.forceAlign())}},{key:"fireEvents",value:function(e,t){var n=this.props.children.props[e];n&&n(t);var r=this.props[e];r&&r(t)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var n=this.state.popupVisible,r=this.props,i=r.children,a=r.forceRender,o=r.alignPoint,u=r.className,s=r.autoDestroy,c=t.Children.only(i),l={key:"trigger"};this.isContextMenuToShow()?l.onContextMenu=this.onContextMenu:l.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(l.onClick=this.onClick,l.onMouseDown=this.onMouseDown,l.onTouchStart=this.onTouchStart):(l.onClick=this.createTwoChains("onClick"),l.onMouseDown=this.createTwoChains("onMouseDown"),l.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(l.onMouseEnter=this.onMouseEnter,o&&(l.onMouseMove=this.onMouseMove)):l.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?l.onMouseLeave=this.onMouseLeave:l.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(l.onFocus=this.onFocus,l.onBlur=this.onBlur):(l.onFocus=this.createTwoChains("onFocus"),l.onBlur=this.createTwoChains("onBlur"));var f=eN()(c&&c.props&&c.props.className,u);f&&(l.className=f);var h=zt({},l);aN(c)&&(h.ref=iN(this.triggerRef,c.ref));var d,p=t.cloneElement(c,h);return(n||this.popupRef.current||a)&&(d=t.createElement(e,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!n&&s&&(d=null),t.createElement(aD.Provider,{value:this.triggerContextValue},p,d)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.popupVisible,r={};return void 0!==n&&t.popupVisible!==n&&(r.popupVisible=n,r.prevPopupVisible=t.popupVisible),r}}]),i}(t.Component);return n.contextType=aD,n.defaultProps={prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:uD,getDocument:sD,onPopupVisibleChange:oD,afterPopupVisibleChange:oD,onPopupAlign:oD,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1},n}(mP),hD={adjustX:1,adjustY:1},dD=[0,0],pD={left:{points:["cr","cl"],overflow:hD,offset:[-4,0],targetOffset:dD},right:{points:["cl","cr"],overflow:hD,offset:[4,0],targetOffset:dD},top:{points:["bc","tc"],overflow:hD,offset:[0,-4],targetOffset:dD},bottom:{points:["tc","bc"],overflow:hD,offset:[0,4],targetOffset:dD},topLeft:{points:["bl","tl"],overflow:hD,offset:[0,-4],targetOffset:dD},leftTop:{points:["tr","tl"],overflow:hD,offset:[-4,0],targetOffset:dD},topRight:{points:["br","tr"],overflow:hD,offset:[0,-4],targetOffset:dD},rightTop:{points:["tl","tr"],overflow:hD,offset:[4,0],targetOffset:dD},bottomRight:{points:["tr","br"],overflow:hD,offset:[0,4],targetOffset:dD},rightBottom:{points:["bl","br"],overflow:hD,offset:[4,0],targetOffset:dD},bottomLeft:{points:["tl","bl"],overflow:hD,offset:[0,4],targetOffset:dD},leftBottom:{points:["br","bl"],overflow:hD,offset:[-4,0],targetOffset:dD}},vD=function(e){var n=e.overlay,r=e.prefixCls,i=e.id,a=e.overlayInnerStyle;return t.createElement("div",{className:"".concat(r,"-inner"),id:i,role:"tooltip",style:a},"function"===typeof n?n():n)},mD=function(e,n){var r=e.overlayClassName,i=e.trigger,a=void 0===i?["hover"]:i,o=e.mouseEnterDelay,u=void 0===o?0:o,s=e.mouseLeaveDelay,c=void 0===s?.1:s,l=e.overlayStyle,f=e.prefixCls,h=void 0===f?"rc-tooltip":f,d=e.children,p=e.onVisibleChange,v=e.afterVisibleChange,m=e.transitionName,g=e.animation,b=e.motion,k=e.placement,w=void 0===k?"right":k,x=e.align,E=void 0===x?{}:x,_=e.destroyTooltipOnHide,S=void 0!==_&&_,I=e.defaultVisible,T=e.getTooltipContainer,C=e.overlayInnerStyle,N=vT(e,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle"]),A=(0,t.useRef)(null);(0,t.useImperativeHandle)(n,(function(){return A.current}));var O=zt({},N);"visible"in e&&(O.popupVisible=e.visible);var P=!1,R=!1;if("boolean"===typeof S)P=S;else if(S&&"object"===Ve(S)){var D=S.keepParent;P=!0===D,R=!1===D}return t.createElement(fD,y({popupClassName:r,prefixCls:h,popup:function(){var n=e.arrowContent,r=void 0===n?null:n,i=e.overlay,a=e.id;return[t.createElement("div",{className:"".concat(h,"-arrow"),key:"arrow"},r),t.createElement(vD,{key:"content",prefixCls:h,id:a,overlay:i,overlayInnerStyle:C})]},action:a,builtinPlacements:pD,popupPlacement:w,ref:A,popupAlign:E,getPopupContainer:T,onPopupVisibleChange:p,afterPopupVisibleChange:v,popupTransitionName:m,popupAnimation:g,popupMotion:b,defaultPopupVisible:I,destroyPopupOnHide:P,autoDestroy:R,mouseLeaveDelay:c,popupStyle:l,mouseEnterDelay:u},O),d)},yD=(0,t.forwardRef)(mD);function gD(e){var n=t.useRef();n.current=e;var r=t.useCallback((function(){for(var e,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return null===(e=n.current)||void 0===e?void 0:e.call.apply(e,[n].concat(r))}),[]);return r}!function(e){e[e.INNER=0]="INNER",e[e.PROP=1]="PROP"}(lD||(lD={}));function bD(e){return void 0!==e}function kD(e,n){var r=n||{},i=r.defaultValue,a=r.value,o=r.onChange,u=r.postState,s=Oe(CN((function(){var t,n=void 0;return bD(a)?(n=a,t=lD.PROP):bD(i)?(n="function"===typeof i?i():i,t=lD.PROP):(n="function"===typeof e?e():e,t=lD.INNER),[n,t,n]})),2),c=s[0],l=s[1],f=bD(a)?a:c[0],h=u?u(f):f;!function(e,n){var r=t.useRef(!0);YR((function(){if(!r.current)return e()}),n),YR((function(){return r.current=!1,function(){r.current=!0}}),[])}((function(){l((function(e){var t=Oe(e,1)[0];return[a,lD.PROP,t]}))}),[a]);var d=t.useRef(),p=gD((function(e,t){l((function(t){var n=Oe(t,3),r=n[0],i=n[1],a=n[2],o="function"===typeof e?e(r):e;if(o===r)return t;var u=i===lD.INNER&&d.current!==a?a:r;return[o,lD.INNER,u]}),t)})),v=gD(o);return YR((function(){var e=Oe(c,3),t=e[0],n=e[1],r=e[2];t!==r&&n===lD.INNER&&(v(t,r),d.current=r)}),[c]),[h,p]}rA("success","processing","error","default","warning");var wD=rA("pink","red","yellow","orange","cyan","green","blue","purple","geekblue","magenta","volcano","gold","lime"),xD={adjustX:1,adjustY:1},ED={adjustX:0,adjustY:0},_D=[0,0];function SD(e){return"boolean"===typeof e?e?xD:ED:y(y({},ED),e)}var ID=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},TD=new RegExp("^(".concat(wD.join("|"),")(-inverse)?$"));function CD(e,n){var r=e.type;if((!0===r.__ANT_BUTTON||"button"===e.type)&&e.props.disabled||!0===r.__ANT_SWITCH&&(e.props.disabled||e.props.loading)){var i=function(e,t){var n={},r=y({},e);return t.forEach((function(t){e&&t in e&&(n[t]=e[t],delete r[t])})),{picked:n,omitted:r}}(e.props.style,["position","left","right","top","bottom","float","display","zIndex"]),a=i.picked,o=i.omitted,u=y(y({display:"inline-block"},a),{cursor:"not-allowed",width:e.props.block?"100%":null}),s=XO(e,{style:y(y({},o),{pointerEvents:"none"}),className:null});return t.createElement("span",{style:u,className:eN()(e.props.className,"".concat(n,"-disabled-compatible-wrapper"))},s)}return e}var ND=t.forwardRef((function(e,n){var r,i=t.useContext(tA),a=i.getPopupContainer,o=i.getPrefixCls,u=i.direction,s=Oe(kD(!1,{value:e.visible,defaultValue:e.defaultVisible}),2),c=s[0],l=s[1],f=function(){var t=e.title,n=e.overlay;return!t&&!n&&0!==t},h=function(){var t=e.builtinPlacements,n=e.arrowPointAtCenter,r=e.autoAdjustOverflow;return t||function(e){var t=e.arrowWidth,n=void 0===t?4:t,r=e.horizontalArrowShift,i=void 0===r?16:r,a=e.verticalArrowShift,o=void 0===a?8:a,u=e.autoAdjustOverflow,s=e.arrowPointAtCenter,c={left:{points:["cr","cl"],offset:[-4,0]},right:{points:["cl","cr"],offset:[4,0]},top:{points:["bc","tc"],offset:[0,-4]},bottom:{points:["tc","bc"],offset:[0,4]},topLeft:{points:["bl","tc"],offset:[-(i+n),-4]},leftTop:{points:["tr","cl"],offset:[-4,-(o+n)]},topRight:{points:["br","tc"],offset:[i+n,-4]},rightTop:{points:["tl","cr"],offset:[4,-(o+n)]},bottomRight:{points:["tr","bc"],offset:[i+n,4]},rightBottom:{points:["bl","cr"],offset:[4,o+n]},bottomLeft:{points:["tl","bc"],offset:[-(i+n),4]},leftBottom:{points:["br","cl"],offset:[-4,o+n]}};return Object.keys(c).forEach((function(e){c[e]=s?y(y({},c[e]),{overflow:SD(u),targetOffset:_D}):y(y({},pD[e]),{overflow:SD(u)}),c[e].ignoreShake=!0})),c}({arrowPointAtCenter:n,autoAdjustOverflow:r})},d=e.getPopupContainer,p=ID(e,["getPopupContainer"]),v=e.prefixCls,m=e.openClassName,g=e.getTooltipContainer,b=e.overlayClassName,k=e.color,w=e.overlayInnerStyle,x=e.children,E=o("tooltip",v),_=o(),S=c;!("visible"in e)&&f()&&(S=!1);var I,T=CD(YO(x)?x:t.createElement("span",null,x),E),C=T.props,N=eN()(C.className,Xe({},m||"".concat(E,"-open"),!0)),A=eN()(b,(Xe(r={},"".concat(E,"-rtl"),"rtl"===u),Xe(r,"".concat(E,"-").concat(k),k&&TD.test(k)),r)),O=w;return k&&!TD.test(k)&&(O=y(y({},w),{background:k}),I={"--antd-arrow-background-color":k}),t.createElement(yD,y({},p,{prefixCls:E,overlayClassName:A,getTooltipContainer:d||g||a,ref:n,builtinPlacements:h(),overlay:function(){var t=e.title,n=e.overlay;return 0===t?t:n||t||""}(),visible:S,onVisibleChange:function(t){var n;l(!f()&&t),f()||null===(n=e.onVisibleChange)||void 0===n||n.call(e,t)},onPopupAlign:function(e,t){var n=h(),r=Object.keys(n).find((function(e){return n[e].points[0]===t.points[0]&&n[e].points[1]===t.points[1]}));if(r){var i=e.getBoundingClientRect(),a={top:"50%",left:"50%"};r.indexOf("top")>=0||r.indexOf("Bottom")>=0?a.top="".concat(i.height-t.offset[1],"px"):(r.indexOf("Top")>=0||r.indexOf("bottom")>=0)&&(a.top="".concat(-t.offset[1],"px")),r.indexOf("left")>=0||r.indexOf("Right")>=0?a.left="".concat(i.width-t.offset[0],"px"):(r.indexOf("right")>=0||r.indexOf("Left")>=0)&&(a.left="".concat(-t.offset[0],"px")),e.style.transformOrigin="".concat(a.left," ").concat(a.top)}},overlayInnerStyle:O,arrowContent:t.createElement("span",{className:"".concat(E,"-arrow-content"),style:I}),motion:{motionName:sA(_,"zoom-big-fast",e.transitionName),motionDeadline:1e3}}),S?XO(T,{className:N}):T)}));ND.defaultProps={placement:"top",mouseEnterDelay:.1,mouseLeaveDelay:.1,arrowPointAtCenter:!1,autoAdjustOverflow:!0};var AD=ND,OD=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};var PD=function(e){var n=e.prefixCls,r=e.label,i=e.htmlFor,a=e.labelCol,o=e.labelAlign,u=e.colon,s=e.required,c=e.requiredMark,l=e.tooltip,f=function(e,n){var r=t.useContext(oP),i=t.useMemo((function(){var t=n||fP[e||"global"],i=e&&r?r[e]:{};return y(y({},"function"===typeof t?t():t),i||{})}),[e,n,r]);return[i]}("Form"),h=Oe(f,1)[0];return r?t.createElement($C.Consumer,{key:"label"},(function(e){var f,d,p=e.vertical,v=e.labelAlign,m=e.labelCol,g=e.labelWrap,b=e.colon,k=a||m||{},w=o||v,x="".concat(n,"-item-label"),E=eN()(x,"left"===w&&"".concat(x,"-left"),k.className,Xe({},"".concat(x,"-wrap"),!!g)),_=r,S=!0===u||!1!==b&&!1!==u;S&&!p&&"string"===typeof r&&""!==r.trim()&&(_=r.replace(/[:|\uff1a]\s*$/,""));var I=function(e){return e?"object"!==Ve(e)||t.isValidElement(e)?{title:e}:e:null}(l);if(I){var T=I.icon,C=void 0===T?t.createElement(aP,null):T,N=OD(I,["icon"]),A=t.createElement(AD,y({},N),t.cloneElement(C,{className:"".concat(n,"-item-tooltip"),title:""}));_=t.createElement(t.Fragment,null,_,A)}"optional"!==c||s||(_=t.createElement(t.Fragment,null,_,t.createElement("span",{className:"".concat(n,"-item-optional"),title:""},(null===h||void 0===h?void 0:h.optional)||(null===(d=lP.Form)||void 0===d?void 0:d.optional))));var O=eN()((Xe(f={},"".concat(n,"-item-required"),s),Xe(f,"".concat(n,"-item-required-mark-optional"),"optional"===c),Xe(f,"".concat(n,"-item-no-colon"),!S),f));return t.createElement(tP,y({},k,{className:E}),t.createElement("label",{htmlFor:i,className:O,title:"string"===typeof r?r:""},_))})):null};function RD(e){var n=Oe(t.useState(e),2),r=n[0],i=n[1];return t.useEffect((function(){var t=setTimeout((function(){i(e)}),e.length?0:10);return function(){clearTimeout(t)}}),[e]),r}var DD=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},MD=(rA("success","warning","error","validating",""),t.memo((function(e){return e.children}),(function(e,t){return e.value===t.value&&e.update===t.update})));var FD={success:CO,warning:DO,error:OO,validating:VO};var LD=function(e){var n=e.name,r=e.noStyle,i=e.dependencies,a=e.prefixCls,o=e.style,u=e.className,s=e.shouldUpdate,c=e.hasFeedback,l=e.help,f=e.rules,h=e.validateStatus,d=e.children,p=e.required,v=e.label,m=e.messageVariables,g=e.trigger,b=void 0===g?"onChange":g,k=e.validateTrigger,w=e.hidden,x=DD(e,["name","noStyle","dependencies","prefixCls","style","className","shouldUpdate","hasFeedback","help","rules","validateStatus","children","required","label","messageVariables","trigger","validateTrigger","hidden"]),E=(0,t.useContext)(tA).getPrefixCls,_=(0,t.useContext)($C),S=_.name,I=_.requiredMark,T="function"===typeof d,C=(0,t.useContext)(QC),N=(0,t.useContext)(_T).validateTrigger,A=void 0!==k?k:N,O=function(e){return!(void 0===e||null===e)}(n),P=E("form",a),R=t.useContext(NC),D=t.useRef(),M=function(e){var n=Oe(t.useState(e),2),r=n[0],i=n[1],a=(0,t.useRef)(null),o=(0,t.useRef)([]),u=(0,t.useRef)(!1);return t.useEffect((function(){return u.current=!1,function(){u.current=!0,DN.cancel(a.current),a.current=null}}),[]),[r,function(e){u.current||(null===a.current&&(o.current=[],a.current=DN((function(){a.current=null,i((function(e){var t=e;return o.current.forEach((function(e){t=e(t)})),t}))}))),o.current.push(e))}]}({}),F=Oe(M,2),L=F[0],V=F[1],j=Oe(CN((function(){return{errors:[],warnings:[],touched:!1,validating:!1,name:[]}})),2),U=j[0],z=j[1],B=function(e,t){V((function(n){var r=y({},n),i=[].concat(Ge(e.name.slice(0,-1)),Ge(t)).join("__SPLIT__");return e.destroy?delete r[i]:r[i]=e,r}))},q=Oe(t.useMemo((function(){var e=Ge(U.errors),t=Ge(U.warnings);return Object.values(L).forEach((function(n){e.push.apply(e,Ge(n.errors||[])),t.push.apply(t,Ge(n.warnings||[]))})),[e,t]}),[L,U.errors,U.warnings]),2),H=q[0],W=q[1],K=RD(H),G=RD(W),$=function(){var e=t.useContext($C).itemRef,n=t.useRef({});return function(t,r){var i=r&&"object"===Ve(r)&&r.ref,a=t.join("_");return n.current.name===a&&n.current.originRef===i||(n.current.name=a,n.current.originRef=i,n.current.ref=iN(e(t),i)),n.current.ref}}(),Q="";void 0!==h?Q=h:(null===U||void 0===U?void 0:U.validating)?Q="validating":K.length?Q="error":G.length?Q="warning":(null===U||void 0===U?void 0:U.touched)&&(Q="success");var Y=(0,t.useMemo)((function(){var e;if(c){var n=Q&&FD[Q];e=n?t.createElement("span",{className:eN()("".concat(P,"-item-feedback-icon"),"".concat(P,"-item-feedback-icon-").concat(Q))},t.createElement(n,null)):null}return{status:Q,hasFeedback:c,feedbackIcon:e,isFormItemInput:!0}}),[Q,c]);function X(n,i,a){var s;if(r&&!w)return n;var f=(Xe(s={},"".concat(P,"-item"),!0),Xe(s,"".concat(P,"-item-with-help"),void 0!==l&&null!==l||K.length||G.length),Xe(s,"".concat(u),!!u),Xe(s,"".concat(P,"-item-has-feedback"),Q&&c),Xe(s,"".concat(P,"-item-has-success"),"success"===Q),Xe(s,"".concat(P,"-item-has-warning"),"warning"===Q),Xe(s,"".concat(P,"-item-has-error"),"error"===Q),Xe(s,"".concat(P,"-item-is-validating"),"validating"===Q),Xe(s,"".concat(P,"-item-hidden"),w),s);return t.createElement(QO,y({className:eN()(f),style:o,key:"row"},GC(x,["colon","extra","fieldKey","requiredMark","getValueFromEvent","getValueProps","htmlFor","id","initialValue","isListField","labelAlign","labelWrap","labelCol","normalize","preserve","tooltip","validateFirst","valuePropName","wrapperCol","_internalItemRender"])),t.createElement(PD,y({htmlFor:i,required:a,requiredMark:I},e,{prefixCls:P})),t.createElement(nP,y({},e,U,{errors:K,warnings:G,prefixCls:P,status:Q,help:l}),t.createElement(QC.Provider,{value:B},t.createElement(XC.Provider,{value:Y},n))))}if(!O&&!T&&!i)return X(d);var J={};return"string"===typeof v?J.label=v:n&&(J.label=String(n)),m&&(J=y(y({},J),m)),t.createElement(CC,y({},e,{messageVariables:J,trigger:b,validateTrigger:A,onMetaChange:function(e){var t=null===R||void 0===R?void 0:R.getKey(e.name);if(z(e.destroy?{errors:[],warnings:[],touched:!1,validating:!1,name:[]}:e,!0),r&&C){var n=e.name;if(e.destroy)n=D.current||n;else if(void 0!==t){var i=Oe(t,2),a=i[0],o=i[1];n=[a].concat(Ge(o)),D.current=n}C(e,n)}}}),(function(r,a,o){var u=TA(n).length&&a?a.name:[],c=CA(u,S),l=void 0!==p?p:!(!f||!f.some((function(e){if(e&&"object"===Ve(e)&&e.required&&!e.warningOnly)return!0;if("function"===typeof e){var t=e(o);return t&&t.required&&!t.warningOnly}return!1}))),h=y({},r),v=null;if(Array.isArray(d)&&O)v=d;else if(T&&(!s&&!i||O));else if(!i||T||O)if(YO(d)){var m=y(y({},d.props),h);m.id||(m.id=c),aN(d)&&(m.ref=$(u,d)),new Set([].concat(Ge(TA(b)),Ge(TA(A)))).forEach((function(e){m[e]=function(){for(var t,n,r,i,a,o=arguments.length,u=new Array(o),s=0;s<o;s++)u[s]=arguments[s];null===(r=h[e])||void 0===r||(t=r).call.apply(t,[h].concat(u)),null===(a=(i=d.props)[e])||void 0===a||(n=a).call.apply(n,[i].concat(u))}})),v=t.createElement(MD,{value:h[e.valuePropName||"value"],update:d},XO(d,m))}else v=T&&(s||i)&&!O?d(o):d;else;return X(v,c,l)}))},VD=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},jD=function(e){var n=e.prefixCls,r=e.children,i=VD(e,["prefixCls","children"]),a=(0,t.useContext(tA).getPrefixCls)("form",n),o=t.useMemo((function(){return{prefixCls:a,status:"error"}}),[a]);return t.createElement(AC,y({},i),(function(e,n,i){return t.createElement(YC.Provider,{value:o},r(e.map((function(e){return y(y({},e),{fieldKey:e.key})})),n,{errors:i.errors,warnings:i.warnings}))}))};var UD=RA;UD.Item=LD,UD.List=jD,UD.ErrorList=hA,UD.useForm=AA,UD.useFormInstance=function(){return(0,t.useContext)($C).form},UD.useWatch=HC,UD.Provider=function(e){var n=GC(e,["prefixCls"]);return t.createElement(jC,y({},n))},UD.create=function(){};var zD=UD,BD=function(e){var n,r=(0,t.useContext)(tA),i=r.getPrefixCls,a=r.direction,o=e.prefixCls,u=e.className,s=void 0===u?"":u,c=i("input-group",o),l=eN()(c,(Xe(n={},"".concat(c,"-lg"),"large"===e.size),Xe(n,"".concat(c,"-sm"),"small"===e.size),Xe(n,"".concat(c,"-compact"),e.compact),Xe(n,"".concat(c,"-rtl"),"rtl"===a),n),s),f=(0,t.useContext)(XC),h=(0,t.useMemo)((function(){return y(y({},f),{isFormItemInput:!1})}),[f]);return t.createElement("span",{className:l,style:e.style,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onFocus:e.onFocus,onBlur:e.onBlur},t.createElement(XC.Provider,{value:h},e.children))};function qD(e){return!(!e.addonBefore&&!e.addonAfter)}function HD(e){return!!(e.prefix||e.suffix||e.allowClear)}function WD(e,t,n,r){if(n){var i=t;if("click"===t.type){var a=e.cloneNode(!0);return i=Object.create(t,{target:{value:a},currentTarget:{value:a}}),a.value="",void n(i)}if(void 0!==r)return i=Object.create(t,{target:{value:e},currentTarget:{value:e}}),e.value=r,void n(i);n(i)}}function KD(e){return"undefined"===typeof e||null===e?"":String(e)}var GD=function(e){var n=e.inputElement,r=e.prefixCls,i=e.prefix,a=e.suffix,o=e.addonBefore,u=e.addonAfter,s=e.className,c=e.style,l=e.affixWrapperClassName,f=e.groupClassName,h=e.wrapperClassName,d=e.disabled,p=e.readOnly,v=e.focused,m=e.triggerFocus,y=e.allowClear,g=e.value,b=e.handleReset,k=e.hidden,w=(0,t.useRef)(null),x=(0,t.cloneElement)(n,{value:g,hidden:k});if(HD(e)){var E,_="".concat(r,"-affix-wrapper"),S=eN()(_,(Xe(E={},"".concat(_,"-disabled"),d),Xe(E,"".concat(_,"-focused"),v),Xe(E,"".concat(_,"-readonly"),p),Xe(E,"".concat(_,"-input-with-clear-btn"),a&&y&&g),E),!qD(e)&&s,l),I=(a||y)&&t.createElement("span",{className:"".concat(r,"-suffix")},function(){var e;if(!y)return null;var n=!d&&!p&&g,i="".concat(r,"-clear-icon"),o="object"===Ve(y)&&(null===y||void 0===y?void 0:y.clearIcon)?y.clearIcon:"\u2716";return t.createElement("span",{onClick:b,onMouseDown:function(e){return e.preventDefault()},className:eN()(i,(e={},Xe(e,"".concat(i,"-hidden"),!n),Xe(e,"".concat(i,"-has-suffix"),!!a),e)),role:"button",tabIndex:-1},o)}(),a);x=t.createElement("span",{className:S,style:c,hidden:!qD(e)&&k,onMouseDown:function(e){var t;(null===(t=w.current)||void 0===t?void 0:t.contains(e.target))&&(null===m||void 0===m||m())},ref:w},i&&t.createElement("span",{className:"".concat(r,"-prefix")},i),(0,t.cloneElement)(n,{style:null,value:g,hidden:null}),I)}if(qD(e)){var T="".concat(r,"-group"),C="".concat(T,"-addon"),N=eN()("".concat(r,"-wrapper"),T,h),A=eN()("".concat(r,"-group-wrapper"),s,f);return t.createElement("span",{className:A,style:c,hidden:k},t.createElement("span",{className:N},o&&t.createElement("span",{className:C},o),(0,t.cloneElement)(x,{style:null,hidden:null}),u&&t.createElement("span",{className:C},u)))}return x},$D=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","type","inputClassName"],QD=(0,t.forwardRef)((function(e,n){var r=e.autoComplete,i=e.onChange,a=e.onFocus,o=e.onBlur,u=e.onPressEnter,s=e.onKeyDown,c=e.prefixCls,l=void 0===c?"rc-input":c,f=e.disabled,h=e.htmlSize,d=e.className,p=e.maxLength,v=e.suffix,m=e.showCount,y=e.type,g=void 0===y?"text":y,b=e.inputClassName,k=vT(e,$D),w=Oe(kD(e.defaultValue,{value:e.value}),2),x=w[0],E=w[1],_=Oe((0,t.useState)(!1),2),S=_[0],I=_[1],T=(0,t.useRef)(null),C=function(e){T.current&&function(e,t){if(e){e.focus(t);var n=(t||{}).cursor;if(n){var r=e.value.length;switch(n){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(r,r);break;default:e.setSelectionRange(0,r)}}}}(T.current,e)};(0,t.useImperativeHandle)(n,(function(){return{focus:C,blur:function(){var e;null===(e=T.current)||void 0===e||e.blur()},setSelectionRange:function(e,t,n){var r;null===(r=T.current)||void 0===r||r.setSelectionRange(e,t,n)},select:function(){var e;null===(e=T.current)||void 0===e||e.select()},input:T.current}})),(0,t.useEffect)((function(){I((function(e){return(!e||!f)&&e}))}),[f]);var N=function(t){void 0===e.value&&E(t.target.value),T.current&&WD(T.current,t,i)},A=function(e){u&&"Enter"===e.key&&u(e),null===s||void 0===s||s(e)},O=function(e){I(!0),null===a||void 0===a||a(e)},P=function(e){I(!1),null===o||void 0===o||o(e)};return t.createElement(GD,zt(zt({},k),{},{prefixCls:l,className:d,inputElement:function(){var n=GC(e,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","affixWrapperClassName","groupClassName","inputClassName","wrapperClassName","htmlSize"]);return t.createElement("input",zt(zt({autoComplete:r},n),{},{onChange:N,onFocus:O,onBlur:P,onKeyDown:A,className:eN()(l,Xe({},"".concat(l,"-disabled"),f),b,!qD(e)&&!HD(e)&&d),ref:T,size:h,type:g}))}(),handleReset:function(e){E(""),C(),T.current&&WD(T.current,e,i)},value:KD(x),focused:S,triggerFocus:C,suffix:function(){var e=Number(p)>0;if(v||m){var n=Ge(KD(x)).length,r="object"===Ve(m)?m.formatter({count:n,maxLength:p}):"".concat(n).concat(e?" / ".concat(p):"");return t.createElement(t.Fragment,null,!!m&&t.createElement("span",{className:eN()("".concat(l,"-show-count-suffix"),Xe({},"".concat(l,"-show-count-has-suffix"),!!v))},r),v)}return null}(),disabled:f}))})),YD=QD;rA("warning","error","");function XD(e,t,n){var r;return eN()((Xe(r={},"".concat(e,"-status-success"),"success"===t),Xe(r,"".concat(e,"-status-warning"),"warning"===t),Xe(r,"".concat(e,"-status-error"),"error"===t),Xe(r,"".concat(e,"-status-validating"),"validating"===t),Xe(r,"".concat(e,"-has-feedback"),n),r))}var JD=function(e,t){return t||e};var ZD=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function eM(e,t,n,r){if(n){var i=t;if("click"===t.type){var a=e.cloneNode(!0);return i=Object.create(t,{target:{value:a},currentTarget:{value:a}}),a.value="",void n(i)}if(void 0!==r)return i=Object.create(t,{target:{value:e},currentTarget:{value:e}}),e.value=r,void n(i);n(i)}}var tM=(0,t.forwardRef)((function(e,n){var r,i,a,o=e.prefixCls,u=e.bordered,s=void 0===u||u,c=e.status,l=e.size,f=e.disabled,h=e.onBlur,d=e.onFocus,p=e.suffix,v=e.allowClear,m=e.addonAfter,g=e.addonBefore,b=ZD(e,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore"]),k=t.useContext(tA),w=k.getPrefixCls,x=k.direction,E=k.input,_=w("input",o),S=(0,t.useRef)(null),I=t.useContext(gA),T=l||I,C=t.useContext(vA),N=f||C,A=(0,t.useContext)(XC),O=A.status,P=A.hasFeedback,R=A.feedbackIcon,D=JD(O,c),M=function(e){return!!(e.prefix||e.suffix||e.allowClear)}(e)||!!P,F=(0,t.useRef)(M);(0,t.useEffect)((function(){M&&F.current,F.current=M}),[M]);var L=(0,t.useRef)([]),V=function(){L.current.push(window.setTimeout((function(){var e,t,n,r;(null===(e=S.current)||void 0===e?void 0:e.input)&&"password"===(null===(t=S.current)||void 0===t?void 0:t.input.getAttribute("type"))&&(null===(n=S.current)||void 0===n?void 0:n.input.hasAttribute("value"))&&(null===(r=S.current)||void 0===r||r.input.removeAttribute("value"))})))};(0,t.useEffect)((function(){return V(),function(){return L.current.forEach((function(e){return window.clearTimeout(e)}))}}),[]);var j,U=(P||p)&&t.createElement(t.Fragment,null,p,P&&R);return"object"===Ve(v)&&(null===v||void 0===v?void 0:v.clearIcon)?j=v:v&&(j={clearIcon:t.createElement(OO,null)}),t.createElement(YD,y({ref:iN(n,S),prefixCls:_,autoComplete:null===E||void 0===E?void 0:E.autoComplete},b,{disabled:N||void 0,onBlur:function(e){V(),null===h||void 0===h||h(e)},onFocus:function(e){V(),null===d||void 0===d||d(e)},suffix:U,allowClear:j,addonAfter:m&&t.createElement(JC,{override:!0,status:!0},m),addonBefore:g&&t.createElement(JC,{override:!0,status:!0},g),inputClassName:eN()((r={},Xe(r,"".concat(_,"-sm"),"small"===T),Xe(r,"".concat(_,"-lg"),"large"===T),Xe(r,"".concat(_,"-rtl"),"rtl"===x),Xe(r,"".concat(_,"-borderless"),!s),r),!M&&XD(_,D)),affixWrapperClassName:eN()((i={},Xe(i,"".concat(_,"-affix-wrapper-sm"),"small"===T),Xe(i,"".concat(_,"-affix-wrapper-lg"),"large"===T),Xe(i,"".concat(_,"-affix-wrapper-rtl"),"rtl"===x),Xe(i,"".concat(_,"-affix-wrapper-borderless"),!s),i),XD("".concat(_,"-affix-wrapper"),D,P)),wrapperClassName:eN()(Xe({},"".concat(_,"-group-rtl"),"rtl"===x)),groupClassName:eN()((a={},Xe(a,"".concat(_,"-group-wrapper-sm"),"small"===T),Xe(a,"".concat(_,"-group-wrapper-lg"),"large"===T),Xe(a,"".concat(_,"-group-wrapper-rtl"),"rtl"===x),a),XD("".concat(_,"-group-wrapper"),D,P))}))})),nM=tM,rM={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},iM=function(e,n){return t.createElement(IO,zt(zt({},e),{},{ref:n,icon:rM}))};iM.displayName="EyeInvisibleOutlined";var aM=t.forwardRef(iM),oM={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},uM=function(e,n){return t.createElement(IO,zt(zt({},e),{},{ref:n,icon:oM}))};uM.displayName="EyeOutlined";var sM=t.forwardRef(uM),cM=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},lM={click:"onClick",hover:"onMouseOver"},fM=t.forwardRef((function(e,n){var r=Oe((0,t.useState)(!1),2),i=r[0],a=r[1],o=function(){e.disabled||a(!i)},u=function(r){var a=r.getPrefixCls,u=e.className,s=e.prefixCls,c=e.inputPrefixCls,l=e.size,f=e.visibilityToggle,h=cM(e,["className","prefixCls","inputPrefixCls","size","visibilityToggle"]),d=a("input",c),p=a("input-password",s),v=f&&function(n){var r,a=e.action,u=e.iconRender,s=lM[a]||"",c=(void 0===u?function(){return null}:u)(i),l=(Xe(r={},s,o),Xe(r,"className","".concat(n,"-icon")),Xe(r,"key","passwordIcon"),Xe(r,"onMouseDown",(function(e){e.preventDefault()})),Xe(r,"onMouseUp",(function(e){e.preventDefault()})),r);return t.cloneElement(t.isValidElement(c)?c:t.createElement("span",null,c),l)}(p),m=eN()(p,u,Xe({},"".concat(p,"-").concat(l),!!l)),g=y(y({},GC(h,["suffix","iconRender"])),{type:i?"text":"password",className:m,prefixCls:d,suffix:v});return l&&(g.size=l),t.createElement(nM,y({ref:n},g))};return t.createElement(nA,null,u)}));fM.defaultProps={action:"click",visibilityToggle:!0,iconRender:function(e){return e?t.createElement(sM,null):t.createElement(aM,null)}};var hM=fM,dM={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},pM=function(e,n){return t.createElement(IO,zt(zt({},e),{},{ref:n,icon:dM}))};pM.displayName="SearchOutlined";var vM,mM=t.forwardRef(pM),yM=0,gM={};function bM(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=yM++,r=t;function i(){(r-=1)<=0?(e(),delete gM[n]):gM[n]=DN(i)}return gM[n]=DN(i),n}function kM(e){return!e||null===e.offsetParent||e.hidden}function wM(e){var t=(e||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return!(t&&t[1]&&t[2]&&t[3])||!(t[1]===t[2]&&t[2]===t[3])}bM.cancel=function(e){void 0!==e&&(DN.cancel(gM[e]),delete gM[e])},bM.ids=gM;var xM=function(e){Be(r,e);var n=We(r);function r(){var e;return $e(this,r),(e=n.apply(this,arguments)).containerRef=t.createRef(),e.animationStart=!1,e.destroyed=!1,e.onClick=function(t,n){var r,i,a=e.props,o=a.insertExtraNode;if(!(a.disabled||!t||kM(t)||t.className.indexOf("-leave")>=0)){e.extraNode=document.createElement("div");var u=qe(e).extraNode,s=e.context.getPrefixCls;u.className="".concat(s(""),"-click-animating-node");var c=e.getAttributeName();if(t.setAttribute(c,"true"),n&&"#ffffff"!==n&&"rgb(255, 255, 255)"!==n&&wM(n)&&!/rgba\((?:\d*, ){3}0\)/.test(n)&&"transparent"!==n){u.style.borderColor=n;var l=(null===(r=t.getRootNode)||void 0===r?void 0:r.call(t))||t.ownerDocument,f=l instanceof Document?l.body:null!==(i=l.firstChild)&&void 0!==i?i:l;vM=hO("\n      [".concat(s(""),"-click-animating-without-extra-node='true']::after, .").concat(s(""),"-click-animating-node {\n        --antd-wave-shadow-color: ").concat(n,";\n      }"),"antd-wave",{csp:e.csp,attachTo:f})}o&&t.appendChild(u),["transition","animation"].forEach((function(n){t.addEventListener("".concat(n,"start"),e.onTransitionStart),t.addEventListener("".concat(n,"end"),e.onTransitionEnd)}))}},e.onTransitionStart=function(t){if(!e.destroyed){var n=e.containerRef.current;t&&t.target===n&&!e.animationStart&&e.resetEffect(n)}},e.onTransitionEnd=function(t){t&&"fadeEffect"===t.animationName&&e.resetEffect(t.target)},e.bindAnimationEvent=function(t){if(t&&t.getAttribute&&!t.getAttribute("disabled")&&!(t.className.indexOf("disabled")>=0)){var n=function(n){if("INPUT"!==n.target.tagName&&!kM(n.target)){e.resetEffect(t);var r=getComputedStyle(t).getPropertyValue("border-top-color")||getComputedStyle(t).getPropertyValue("border-color")||getComputedStyle(t).getPropertyValue("background-color");e.clickWaveTimeoutId=window.setTimeout((function(){return e.onClick(t,r)}),0),bM.cancel(e.animationStartId),e.animationStart=!0,e.animationStartId=bM((function(){e.animationStart=!1}),10)}};return t.addEventListener("click",n,!0),{cancel:function(){t.removeEventListener("click",n,!0)}}}},e.renderWave=function(n){var r=n.csp,i=e.props.children;if(e.csp=r,!t.isValidElement(i))return i;var a=e.containerRef;return aN(i)&&(a=iN(i.ref,e.containerRef)),XO(i,{ref:a})},e}return Ye(r,[{key:"componentDidMount",value:function(){this.destroyed=!1;var e=this.containerRef.current;e&&1===e.nodeType&&(this.instance=this.bindAnimationEvent(e))}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.cancel(),this.clickWaveTimeoutId&&clearTimeout(this.clickWaveTimeoutId),this.destroyed=!0}},{key:"getAttributeName",value:function(){var e=this.context.getPrefixCls,t=this.props.insertExtraNode;return"".concat(e(""),t?"-click-animating":"-click-animating-without-extra-node")}},{key:"resetEffect",value:function(e){var t=this;if(e&&e!==this.extraNode&&e instanceof Element){var n=this.props.insertExtraNode,r=this.getAttributeName();e.setAttribute(r,"false"),vM&&(vM.innerHTML=""),n&&this.extraNode&&e.contains(this.extraNode)&&e.removeChild(this.extraNode),["transition","animation"].forEach((function(n){e.removeEventListener("".concat(n,"start"),t.onTransitionStart),e.removeEventListener("".concat(n,"end"),t.onTransitionEnd)}))}}},{key:"render",value:function(){return t.createElement(nA,null,this.renderWave)}}]),r}(t.Component);xM.contextType=tA;var EM=(0,t.forwardRef)((function(e,n){return t.createElement(xM,y({ref:n},e))})),_M=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},SM=t.createContext(void 0),IM=function(e){var n,r=t.useContext(tA),i=r.getPrefixCls,a=r.direction,o=e.prefixCls,u=e.size,s=e.className,c=_M(e,["prefixCls","size","className"]),l=i("btn-group",o),f="";switch(u){case"large":f="lg";break;case"small":f="sm"}var h=eN()(l,(Xe(n={},"".concat(l,"-").concat(f),f),Xe(n,"".concat(l,"-rtl"),"rtl"===a),n),s);return t.createElement(SM.Provider,{value:u},t.createElement("div",y({},c,{className:h})))},TM=function(){return{width:0,opacity:0,transform:"scale(0)"}},CM=function(e){return{width:e.scrollWidth,opacity:1,transform:"scale(1)"}},NM=function(e){var n=e.prefixCls,r=!!e.loading;return e.existIcon?t.createElement("span",{className:"".concat(n,"-loading-icon")},t.createElement(VO,null)):t.createElement(eA,{visible:r,motionName:"".concat(n,"-loading-icon-motion"),removeOnLeave:!0,onAppearStart:TM,onAppearActive:CM,onEnterStart:TM,onEnterActive:CM,onLeaveStart:CM,onLeaveActive:TM},(function(e,r){var i=e.className,a=e.style;return t.createElement("span",{className:"".concat(n,"-loading-icon"),style:a,ref:r},t.createElement(VO,{className:i}))}))},AM=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},OM=/^[\u4e00-\u9fa5]{2}$/,PM=OM.test.bind(OM);function RM(e){return"text"===e||"link"===e}function DM(e,n){if(null!==e&&void 0!==e){var r,i=n?" ":"";return"string"!==typeof e&&"number"!==typeof e&&"string"===typeof e.type&&PM(e.props.children)?XO(e,{children:e.props.children.split("").join(i)}):"string"===typeof e?PM(e)?t.createElement("span",null,e.split("").join(i)):t.createElement("span",null,e):(r=e,t.isValidElement(r)&&r.type===t.Fragment?t.createElement("span",null,e):e)}}rA("default","primary","ghost","dashed","link","text"),rA("default","circle","round"),rA("submit","button","reset");var MM=function(e,n){var r,i=e.loading,a=void 0!==i&&i,o=e.prefixCls,u=e.type,s=void 0===u?"default":u,c=e.danger,l=e.shape,f=void 0===l?"default":l,h=e.size,d=e.disabled,p=e.className,v=e.children,m=e.icon,g=e.ghost,b=void 0!==g&&g,k=e.block,w=void 0!==k&&k,x=e.htmlType,E=void 0===x?"button":x,_=AM(e,["loading","prefixCls","type","danger","shape","size","disabled","className","children","icon","ghost","block","htmlType"]),S=t.useContext(gA),I=t.useContext(vA),T=d||I,C=t.useContext(SM),N=Oe(t.useState(!!a),2),A=N[0],O=N[1],P=Oe(t.useState(!1),2),R=P[0],D=P[1],M=t.useContext(tA),F=M.getPrefixCls,L=M.autoInsertSpaceInButton,V=M.direction,j=n||t.createRef(),U=function(){return 1===t.Children.count(v)&&!m&&!RM(s)},z="object"===Ve(a)&&a.delay?a.delay||!0:!!a;t.useEffect((function(){var e=null;return"number"===typeof z?e=window.setTimeout((function(){e=null,O(z)}),z):O(z),function(){e&&(window.clearTimeout(e),e=null)}}),[z]),t.useEffect((function(){if(j&&j.current&&!1!==L){var e=j.current.textContent;U()&&PM(e)?R||D(!0):R&&D(!1)}}),[j]);var B=function(t){var n=e.onClick;A||T?t.preventDefault():null===n||void 0===n||n(t)},q=F("btn",o),H=!1!==L,W=C||h||S,K=W&&{large:"lg",small:"sm",middle:void 0}[W]||"",G=A?"loading":m,$=GC(_,["navigate"]),Q=eN()(q,(Xe(r={},"".concat(q,"-").concat(f),"default"!==f&&f),Xe(r,"".concat(q,"-").concat(s),s),Xe(r,"".concat(q,"-").concat(K),K),Xe(r,"".concat(q,"-icon-only"),!v&&0!==v&&!!G),Xe(r,"".concat(q,"-background-ghost"),b&&!RM(s)),Xe(r,"".concat(q,"-loading"),A),Xe(r,"".concat(q,"-two-chinese-chars"),R&&H&&!A),Xe(r,"".concat(q,"-block"),w),Xe(r,"".concat(q,"-dangerous"),!!c),Xe(r,"".concat(q,"-rtl"),"rtl"===V),Xe(r,"".concat(q,"-disabled"),void 0!==$.href&&T),r),p),Y=m&&!A?m:t.createElement(NM,{existIcon:!!m,prefixCls:q,loading:!!A}),X=v||0===v?function(e,n){var r=!1,i=[];return t.Children.forEach(e,(function(e){var t=Ve(e),n="string"===t||"number"===t;if(r&&n){var a=i.length-1,o=i[a];i[a]="".concat(o).concat(e)}else i.push(e);r=n})),t.Children.map(i,(function(e){return DM(e,n)}))}(v,U()&&H):null;if(void 0!==$.href)return t.createElement("a",y({},$,{className:Q,onClick:B,ref:j}),Y,X);var J=t.createElement("button",y({},_,{type:E,className:Q,onClick:B,disabled:T,ref:j}),Y,X);return RM(s)?J:t.createElement(EM,{disabled:!!A},J)},FM=t.forwardRef(MM);FM.Group=IM,FM.__ANT_BUTTON=!0;var LM=FM,VM=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},jM=t.forwardRef((function(e,n){var r,i,a=e.prefixCls,o=e.inputPrefixCls,u=e.className,s=e.size,c=e.suffix,l=e.enterButton,f=void 0!==l&&l,h=e.addonAfter,d=e.loading,p=e.disabled,v=e.onSearch,m=e.onChange,g=e.onCompositionStart,b=e.onCompositionEnd,k=VM(e,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),w=t.useContext(tA),x=w.getPrefixCls,E=w.direction,_=t.useContext(gA),S=t.useRef(!1),I=s||_,T=t.useRef(null),C=function(e){var t;document.activeElement===(null===(t=T.current)||void 0===t?void 0:t.input)&&e.preventDefault()},N=function(e){var t,n;v&&v(null===(n=null===(t=T.current)||void 0===t?void 0:t.input)||void 0===n?void 0:n.value,e)},A=x("input-search",a),O=x("input",o),P="boolean"===typeof f?t.createElement(mM,null):null,R="".concat(A,"-button"),D=f||{},M=D.type&&!0===D.type.__ANT_BUTTON;i=M||"button"===D.type?XO(D,y({onMouseDown:C,onClick:function(e){var t,n;null===(n=null===(t=null===D||void 0===D?void 0:D.props)||void 0===t?void 0:t.onClick)||void 0===n||n.call(t,e),N(e)},key:"enterButton"},M?{className:R,size:I}:{})):t.createElement(LM,{className:R,type:f?"primary":void 0,size:I,disabled:p,key:"enterButton",onMouseDown:C,onClick:N,loading:d,icon:P},f),h&&(i=[i,XO(h,{key:"addonAfter"})]);var F=eN()(A,(Xe(r={},"".concat(A,"-rtl"),"rtl"===E),Xe(r,"".concat(A,"-").concat(I),!!I),Xe(r,"".concat(A,"-with-button"),!!f),r),u);return t.createElement(nM,y({ref:iN(T,n),onPressEnter:function(e){S.current||N(e)}},k,{size:I,onCompositionStart:function(e){S.current=!0,null===g||void 0===g||g(e)},onCompositionEnd:function(e){S.current=!1,null===b||void 0===b||b(e)},prefixCls:O,addonAfter:i,suffix:c,onChange:function(e){e&&e.target&&"click"===e.type&&v&&v(e.target.value,e),m&&m(e)},className:F,disabled:p}))}));var UM=jM,zM=new Map;var BM=new qR((function(e){e.forEach((function(e){var t,n=e.target;null===(t=zM.get(n))||void 0===t||t.forEach((function(e){return e(n)}))}))}));var qM=function(e){Be(n,e);var t=We(n);function n(){return $e(this,n),t.apply(this,arguments)}return Ye(n,[{key:"render",value:function(){return this.props.children}}]),n}(t.Component),HM=t.createContext(null);function WM(e){var n=e.children,r=e.disabled,i=t.useRef(null),a=t.useRef(null),o=t.useContext(HM),u="function"===typeof n,s=u?n(i):n,c=t.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),l=!u&&t.isValidElement(s)&&aN(s),f=l?s.ref:null,h=t.useMemo((function(){return iN(f,i)}),[f,i]),d=t.useRef(e);d.current=e;var p=t.useCallback((function(e){var t=d.current,n=t.onResize,r=t.data,i=e.getBoundingClientRect(),a=i.width,u=i.height,s=e.offsetWidth,l=e.offsetHeight,f=Math.floor(a),h=Math.floor(u);if(c.current.width!==f||c.current.height!==h||c.current.offsetWidth!==s||c.current.offsetHeight!==l){var p={width:f,height:h,offsetWidth:s,offsetHeight:l};c.current=p;var v=s===Math.round(a)?a:s,m=l===Math.round(u)?u:l,y=zt(zt({},p),{},{offsetWidth:v,offsetHeight:m});null===o||void 0===o||o(y,e,r),n&&Promise.resolve().then((function(){n(y,e)}))}}),[]);return t.useEffect((function(){var e=nN(i.current)||nN(a.current);return e&&!r&&function(e,t){zM.has(e)||(zM.set(e,new Set),BM.observe(e)),zM.get(e).add(t)}(e,p),function(){return function(e,t){zM.has(e)&&(zM.get(e).delete(t),zM.get(e).size||(BM.unobserve(e),zM.delete(e)))}(e,p)}}),[i.current,r]),t.createElement(qM,{ref:a},l?t.cloneElement(s,{ref:h}):s)}function KM(e){var n=e.children;return("function"===typeof n?[n]:yT(n)).map((function(n,r){var i=(null===n||void 0===n?void 0:n.key)||"".concat("rc-observer-key","-").concat(r);return t.createElement(WM,y({},e,{key:i}),n)}))}KM.Collection=function(e){var n=e.children,r=e.onBatchResize,i=t.useRef(0),a=t.useRef([]),o=t.useContext(HM),u=t.useCallback((function(e,t,n){i.current+=1;var u=i.current;a.current.push({size:e,element:t,data:n}),Promise.resolve().then((function(){u===i.current&&(null===r||void 0===r||r(a.current),a.current=[])})),null===o||void 0===o||o(e,t,n)}),[r,o]);return t.createElement(HM.Provider,{value:u},n)};var GM,$M=KM,QM="\n  min-height:0 !important;\n  max-height:none !important;\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important\n",YM=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break"],XM={};function JM(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(t&&XM[n])return XM[n];var r=window.getComputedStyle(e),i=r.getPropertyValue("box-sizing")||r.getPropertyValue("-moz-box-sizing")||r.getPropertyValue("-webkit-box-sizing"),a=parseFloat(r.getPropertyValue("padding-bottom"))+parseFloat(r.getPropertyValue("padding-top")),o=parseFloat(r.getPropertyValue("border-bottom-width"))+parseFloat(r.getPropertyValue("border-top-width")),u=YM.map((function(e){return"".concat(e,":").concat(r.getPropertyValue(e))})).join(";"),s={sizingStyle:u,paddingSize:a,borderSize:o,boxSizing:i};return t&&n&&(XM[n]=s),s}var ZM,eF=n(9613),tF=n.n(eF);!function(e){e[e.NONE=0]="NONE",e[e.RESIZING=1]="RESIZING",e[e.RESIZED=2]="RESIZED"}(ZM||(ZM={}));var nF=function(e){Be(r,e);var n=We(r);function r(e){var i;return $e(this,r),(i=n.call(this,e)).nextFrameActionId=void 0,i.resizeFrameId=void 0,i.textArea=void 0,i.saveTextArea=function(e){i.textArea=e},i.handleResize=function(e){var t=i.state.resizeStatus,n=i.props,r=n.autoSize,a=n.onResize;t===ZM.NONE&&("function"===typeof a&&a(e),r&&i.resizeOnNextFrame())},i.resizeOnNextFrame=function(){cancelAnimationFrame(i.nextFrameActionId),i.nextFrameActionId=requestAnimationFrame(i.resizeTextarea)},i.resizeTextarea=function(){var e=i.props.autoSize;if(e&&i.textArea){var t=e.minRows,n=e.maxRows,r=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;GM||((GM=document.createElement("textarea")).setAttribute("tab-index","-1"),GM.setAttribute("aria-hidden","true"),document.body.appendChild(GM)),e.getAttribute("wrap")?GM.setAttribute("wrap",e.getAttribute("wrap")):GM.removeAttribute("wrap");var i=JM(e,t),a=i.paddingSize,o=i.borderSize,u=i.boxSizing,s=i.sizingStyle;GM.setAttribute("style","".concat(s,";").concat(QM)),GM.value=e.value||e.placeholder||"";var c,l=Number.MIN_SAFE_INTEGER,f=Number.MAX_SAFE_INTEGER,h=GM.scrollHeight;if("border-box"===u?h+=o:"content-box"===u&&(h-=a),null!==n||null!==r){GM.value=" ";var d=GM.scrollHeight-a;null!==n&&(l=d*n,"border-box"===u&&(l=l+a+o),h=Math.max(l,h)),null!==r&&(f=d*r,"border-box"===u&&(f=f+a+o),c=h>f?"":"hidden",h=Math.min(f,h))}return{height:h,minHeight:l,maxHeight:f,overflowY:c,resize:"none"}}(i.textArea,!1,t,n);i.setState({textareaStyles:r,resizeStatus:ZM.RESIZING},(function(){cancelAnimationFrame(i.resizeFrameId),i.resizeFrameId=requestAnimationFrame((function(){i.setState({resizeStatus:ZM.RESIZED},(function(){i.resizeFrameId=requestAnimationFrame((function(){i.setState({resizeStatus:ZM.NONE}),i.fixFirefoxAutoScroll()}))}))}))}))}},i.renderTextArea=function(){var e=i.props,n=e.prefixCls,r=void 0===n?"rc-textarea":n,a=e.autoSize,o=e.onResize,u=e.className,s=e.disabled,c=i.state,l=c.textareaStyles,f=c.resizeStatus,h=GC(i.props,["prefixCls","onPressEnter","autoSize","defaultValue","onResize"]),d=eN()(r,u,Xe({},"".concat(r,"-disabled"),s));"value"in h&&(h.value=h.value||"");var p=zt(zt(zt({},i.props.style),l),f===ZM.RESIZING?{overflowX:"hidden",overflowY:"hidden"}:null);return t.createElement($M,{onResize:i.handleResize,disabled:!(a||o)},t.createElement("textarea",y({},h,{className:d,style:p,ref:i.saveTextArea})))},i.state={textareaStyles:{},resizeStatus:ZM.NONE},i}return Ye(r,[{key:"componentDidUpdate",value:function(e){e.value===this.props.value&&tF()(e.autoSize,this.props.autoSize)||this.resizeTextarea()}},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.nextFrameActionId),cancelAnimationFrame(this.resizeFrameId)}},{key:"fixFirefoxAutoScroll",value:function(){try{if(document.activeElement===this.textArea){var e=this.textArea.selectionStart,t=this.textArea.selectionEnd;this.textArea.setSelectionRange(e,t)}}catch(kA){}}},{key:"render",value:function(){return this.renderTextArea()}}]),r}(t.Component),rF=nF,iF=function(e){Be(r,e);var n=We(r);function r(e){var t;$e(this,r),(t=n.call(this,e)).resizableTextArea=void 0,t.focus=function(){t.resizableTextArea.textArea.focus()},t.saveTextArea=function(e){t.resizableTextArea=e},t.handleChange=function(e){var n=t.props.onChange;t.setValue(e.target.value,(function(){t.resizableTextArea.resizeTextarea()})),n&&n(e)},t.handleKeyDown=function(e){var n=t.props,r=n.onPressEnter,i=n.onKeyDown;13===e.keyCode&&r&&r(e),i&&i(e)};var i="undefined"===typeof e.value||null===e.value?e.defaultValue:e.value;return t.state={value:i},t}return Ye(r,[{key:"setValue",value:function(e,t){"value"in this.props||this.setState({value:e},t)}},{key:"blur",value:function(){this.resizableTextArea.textArea.blur()}},{key:"render",value:function(){return t.createElement(rF,y({},this.props,{value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,ref:this.saveTextArea}))}}],[{key:"getDerivedStateFromProps",value:function(e){return"value"in e?{value:e.value}:null}}]),r}(t.Component),aF=iF,oF=rA("text","input");var uF=function(e){Be(r,e);var n=We(r);function r(){return $e(this,r),n.apply(this,arguments)}return Ye(r,[{key:"renderClearIcon",value:function(e){var n,r=this.props,i=r.value,a=r.disabled,o=r.readOnly,u=r.handleReset,s=r.suffix,c=!a&&!o&&i,l="".concat(e,"-clear-icon");return t.createElement(OO,{onClick:u,onMouseDown:function(e){return e.preventDefault()},className:eN()((n={},Xe(n,"".concat(l,"-hidden"),!c),Xe(n,"".concat(l,"-has-suffix"),!!s),n),l),role:"button"})}},{key:"renderTextAreaWithClearIcon",value:function(e,n,r){var i,a=this.props,o=a.value,u=a.allowClear,s=a.className,c=a.style,l=a.direction,f=a.bordered,h=a.hidden,d=a.status,p=r.status,v=r.hasFeedback;if(!u)return XO(n,{value:o});var m,y=eN()("".concat(e,"-affix-wrapper"),"".concat(e,"-affix-wrapper-textarea-with-clear-btn"),XD("".concat(e,"-affix-wrapper"),JD(p,d),v),(Xe(i={},"".concat(e,"-affix-wrapper-rtl"),"rtl"===l),Xe(i,"".concat(e,"-affix-wrapper-borderless"),!f),Xe(i,"".concat(s),!((m=this.props).addonBefore||m.addonAfter)&&s),i));return t.createElement("span",{className:y,style:c,hidden:h},XO(n,{style:null,value:o}),this.renderClearIcon(e))}},{key:"render",value:function(){var e=this;return t.createElement(XC.Consumer,null,(function(t){var n=e.props,r=n.prefixCls,i=n.inputType,a=n.element;if(i===oF[0])return e.renderTextAreaWithClearIcon(r,a,t)}))}}]),r}(t.Component),sF=uF,cF=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function lF(e,t){return Ge(e||"").slice(0,t).join("")}function fF(e,t,n,r){var i=n;return e?i=lF(n,r):Ge(t||"").length<n.length&&Ge(n||"").length>r&&(i=t),i}var hF=t.forwardRef((function(e,n){var r,i=e.prefixCls,a=e.bordered,o=void 0===a||a,u=e.showCount,s=void 0!==u&&u,c=e.maxLength,l=e.className,f=e.style,h=e.size,d=e.disabled,p=e.onCompositionStart,v=e.onCompositionEnd,m=e.onChange,g=e.status,b=cF(e,["prefixCls","bordered","showCount","maxLength","className","style","size","disabled","onCompositionStart","onCompositionEnd","onChange","status"]),k=t.useContext(tA),w=k.getPrefixCls,x=k.direction,E=t.useContext(gA),_=t.useContext(vA),S=d||_,I=t.useContext(XC),T=I.status,C=I.hasFeedback,N=I.isFormItemInput,A=I.feedbackIcon,O=JD(T,g),P=t.useRef(null),R=t.useRef(null),D=Oe(t.useState(!1),2),M=D[0],F=D[1],L=t.useRef(),V=t.useRef(0),j=Oe(kD(b.defaultValue,{value:b.value}),2),U=j[0],z=j[1],B=b.hidden,q=function(e,t){void 0===b.value&&(z(e),null===t||void 0===t||t())},H=Number(c)>0,W=w("input",i);t.useImperativeHandle(n,(function(){var e;return{resizableTextArea:null===(e=P.current)||void 0===e?void 0:e.resizableTextArea,focus:function(e){var t,n;!function(e,t){if(e){e.focus(t);var n=(t||{}).cursor;if(n){var r=e.value.length;switch(n){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(r,r);break;default:e.setSelectionRange(0,r)}}}}(null===(n=null===(t=P.current)||void 0===t?void 0:t.resizableTextArea)||void 0===n?void 0:n.textArea,e)},blur:function(){var e;return null===(e=P.current)||void 0===e?void 0:e.blur()}}}));var K=t.createElement(aF,y({},GC(b,["allowClear"]),{disabled:S,className:eN()((r={},Xe(r,"".concat(W,"-borderless"),!o),Xe(r,l,l&&!s),Xe(r,"".concat(W,"-sm"),"small"===E||"small"===h),Xe(r,"".concat(W,"-lg"),"large"===E||"large"===h),r),XD(W,O)),style:s?void 0:f,prefixCls:W,onCompositionStart:function(e){F(!0),L.current=U,V.current=e.currentTarget.selectionStart,null===p||void 0===p||p(e)},onChange:function(e){var t=e.target.value;!M&&H&&(t=fF(e.target.selectionStart>=c+1||e.target.selectionStart===t.length||!e.target.selectionStart,U,t,c));q(t),eM(e.currentTarget,e,m,t)},onCompositionEnd:function(e){var t;F(!1);var n=e.currentTarget.value;H&&(n=fF(V.current>=c+1||V.current===(null===(t=L.current)||void 0===t?void 0:t.length),L.current,n,c));n!==U&&(q(n),eM(e.currentTarget,e,m,n)),null===v||void 0===v||v(e)},ref:P})),G=function(e){return"undefined"===typeof e||null===e?"":String(e)}(U);M||!H||null!==b.value&&void 0!==b.value||(G=lF(G,c));var $=t.createElement(sF,y({disabled:S},b,{prefixCls:W,direction:x,inputType:"text",value:G,element:K,handleReset:function(e){var t,n,r;q(""),null===(t=P.current)||void 0===t||t.focus(),eM(null===(r=null===(n=P.current)||void 0===n?void 0:n.resizableTextArea)||void 0===r?void 0:r.textArea,e,m)},ref:R,bordered:o,status:g,style:s?void 0:f}));if(s||C){var Q,Y=Ge(G).length,X="";return X="object"===Ve(s)?s.formatter({count:Y,maxLength:c}):"".concat(Y).concat(H?" / ".concat(c):""),t.createElement("div",{hidden:B,className:eN()("".concat(W,"-textarea"),(Q={},Xe(Q,"".concat(W,"-textarea-rtl"),"rtl"===x),Xe(Q,"".concat(W,"-textarea-show-count"),s),Xe(Q,"".concat(W,"-textarea-in-form-item"),N),Q),XD("".concat(W,"-textarea"),O,C),l),style:f,"data-count":X},$,C&&t.createElement("span",{className:"".concat(W,"-textarea-suffix")},A))}return $})),dF=hF,pF=nM;pF.Group=BD,pF.Search=UM,pF.TextArea=dF,pF.Password=hM;var vF=pF,mF=function(){var e=Oe((0,t.useState)(""),2),n=e[0],r=e[1],i=Oe((0,t.useState)(""),2),a=i[0],o=i[1],u=Oe((0,t.useState)(!1),2),s=u[0],c=u[1],l=Oe((0,t.useState)(!0),2),f=l[0],h=(l[1],de(te)),d=function(e){c(!0),e.preventDefault(),Mx(uT,n,a).then((function(e){var t=e.user;console.log(t),h.push("/")})).catch((function(e){e.code,e.message}))};return(0,_e.jsx)("div",{className:"all-box",children:(0,_e.jsx)("div",{className:"sign-up-bar",children:(0,_e.jsxs)(zD,{name:"basic",labelCol:{span:8},wrapperCol:{span:5},initialValues:{remember:!0},onFinish:function(e){console.log("Success:",e)},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",children:[(0,_e.jsx)(zD.Item,{label:"Full Name",name:"username",rules:[{required:!0,message:"Please input your username!"}],children:(0,_e.jsx)(vF,{})}),(0,_e.jsx)(zD.Item,{label:"Email",name:"email",rules:[{required:!0,message:"Please input your email!"}],type:"email",placeholder:"john Doe",onChange:function(e){return r(e.target.value)},children:(0,_e.jsx)(vF,{})}),(0,_e.jsx)(zD.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],type:"password",placeholder:"Your password",onChange:function(e){return o(e.target.value)},children:(0,_e.jsx)(vF.Password,{})}),(0,_e.jsxs)(zD.Item,{wrapperCol:{offset:8,span:9},children:[!s&&(0,_e.jsx)(LM,{onClick:d,className:"button-up",type:"primary ",htmlType:"submit",children:"Sign Up"}),s&&(0,_e.jsx)(LM,{onClick:d,className:"button-up",type:"primary ",htmlType:"submit",disabled:!0,children:"Loading..."}),!f&&(0,_e.jsx)("span",{children:"Wrong email id and password"})]})]})})})},yF=function(){return(0,_e.jsxs)("div",{className:"sign-up",children:[(0,_e.jsx)(hT,{}),(0,_e.jsx)(mF,{}),(0,_e.jsx)(pT,{})]})};var gF=function(){return(0,_e.jsx)("div",{className:"App",children:(0,_e.jsxs)(ve,{children:[(0,_e.jsx)(ue,{exact:!0,path:"/",component:fT}),(0,_e.jsx)(ue,{exact:!0,path:"/sign-up",component:yF})]})})},bF=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};r.createRoot(document.getElementById("root")).render((0,_e.jsx)(t.StrictMode,{children:(0,_e.jsx)(pe,{basename:window.location.pathname||"",children:(0,_e.jsx)(gF,{})})})),bF()}()}();
//# sourceMappingURL=main.ad9a9ee8.js.map