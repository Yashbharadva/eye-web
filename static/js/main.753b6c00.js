/*! For license information please see main.753b6c00.js.LICENSE.txt */
!function(){var e={1694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a)if(n.toString===Object.prototype.toString)for(var u in n)r.call(n,u)&&n[u]&&e.push(u);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},2110:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=h(n,y);try{c(t,y,g)}catch(b){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,k=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===b||e.$$typeof===k||e.$$typeof===y)},t.typeOf=w},8309:function(e,t,n){"use strict";e.exports=n(746)},908:function(e,t,n){var r=n(8136)(n(7009),"DataView");e.exports=r},9676:function(e,t,n){var r=n(5403),i=n(2747),a=n(6037),o=n(4154),u=n(7728);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=i,s.prototype.get=a,s.prototype.has=o,s.prototype.set=u,e.exports=s},8384:function(e,t,n){var r=n(3894),i=n(8699),a=n(4957),o=n(7184),u=n(7109);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=i,s.prototype.get=a,s.prototype.has=o,s.prototype.set=u,e.exports=s},5797:function(e,t,n){var r=n(8136)(n(7009),"Map");e.exports=r},8059:function(e,t,n){var r=n(4086),i=n(9255),a=n(9186),o=n(3423),u=n(3739);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=i,s.prototype.get=a,s.prototype.has=o,s.prototype.set=u,e.exports=s},8319:function(e,t,n){var r=n(8136)(n(7009),"Promise");e.exports=r},3924:function(e,t,n){var r=n(8136)(n(7009),"Set");e.exports=r},692:function(e,t,n){var r=n(8059),i=n(5774),a=n(1596);function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=i,o.prototype.has=a,e.exports=o},2854:function(e,t,n){var r=n(8384),i=n(511),a=n(835),o=n(707),u=n(8832),s=n(5077);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=u,c.prototype.set=s,e.exports=c},7197:function(e,t,n){var r=n(7009).Symbol;e.exports=r},6219:function(e,t,n){var r=n(7009).Uint8Array;e.exports=r},7091:function(e,t,n){var r=n(8136)(n(7009),"WeakMap");e.exports=r},4903:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}},7538:function(e,t,n){var r=n(6478),i=n(4963),a=n(3629),o=n(5174),u=n(6800),s=n(9102),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=a(e),l=!n&&i(e),f=!n&&!l&&o(e),h=!n&&!l&&!f&&s(e),d=n||l||f||h,p=d?r(e.length,String):[],v=p.length;for(var m in e)!t&&!c.call(e,m)||d&&("length"==m||f&&("offset"==m||"parent"==m)||h&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||u(m,v))||p.push(m);return p}},1705:function(e){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},7897:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},7112:function(e,t,n){var r=n(9231);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},1986:function(e,t,n){var r=n(1705),i=n(3629);e.exports=function(e,t,n){var a=t(e);return i(e)?a:r(a,n(e))}},9066:function(e,t,n){var r=n(7197),i=n(1587),a=n(3581),o=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?i(e):a(e)}},4906:function(e,t,n){var r=n(9066),i=n(3141);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},1848:function(e,t,n){var r=n(3355),i=n(3141);e.exports=function e(t,n,a,o,u){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,a,o,e,u))}},3355:function(e,t,n){var r=n(2854),i=n(5305),a=n(2206),o=n(8078),u=n(8383),s=n(3629),c=n(5174),l=n(9102),f="[object Arguments]",h="[object Array]",d="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,v,m,y){var g=s(e),b=s(t),k=g?h:u(e),w=b?h:u(t),x=(k=k==f?d:k)==d,E=(w=w==f?d:w)==d,_=k==w;if(_&&c(e)){if(!c(t))return!1;g=!0,x=!1}if(_&&!x)return y||(y=new r),g||l(e)?i(e,t,n,v,m,y):a(e,t,k,n,v,m,y);if(!(1&n)){var S=x&&p.call(e,"__wrapped__"),I=E&&p.call(t,"__wrapped__");if(S||I){var T=S?e.value():e,C=I?t.value():t;return y||(y=new r),m(T,C,n,v,y)}}return!!_&&(y||(y=new r),o(e,t,n,v,m,y))}},6703:function(e,t,n){var r=n(4786),i=n(257),a=n(8092),o=n(7907),u=/^\[object .+?Constructor\]$/,s=Function.prototype,c=Object.prototype,l=s.toString,f=c.hasOwnProperty,h=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||i(e))&&(r(e)?h:u).test(o(e))}},8150:function(e,t,n){var r=n(9066),i=n(4635),a=n(3141),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&i(e.length)&&!!o[r(e)]}},3654:function(e,t,n){var r=n(2936),i=n(8836),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}},6478:function(e){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},6194:function(e){e.exports=function(e){return function(t){return e(t)}}},75:function(e){e.exports=function(e,t){return e.has(t)}},5525:function(e,t,n){var r=n(7009)["__core-js_shared__"];e.exports=r},5305:function(e,t,n){var r=n(692),i=n(7897),a=n(75);e.exports=function(e,t,n,o,u,s){var c=1&n,l=e.length,f=t.length;if(l!=f&&!(c&&f>l))return!1;var h=s.get(e),d=s.get(t);if(h&&d)return h==t&&d==e;var p=-1,v=!0,m=2&n?new r:void 0;for(s.set(e,t),s.set(t,e);++p<l;){var y=e[p],g=t[p];if(o)var b=c?o(g,y,p,t,e,s):o(y,g,p,e,t,s);if(void 0!==b){if(b)continue;v=!1;break}if(m){if(!i(t,(function(e,t){if(!a(m,t)&&(y===e||u(y,e,n,o,s)))return m.push(t)}))){v=!1;break}}else if(y!==g&&!u(y,g,n,o,s)){v=!1;break}}return s.delete(e),s.delete(t),v}},2206:function(e,t,n){var r=n(7197),i=n(6219),a=n(9231),o=n(5305),u=n(234),s=n(2230),c=r?r.prototype:void 0,l=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,f,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!f(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var d=u;case"[object Set]":var p=1&r;if(d||(d=s),e.size!=t.size&&!p)return!1;var v=h.get(e);if(v)return v==t;r|=2,h.set(e,t);var m=o(d(e),d(t),r,c,f,h);return h.delete(e),m;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},8078:function(e,t,n){var r=n(8248),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,a,o,u){var s=1&n,c=r(e),l=c.length;if(l!=r(t).length&&!s)return!1;for(var f=l;f--;){var h=c[f];if(!(s?h in t:i.call(t,h)))return!1}var d=u.get(e),p=u.get(t);if(d&&p)return d==t&&p==e;var v=!0;u.set(e,t),u.set(t,e);for(var m=s;++f<l;){var y=e[h=c[f]],g=t[h];if(a)var b=s?a(g,y,h,t,e,u):a(y,g,h,e,t,u);if(!(void 0===b?y===g||o(y,g,n,a,u):b)){v=!1;break}m||(m="constructor"==h)}if(v&&!m){var k=e.constructor,w=t.constructor;k==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof k&&k instanceof k&&"function"==typeof w&&w instanceof w||(v=!1)}return u.delete(e),u.delete(t),v}},1032:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},8248:function(e,t,n){var r=n(1986),i=n(5918),a=n(2742);e.exports=function(e){return r(e,a,i)}},2799:function(e,t,n){var r=n(5964);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},8136:function(e,t,n){var r=n(6703),i=n(40);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},1587:function(e,t,n){var r=n(7197),i=Object.prototype,a=i.hasOwnProperty,o=i.toString,u=r?r.toStringTag:void 0;e.exports=function(e){var t=a.call(e,u),n=e[u];try{e[u]=void 0;var r=!0}catch(s){}var i=o.call(e);return r&&(t?e[u]=n:delete e[u]),i}},5918:function(e,t,n){var r=n(4903),i=n(8174),a=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,u=o?function(e){return null==e?[]:(e=Object(e),r(o(e),(function(t){return a.call(e,t)})))}:i;e.exports=u},8383:function(e,t,n){var r=n(908),i=n(5797),a=n(8319),o=n(3924),u=n(7091),s=n(9066),c=n(7907),l="[object Map]",f="[object Promise]",h="[object Set]",d="[object WeakMap]",p="[object DataView]",v=c(r),m=c(i),y=c(a),g=c(o),b=c(u),k=s;(r&&k(new r(new ArrayBuffer(1)))!=p||i&&k(new i)!=l||a&&k(a.resolve())!=f||o&&k(new o)!=h||u&&k(new u)!=d)&&(k=function(e){var t=s(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case v:return p;case m:return l;case y:return f;case g:return h;case b:return d}return t}),e.exports=k},40:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},5403:function(e,t,n){var r=n(9620);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},2747:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},6037:function(e,t,n){var r=n(9620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},4154:function(e,t,n){var r=n(9620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},7728:function(e,t,n){var r=n(9620);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},6800:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},5964:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},257:function(e,t,n){var r=n(5525),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},2936:function(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},3894:function(e){e.exports=function(){this.__data__=[],this.size=0}},8699:function(e,t,n){var r=n(7112),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},4957:function(e,t,n){var r=n(7112);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},7184:function(e,t,n){var r=n(7112);e.exports=function(e){return r(this.__data__,e)>-1}},7109:function(e,t,n){var r=n(7112);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},4086:function(e,t,n){var r=n(9676),i=n(8384),a=n(5797);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(a||i),string:new r}}},9255:function(e,t,n){var r=n(2799);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},9186:function(e,t,n){var r=n(2799);e.exports=function(e){return r(this,e).get(e)}},3423:function(e,t,n){var r=n(2799);e.exports=function(e){return r(this,e).has(e)}},3739:function(e,t,n){var r=n(2799);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},234:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},9620:function(e,t,n){var r=n(8136)(Object,"create");e.exports=r},8836:function(e,t,n){var r=n(2709)(Object.keys,Object);e.exports=r},9494:function(e,t,n){e=n.nmd(e);var r=n(1032),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,o=a&&a.exports===i&&r.process,u=function(){try{var e=a&&a.require&&a.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=u},3581:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},2709:function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},7009:function(e,t,n){var r=n(1032),i="object"==typeof self&&self&&self.Object===Object&&self,a=r||i||Function("return this")();e.exports=a},5774:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},1596:function(e){e.exports=function(e){return this.__data__.has(e)}},2230:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},511:function(e,t,n){var r=n(8384);e.exports=function(){this.__data__=new r,this.size=0}},835:function(e){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},707:function(e){e.exports=function(e){return this.__data__.get(e)}},8832:function(e){e.exports=function(e){return this.__data__.has(e)}},5077:function(e,t,n){var r=n(8384),i=n(5797),a=n(8059);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var o=n.__data__;if(!i||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(o)}return n.set(e,t),this.size=n.size,this}},7907:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},9231:function(e){e.exports=function(e,t){return e===t||e!==e&&t!==t}},4963:function(e,t,n){var r=n(4906),i=n(3141),a=Object.prototype,o=a.hasOwnProperty,u=a.propertyIsEnumerable,s=r(function(){return arguments}())?r:function(e){return i(e)&&o.call(e,"callee")&&!u.call(e,"callee")};e.exports=s},3629:function(e){var t=Array.isArray;e.exports=t},1473:function(e,t,n){var r=n(4786),i=n(4635);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},5174:function(e,t,n){e=n.nmd(e);var r=n(7009),i=n(9488),a=t&&!t.nodeType&&t,o=a&&e&&!e.nodeType&&e,u=o&&o.exports===a?r.Buffer:void 0,s=(u?u.isBuffer:void 0)||i;e.exports=s},8111:function(e,t,n){var r=n(1848);e.exports=function(e,t){return r(e,t)}},4786:function(e,t,n){var r=n(9066),i=n(8092);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},4635:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},8092:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},3141:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},9102:function(e,t,n){var r=n(8150),i=n(6194),a=n(9494),o=a&&a.isTypedArray,u=o?i(o):r;e.exports=u},2742:function(e,t,n){var r=n(7538),i=n(3654),a=n(1473);e.exports=function(e){return a(e)?r(e):i(e)}},8174:function(e){e.exports=function(){return[]}},9488:function(e){e.exports=function(){return!1}},888:function(e,t,n){"use strict";var r=n(9047);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4501:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,k=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.isFragment=function(e){return w(e)===a},t.isMemo=function(e){return w(e)===v}},3873:function(e,t,n){"use strict";e.exports=n(4501)},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var L,F=Object.assign;function j(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var V=!1;function U(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function z(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case x:return"Portal";case S:return"Profiler";case _:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ee=null,_e=null;function Se(e){if(e=bi(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ie(e){Ee?_e?_e.push(e):_e=[e]:Ee=e}function Te(){if(Ee){var e=Ee,t=_e;if(_e=Ee=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ce(e,t){return e(t)}function Ne(){}var Ae=!1;function Oe(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ce(e,t,n)}finally{Ae=!1,(null!==Ee||null!==_e)&&(Ne(),Te())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Re=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Re=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Re=!1}function Me(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Le=!1,Fe=null,je=!1,Ve=null,Ue={onError:function(e){Le=!0,Fe=e}};function ze(e,t,n,r,i,a,o,u,s){Le=!1,Fe=null,Me.apply(Ue,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Be(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,$e=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,Et,_t,St,It=!1,Tt=[],Ct=null,Nt=null,At=null,Ot=new Map,Pt=new Map,Rt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void St(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function Vt(e,t,n){jt(e)&&n.delete(t)}function Ut(){It=!1,null!==Ct&&jt(Ct)&&(Ct=null),null!==Nt&&jt(Nt)&&(Nt=null),null!==At&&jt(At)&&(At=null),Ot.forEach(Vt),Pt.forEach(Vt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function Bt(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==Nt&&zt(Nt,e),null!==At&&zt(At,e),Ot.forEach(t),Pt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Rt.shift()}var qt=k.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,qt.transition=a}}function Kt(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,qt.transition=a}}function Gt(e,t,n,r){if(Ht){var i=Qt(e,t,n,r);if(null===i)Hr(e,t,r,$t,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Lt(Ct,e,t,n,r,i),!0;case"dragenter":return Nt=Lt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Lt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ot.set(a,Lt(Ot.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,Lt(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&wt(a),null===(a=Qt(e,t,n,r))&&Hr(e,t,r,$t,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var $t=null;function Qt(e,t,n,r){if($t=null,null!==(e=gi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $t=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(gn),kn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Sn(){return _n}var In=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(In),Cn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),An=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(On),Rn=[9,13,27,32],Dn=l&&"CompositionEvent"in window,Mn=null;l&&"documentMode"in document&&(Mn=document.documentMode);var Ln=l&&"TextEvent"in window&&!Mn,Fn=l&&(!Dn||Mn&&8<Mn&&11>=Mn),jn=String.fromCharCode(32),Vn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ie(r),0<(t=Kr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function $n(e){jr(e,0)}function Qn(e){if(G(ki(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Qn(Gn)){var t=[];Wn(t,Gn,e,we(e)),Oe($n,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Gn)}function ar(e,t){if("click"===e)return Qn(t)}function or(e,t){if("input"===e||"change"===e)return Qn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,br=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==$(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Er={},_r={};function Sr(e){if(Er[e])return Er[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return Er[e]=n[t];return e}l&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Ir=Sr("animationend"),Tr=Sr("animationiteration"),Cr=Sr("animationstart"),Nr=Sr("transitionend"),Ar=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Ar.set(e,t),s(t,[e])}for(var Rr=0;Rr<Or.length;Rr++){var Dr=Or[Rr];Pr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Pr(Ir,"onAnimationEnd"),Pr(Tr,"onAnimationIteration"),Pr(Cr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(ze.apply(this,arguments),Le){if(!Le)throw Error(a(198));var l=Fe;Le=!1,Fe=null,je||(je=!0,Ve=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(je)throw e=Ve,je=!1,Ve=null,e}function Vr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Ur("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Wt;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Oe((function(){var r=a,i=we(n),o=[];e:{var u=Ar.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Nn;break;case Ir:case Tr:case Cr:s=yn;break;case Nr:s=An;break;case"scroll":s=hn;break;case"wheel":s=Pn;break;case"copy":case"cut":case"paste":s=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Pe(p,h))&&l.push(Wr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===ke||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:ki(s),d=null==c?u:ki(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Gr(d))p++;for(d=0,v=h;v;v=Gr(v))d++;for(;0<p-d;)l=Gr(l),p--;for(;0<d-p;)h=Gr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Gr(l),h=Gr(h)}l=null}else l=null;null!==s&&$r(o,u,s,l,!1),null!==c&&null!==f&&$r(o,f,c,l,!0)}if("select"===(s=(u=r?ki(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Yn;else if(Hn(u))if(Xn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Wn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?ki(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,kr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":kr(o,n,i)}var g;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(g=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Bn=!0)),0<(y=Kr(r,b)).length&&(b=new kn(b,e,null,n,i),o.push({event:b,listeners:y}),g?b.data=g:null!==(g=zn(n))&&(b.data=g))),(g=Ln?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Vn=!0,jn);case"textInput":return(e=t.data)===jn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&Un(e,t)?(e=en(),Zt=Jt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}jr(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=Pe(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function $r(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Pe(n,a))&&o.unshift(Wr(n,s,u)):i||null!=(s=Pe(n,a))&&o.push(Wr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Qr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ki(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],Ei=-1;function _i(e){return{current:e}}function Si(e){0>Ei||(e.current=xi[Ei],xi[Ei]=null,Ei--)}function Ii(e,t){Ei++,xi[Ei]=e.current,e.current=t}var Ti={},Ci=_i(Ti),Ni=_i(!1),Ai=Ti;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Si(Ni),Si(Ci)}function Di(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Ii(Ci,t),Ii(Ni,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ai=Ci.current,Ii(Ci,e),Ii(Ni,Ni.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Mi(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Si(Ni),Si(Ci),Ii(Ci,e)):Si(Ni),Ii(Ni,n)}var ji=null,Vi=!1,Ui=!1;function zi(e){null===ji?ji=[e]:ji.push(e)}function Bi(){if(!Ui&&null!==ji){Ui=!0;var e=0,t=bt;try{var n=ji;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Vi=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ge(Ze,Bi),i}finally{bt=t,Ui=!1}}return null}var qi=[],Hi=0,Wi=null,Ki=0,Gi=[],$i=0,Qi=null,Yi=1,Xi="";function Ji(e,t){qi[Hi++]=Ki,qi[Hi++]=Wi,Wi=e,Ki=t}function Zi(e,t,n){Gi[$i++]=Yi,Gi[$i++]=Xi,Gi[$i++]=Qi,Qi=e;var r=Yi;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else Yi=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Wi;)Wi=qi[--Hi],qi[Hi]=null,Ki=qi[--Hi],qi[Hi]=null;for(;e===Qi;)Qi=Gi[--$i],Gi[$i]=null,Xi=Gi[--$i],Gi[$i]=null,Yi=Gi[--$i],Gi[$i]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=k.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=_i(null),ga=null,ba=null,ka=null;function wa(){ka=ba=ga=null}function xa(e){var t=ya.current;Si(ya),e._currentValue=t}function Ea(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _a(e,t){ga=e,ka=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ku=!0),e.firstContext=null)}function Sa(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===ga)throw Error(a(308));ba=e,ga.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var Ia=null;function Ta(e){null===Ia?Ia=[e]:Ia.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Na(e,r)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Aa=!1;function Oa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ra(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cs)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Na(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Na(e,n)}function Ma(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function La(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Aa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Aa=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ls|=o,e.lanes=o,e.memoizedState=f}}function ja(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Va=(new r.Component).refs;function Ua(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Ra(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(nc(t,e,i,r),Ma(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Ra(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(nc(t,e,i,r),Ma(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Ra(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Da(e,i,r))&&(nc(t,e,r,n),Ma(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Sa(a):(i=Pi(t)?Ai:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ha(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Va,Oa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Sa(a):(a=Pi(t)?Ai:Ci.current,i.context=Oi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ua(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ka(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Va&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $a(e){return(0,e._init)(e._payload)}function Qa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===E?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&$a(a)===t.type)?((r=i(t,n.props)).ref=Ka(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=Ka(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=Ka(e,null,t),n.return=e,n;case x:return(t=jc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case P:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:f(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return f(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),ia&&Ji(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Ji(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}function m(i,u,s,c){var l=M(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var b=d(i,v,g.value,c);if(null===b){null===v&&(v=y);break}e&&v&&null===b.alternate&&t(i,v),u=o(b,u,m),null===f?l=b:f.sibling=b,f=b,v=y}if(g.done)return n(i,v),ia&&Ji(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return ia&&Ji(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===E&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===E){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&$a(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ka(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===E?((a=Mc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Dc(o.type,o.key,o.props,null,r.mode,s)).ref=Ka(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=jc(o,r.mode,s)).return=r,r=a}return u(r);case P:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(M(o))return m(r,a,o,s);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Ya=Qa(!0),Xa=Qa(!1),Ja={},Za=_i(Ja),eo=_i(Ja),to=_i(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Ii(to,t),Ii(eo,e),Ii(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(Za),Ii(Za,t)}function io(){Si(Za),Si(eo),Si(to)}function ao(e){no(to.current);var t=no(Za.current),n=se(t,e.type);t!==n&&(Ii(eo,e),Ii(Za,n))}function oo(e){eo.current===e&&(Si(Za),Si(eo))}var uo=_i(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=k.ReactCurrentDispatcher,ho=k.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,bo=!1,ko=0,wo=0;function xo(){throw Error(a(321))}function Eo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function _o(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),bo){o=0;do{if(bo=!1,ko=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(bo)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function So(){var e=0!==ko;return ko=0,e}function Io(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,Ls|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(ku=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Ls|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(ku=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Oo(){}function Po(e,t){var n=vo,r=To(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,ku=!0),r=r.queue,Ho(Mo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Vo(9,Do.bind(null,n,r,i,t),void 0,null),null===Ns)throw Error(a(349));0!==(30&po)||Ro(n,t,i)}return i}function Ro(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,Lo(t)&&Fo(e)}function Mo(e,t,n){return n((function(){Lo(t)&&Fo(e)}))}function Lo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Fo(e){var t=Na(e,1);null!==t&&nc(t,e,1,-1)}function jo(e){var t=Io();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function Vo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Uo(){return To().memoizedState}function zo(e,t,n,r){var i=Io();vo.flags|=e,i.memoizedState=Vo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&Eo(r,o.deps))return void(i.memoizedState=Vo(t,n,a,r))}vo.flags|=e,i.memoizedState=Vo(1|t,n,a,r)}function qo(e,t){return zo(8390656,8,e,t)}function Ho(e,t){return Bo(2048,8,e,t)}function Wo(e,t){return Bo(4,2,e,t)}function Ko(e,t){return Bo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function $o(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Go.bind(null,t,e),n)}function Qo(){}function Yo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ku=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Ls|=n,e.baseState=!0),t)}function Zo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{bt=n,ho.transition=r}}function eu(){return To().memoizedState}function tu(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){nc(n,e,r,ec()),au(n,t,r)}}function nu(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(nc(n,e,r,i=ec()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){bo=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Sa,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},uu={readContext:Sa,useCallback:function(e,t){return Io().memoizedState=[e,void 0===t?null:t],e},useContext:Sa,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=Io();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Io();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Io().memoizedState=e},useState:jo,useDebugValue:Qo,useDeferredValue:function(e){return Io().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=Zo.bind(null,e[1]),Io().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Io();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ns)throw Error(a(349));0!==(30&po)||Ro(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Mo.bind(null,r,o,e),[e]),r.flags|=2048,Vo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Io(),t=Ns.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=ko++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Sa,useCallback:Yo,useContext:Sa,useEffect:Ho,useImperativeHandle:$o,useInsertionEffect:Wo,useLayoutEffect:Ko,useMemo:Xo,useReducer:No,useRef:Uo,useState:function(){return No(Co)},useDebugValue:Qo,useDeferredValue:function(e){return Jo(To(),mo.memoizedState,e)},useTransition:function(){return[No(Co)[0],To().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Sa,useCallback:Yo,useContext:Sa,useEffect:Ho,useImperativeHandle:$o,useInsertionEffect:Wo,useLayoutEffect:Ko,useMemo:Xo,useReducer:Ao,useRef:Uo,useState:function(){return Ao(Co)},useDebugValue:Qo,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],To().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Ra(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hs||(Hs=!0,Ws=r),hu(0,t)},n}function vu(e,t,n){(n=Ra(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Ks?Ks=new Set([this]):Ks.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ra(-1,1)).tag=2,Da(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bu=k.ReactCurrentOwner,ku=!1;function wu(e,t,n,r){t.child=null===e?Xa(t,null,n,r):Ya(t,e.child,n,r)}function xu(e,t,n,r,i){n=n.render;var a=t.ref;return _a(t,i),r=_o(e,t,n,r,a,i),n=So(),null===e||ku?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hu(e,t,i))}function Eu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Pc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,_u(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Hu(e,t,i)}return t.flags|=1,(e=Rc(a,r)).ref=t.ref,e.return=t,t.child=e}function _u(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(ku=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Hu(e,t,i);0!==(131072&e.flags)&&(ku=!0)}}return Tu(e,t,n,r,i)}function Su(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ii(Rs,Ps),Ps|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ii(Rs,Ps),Ps|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ii(Rs,Ps),Ps|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ii(Rs,Ps),Ps|=r;return wu(e,t,i,n),t.child}function Iu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=Pi(n)?Ai:Ci.current;return a=Oi(t,a),_a(t,i),n=_o(e,t,n,r,a,i),r=So(),null===e||ku?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hu(e,t,i))}function Cu(e,t,n,r,i){if(Pi(n)){var a=!0;Li(t)}else a=!1;if(_a(t,i),null===t.stateNode)qu(e,t),qa(t,n,r),Wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Sa(c):c=Oi(t,c=Pi(n)?Ai:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Ha(t,o,r,c),Aa=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ni.current||Aa?("function"===typeof l&&(Ua(t,n,l,r),s=t.memoizedState),(u=Aa||Ba(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Pa(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Sa(s):s=Oi(t,s=Pi(n)?Ai:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Ha(t,o,r,s),Aa=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ni.current||Aa?("function"===typeof d&&(Ua(t,n,d,r),p=t.memoizedState),(c=Aa||Ba(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Nu(e,t,n,r,a,i)}function Nu(e,t,n,r,i,a){Iu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Hu(e,t,a);r=t.stateNode,bu.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ya(t,e.child,null,a),t.child=Ya(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Au(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ro(e,t.containerInfo)}function Ou(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Pu,Ru,Du,Mu={dehydrated:null,treeContext:null,retryLane:0};function Lu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ii(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Lc(s,i,0,null),e=Mc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Lu(n),t.memoizedState=Mu,e):ju(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Vu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Lc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ya(t,e.child,null,u),t.child.memoizedState=Lu(u),t.memoizedState=Mu,o);if(0===(1&t.mode))return Vu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Vu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),ku||s){if(null!==(r=Ns)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Na(e,i),nc(r,e,i,-1))}return vc(),Vu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[$i++]=Yi,Gi[$i++]=Xi,Gi[$i++]=Qi,Yi=e.id,Xi=e.overflow,Qi=t),(t=ju(t,r.children)).flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Rc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Rc(r,u):(u=Mc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Lu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Mu,i}return e=(u=e.child).sibling,i=Rc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function ju(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vu(e,t,n,r){return null!==r&&pa(r),Ya(t,e.child,null,n),(e=ju(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Uu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ea(e.return,t,n)}function zu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Bu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Uu(e,n,t);else if(19===e.tag)Uu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ii(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zu(t,!0,n,null,a);break;case"together":zu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ls|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ku(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ku(t),null;case 1:case 17:return Pi(t.type)&&Ri(),Ku(t),null;case 3:return r=t.stateNode,io(),Si(Ni),Si(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Ku(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ru(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ku(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Vr(Mr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":Y(r,o),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Vr("invalid",r);break;case"textarea":ie(r,o),Vr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Vr("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Pu(e,t),t.stateNode=e;e:{switch(s=be(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Vr(Mr[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":Y(e,r),i=Q(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Vr("scroll",e):null!=l&&b(e,o,l,s))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ku(t),null;case 6:if(e&&null!=t.stateNode)Du(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ku(t),null;case 13:if(Si(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ku(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ds&&(Ds=3):vc())),null!==t.updateQueue&&(t.flags|=4),Ku(t),null);case 4:return io(),null===e&&Br(t.stateNode.containerInfo),Ku(t),null;case 10:return xa(t.type._context),Ku(t),null;case 19:if(Si(uo),null===(o=t.memoizedState))return Ku(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Wu(o,!1);else{if(0!==Ds||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Wu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ii(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>Bs&&(t.flags|=128,r=!0,Wu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Ku(t),null}else 2*Xe()-o.renderingStartTime>Bs&&1073741824!==n&&(t.flags|=128,r=!0,Wu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=uo.current,Ii(uo,r?1&n|2:1&n),t):(Ku(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ps)&&(Ku(t),6&t.subtreeFlags&&(t.flags|=8192)):Ku(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function $u(e,t){switch(ta(t),t.tag){case 1:return Pi(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Si(Ni),Si(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Si(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(uo),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Pu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ru=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Vr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Du=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qu=!1,Yu=!1,Xu="function"===typeof WeakSet?WeakSet:Set,Ju=null;function Zu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){_c(e,t,r)}else n.current=null}function es(e,t,n){try{n()}catch(r){_c(e,t,r)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&es(t,n,a)}i=i.next}while(i!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function as(e){var t=e.alternate;null!==t&&(e.alternate=null,as(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function os(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||os(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}var ls=null,fs=!1;function hs(e,t,n){for(n=n.child;null!==n;)ds(e,t,n),n=n.sibling}function ds(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Yu||Zu(n,t);case 6:var r=ls,i=fs;ls=null,hs(e,t,n),fs=i,null!==(ls=r)&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ls.removeChild(n.stateNode));break;case 18:null!==ls&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),Bt(e)):si(ls,n.stateNode));break;case 4:r=ls,i=fs,ls=n.stateNode.containerInfo,fs=!0,hs(e,t,n),ls=r,fs=i;break;case 0:case 11:case 14:case 15:if(!Yu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&es(n,t,o),i=i.next}while(i!==r)}hs(e,t,n);break;case 1:if(!Yu&&(Zu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){_c(n,t,u)}hs(e,t,n);break;case 21:hs(e,t,n);break;case 22:1&n.mode?(Yu=(r=Yu)||null!==n.memoizedState,hs(e,t,n),Yu=r):hs(e,t,n);break;default:hs(e,t,n)}}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xu),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:ls=s.stateNode,fs=!1;break e;case 3:case 4:ls=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===ls)throw Error(a(160));ds(o,u,i),ls=null,fs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){_c(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ms(t,e),t=t.sibling}function ms(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vs(t,e),ys(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(m){_c(e,e.return,m)}try{ns(5,e,e.return)}catch(m){_c(e,e.return,m)}}break;case 1:vs(t,e),ys(e),512&r&&null!==n&&Zu(n,n.return);break;case 5:if(vs(t,e),ys(e),512&r&&null!==n&&Zu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){_c(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&X(i,o),be(s,u);var l=be(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):b(i,f,h,l)}switch(s){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){_c(e,e.return,m)}}break;case 6:if(vs(t,e),ys(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){_c(e,e.return,m)}}break;case 3:if(vs(t,e),ys(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){_c(e,e.return,m)}break;case 4:default:vs(t,e),ys(e);break;case 13:vs(t,e),ys(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zs=Xe())),4&r&&ps(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Yu=(l=Yu)||f,vs(t,e),Yu=l):vs(t,e),ys(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Ju=e,f=e.child;null!==f;){for(h=Ju=f;null!==Ju;){switch(p=(d=Ju).child,d.tag){case 0:case 11:case 14:case 15:ns(4,d,d.return);break;case 1:Zu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){_c(r,n,m)}}break;case 5:Zu(d,d.return);break;case 22:if(null!==d.memoizedState){ws(h);continue}}null!==p?(p.return=d,Ju=p):ws(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){_c(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){_c(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vs(t,e),ys(e),4&r&&ps(e);case 21:}}function ys(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(os(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cs(e,us(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ss(e,us(e),o);break;default:throw Error(a(161))}}catch(u){_c(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gs(e,t,n){Ju=e,bs(e,t,n)}function bs(e,t,n){for(var r=0!==(1&e.mode);null!==Ju;){var i=Ju,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Qu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Yu;u=Qu;var c=Yu;if(Qu=o,(Yu=s)&&!c)for(Ju=i;null!==Ju;)s=(o=Ju).child,22===o.tag&&null!==o.memoizedState?xs(i):null!==s?(s.return=o,Ju=s):xs(i);for(;null!==a;)Ju=a,bs(a,t,n),a=a.sibling;Ju=i,Qu=u,Yu=c}ks(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Ju=a):ks(e)}}function ks(e){for(;null!==Ju;){var t=Ju;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yu||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Yu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ja(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ja(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}Yu||512&t.flags&&is(t)}catch(d){_c(t,t.return,d)}}if(t===e){Ju=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ju=n;break}Ju=t.return}}function ws(e){for(;null!==Ju;){var t=Ju;if(t===e){Ju=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ju=n;break}Ju=t.return}}function xs(e){for(;null!==Ju;){var t=Ju;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(s){_c(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){_c(t,i,s)}}var a=t.return;try{is(t)}catch(s){_c(t,a,s)}break;case 5:var o=t.return;try{is(t)}catch(s){_c(t,o,s)}}}catch(s){_c(t,t.return,s)}if(t===e){Ju=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Ju=u;break}Ju=t.return}}var Es,_s=Math.ceil,Ss=k.ReactCurrentDispatcher,Is=k.ReactCurrentOwner,Ts=k.ReactCurrentBatchConfig,Cs=0,Ns=null,As=null,Os=0,Ps=0,Rs=_i(0),Ds=0,Ms=null,Ls=0,Fs=0,js=0,Vs=null,Us=null,zs=0,Bs=1/0,qs=null,Hs=!1,Ws=null,Ks=null,Gs=!1,$s=null,Qs=0,Ys=0,Xs=null,Js=-1,Zs=0;function ec(){return 0!==(6&Cs)?Xe():-1!==Js?Js:Js=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cs)&&0!==Os?Os&-Os:null!==va.transition?(0===Zs&&(Zs=vt()),Zs):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,r){if(50<Ys)throw Ys=0,Xs=null,Error(a(185));yt(e,n,r),0!==(2&Cs)&&e===Ns||(e===Ns&&(0===(2&Cs)&&(Fs|=n),4===Ds&&uc(e,Os)),rc(e,r),1===n&&0===Cs&&0===(1&t.mode)&&(Bs=Xe()+500,Vi&&Bi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===Ns?Os:0);if(0===r)null!==n&&$e(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&$e(n),1===t)0===e.tag?function(e){Vi=!0,zi(e)}(sc.bind(null,e)):zi(sc.bind(null,e)),oi((function(){0===(6&Cs)&&Bi()})),n=null;else{switch(kt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Js=-1,Zs=0,0!==(6&Cs))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===Ns?Os:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Cs;Cs|=2;var o=pc();for(Ns===e&&Os===t||(qs=null,Bs=Xe()+500,hc(e,t));;)try{gc();break}catch(s){dc(e,s)}wa(),Ss.current=o,Cs=i,null!==As?t=0:(Ns=null,Os=0,t=Ds)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ms,hc(e,0),uc(e,r),rc(e,Xe()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Ms,hc(e,0),uc(e,r),rc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Us,qs);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=zs+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Us,qs),t);break}wc(e,Us,qs);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_s(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Us,qs),r);break}wc(e,Us,qs);break;default:throw Error(a(329))}}}return rc(e,Xe()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Vs;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Us,Us=n,null!==t&&oc(t)),e}function oc(e){null===Us?Us=e:Us.push.apply(Us,e)}function uc(e,t){for(t&=~js,t&=~Fs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(0!==(6&Cs))throw Error(a(327));xc();var t=ht(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ms,hc(e,0),uc(e,t),rc(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Us,qs),rc(e,Xe()),null}function cc(e,t){var n=Cs;Cs|=1;try{return e(t)}finally{0===(Cs=n)&&(Bs=Xe()+500,Vi&&Bi())}}function lc(e){null!==$s&&0===$s.tag&&0===(6&Cs)&&xc();var t=Cs;Cs|=1;var n=Ts.transition,r=bt;try{if(Ts.transition=null,bt=1,e)return e()}finally{bt=r,Ts.transition=n,0===(6&(Cs=t))&&Bi()}}function fc(){Ps=Rs.current,Si(Rs)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==As)for(n=As.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:io(),Si(Ni),Si(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Si(uo);break;case 10:xa(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Ns=e,As=e=Rc(e.current,null),Os=Ps=t,Ds=0,Ms=null,js=Fs=Ls=0,Us=Vs=null,null!==Ia){for(t=0;t<Ia.length;t++)if(null!==(r=(n=Ia[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ia=null}return e}function dc(e,t){for(;;){var n=As;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,bo=!1,ko=0,Is.current=null,null===n||null===n.return){Ds=1,Ms=t,As=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Os,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Ds&&(Ds=2),null===Vs?Vs=[o]:Vs.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,La(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Ks||!Ks.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,La(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}kc(n)}catch(k){t=k,As===n&&null!==n&&(As=n=n.return);continue}break}}function pc(){var e=Ss.current;return Ss.current=ou,null===e?ou:e}function vc(){0!==Ds&&3!==Ds&&2!==Ds||(Ds=4),null===Ns||0===(268435455&Ls)&&0===(268435455&Fs)||uc(Ns,Os)}function mc(e,t){var n=Cs;Cs|=2;var r=pc();for(Ns===e&&Os===t||(qs=null,hc(e,t));;)try{yc();break}catch(i){dc(e,i)}if(wa(),Cs=n,Ss.current=r,null!==As)throw Error(a(261));return Ns=null,Os=0,Ds}function yc(){for(;null!==As;)bc(As)}function gc(){for(;null!==As&&!Qe();)bc(As)}function bc(e){var t=Es(e.alternate,e,Ps);e.memoizedProps=e.pendingProps,null===t?kc(e):As=t,Is.current=null}function kc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gu(n,t,Ps)))return void(As=n)}else{if(null!==(n=$u(n,t)))return n.flags&=32767,void(As=n);if(null===e)return Ds=6,void(As=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(As=t);As=t=e}while(null!==t);0===Ds&&(Ds=5)}function wc(e,t,n){var r=bt,i=Ts.transition;try{Ts.transition=null,bt=1,function(e,t,n,r){do{xc()}while(null!==$s);if(0!==(6&Cs))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ns&&(As=Ns=null,Os=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gs||(Gs=!0,Nc(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ts.transition,Ts.transition=null;var u=bt;bt=1;var s=Cs;Cs|=4,Is.current=null,function(e,t){if(ei=Ht,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Ju=t;null!==Ju;)if(e=(t=Ju).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ju=e;else for(;null!==Ju;){t=Ju;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=t.stateNode.containerInfo;1===k.nodeType?k.textContent="":9===k.nodeType&&k.documentElement&&k.removeChild(k.documentElement);break;default:throw Error(a(163))}}catch(w){_c(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Ju=e;break}Ju=t.return}v=ts,ts=!1}(e,n),ms(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,gs(n,e,i),Ye(),Cs=s,bt=u,Ts.transition=o}else e.current=n;if(Gs&&(Gs=!1,$s=e,Qs=i),0===(o=e.pendingLanes)&&(Ks=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Hs)throw Hs=!1,e=Ws,Ws=null,e;0!==(1&Qs)&&0!==e.tag&&xc(),0!==(1&(o=e.pendingLanes))?e===Xs?Ys++:(Ys=0,Xs=e):Ys=0,Bi()}(e,t,n,r)}finally{Ts.transition=i,bt=r}return null}function xc(){if(null!==$s){var e=kt(Qs),t=Ts.transition,n=bt;try{if(Ts.transition=null,bt=16>e?16:e,null===$s)var r=!1;else{if(e=$s,$s=null,Qs=0,0!==(6&Cs))throw Error(a(331));var i=Cs;for(Cs|=4,Ju=e.current;null!==Ju;){var o=Ju,u=o.child;if(0!==(16&Ju.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Ju=l;null!==Ju;){var f=Ju;switch(f.tag){case 0:case 11:case 15:ns(8,f,o)}var h=f.child;if(null!==h)h.return=f,Ju=h;else for(;null!==Ju;){var d=(f=Ju).sibling,p=f.return;if(as(f),f===l){Ju=null;break}if(null!==d){d.return=p,Ju=d;break}Ju=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Ju=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Ju=u;else e:for(;null!==Ju;){if(0!==(2048&(o=Ju).flags))switch(o.tag){case 0:case 11:case 15:ns(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Ju=g;break e}Ju=o.return}}var b=e.current;for(Ju=b;null!==Ju;){var k=(u=Ju).child;if(0!==(2064&u.subtreeFlags)&&null!==k)k.return=u,Ju=k;else e:for(u=b;null!==Ju;){if(0!==(2048&(s=Ju).flags))try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(x){_c(s,s.return,x)}if(s===u){Ju=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Ju=w;break e}Ju=s.return}}if(Cs=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{bt=n,Ts.transition=t}}return!1}function Ec(e,t,n){e=Da(e,t=pu(0,t=lu(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function _c(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ks||!Ks.has(r))){t=Da(t,e=vu(t,e=lu(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Ns===e&&(Os&n)===n&&(4===Ds||3===Ds&&(130023424&Os)===Os&&500>Xe()-zs?hc(e,0):js|=n),rc(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Na(e,t))&&(yt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ic(e,n)}function Nc(e,t){return Ge(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new Ac(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Pc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case E:return Mc(n.children,i,o,t);case _:u=8,i|=8;break;case S:return(e=Oc(12,n,t,2|i)).elementType=S,e.lanes=o,e;case N:return(e=Oc(13,n,t,i)).elementType=N,e.lanes=o,e;case A:return(e=Oc(19,n,t,i)).elementType=A,e.lanes=o,e;case R:return Lc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:u=10;break e;case T:u=9;break e;case C:u=11;break e;case O:u=14;break e;case P:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Oc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,i,a,o,u,s){return e=new Vc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Oc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oa(a),e}function zc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Bc(e){if(!e)return Ti;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Mi(e,n,t)}return t}function qc(e,t,n,r,i,a,o,u,s){return(e=Uc(n,r,!0,e,0,a,0,u,s)).context=Bc(null),n=e.current,(a=Ra(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Da(n,a,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function Hc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ra(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Da(i,t,o))&&(nc(e,i,o,a),Ma(e,i,o)),o}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}Es=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)ku=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ku=!1,function(e,t,n){switch(t.tag){case 3:Au(t),da();break;case 5:ao(t);break;case 1:Pi(t.type)&&Li(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ii(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ii(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fu(e,t,n):(Ii(uo,1&uo.current),null!==(e=Hu(e,t,n))?e.sibling:null);Ii(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ii(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Su(e,t,n)}return Hu(e,t,n)}(e,t,n);ku=0!==(131072&e.flags)}else ku=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qu(e,t),e=t.pendingProps;var i=Oi(t,Ci.current);_a(t,n),i=_o(null,t,r,e,i,n);var o=So();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(o=!0,Li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Oa(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Wa(t,r,e,n),t=Nu(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===O)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=Eu(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Au(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Pa(e,t),Fa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ou(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Ou(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Hu(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Iu(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ya(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ii(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ni.current){t=Hu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Ra(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Ea(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Ea(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,_a(t,n),r=r(i=Sa(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),Eu(e,t,r,i=ma(r.type,i),n);case 15:return _u(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),qu(e,t),t.tag=1,Pi(r)?(e=!0,Li(t)):e=!1,_a(t,n),qa(t,r,i),Wa(t,r,i,n),Nu(null,t,r,!0,e,n);case 19:return Bu(e,t,n);case 22:return Su(e,t,n)}throw Error(a(156,t.tag))};var $c="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Wc(o);u.call(e)}}Hc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Wc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Wc(s);u.call(e)}}var s=Uc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),lc((function(){Hc(t,s,n,r)})),s}(n,t,e,i,r);return Wc(o)}Yc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Hc(e,t,null,null)},Yc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Hc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Xe()),0===(6&Cs)&&(Bs=Xe()+500,Bi()))}break;case 13:lc((function(){var t=Na(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Gc(e,1)}},xt=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)nc(t,e,134217728,ec());Gc(e,134217728)}},Et=function(e){if(13===e.tag){var t=tc(e),n=Na(e,t);if(null!==n)nc(n,e,t,ec());Gc(e,t)}},_t=function(){return bt},St=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));G(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Ne=lc;var tl={usingClientEntryPoint:!1,Events:[bi,ki,wi,Ie,Te,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return zc(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=$c;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=$c;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},8583:function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},371:function(e,t,n){var r=n(8583);e.exports=d,e.exports.parse=a,e.exports.compile=function(e,t){return u(a(e,t),t)},e.exports.tokensToFunction=u,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e,t){for(var n,r=[],a=0,o=0,u="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],h=n[1],d=n.index;if(u+=e.slice(o,d),o=d+f.length,h)u+=h[1];else{var p=e[o],v=n[2],m=n[3],y=n[4],g=n[5],b=n[6],k=n[7];u&&(r.push(u),u="");var w=null!=v&&null!=p&&p!==v,x="+"===b||"*"===b,E="?"===b||"*"===b,_=n[2]||l,S=y||g;r.push({name:m||a++,prefix:v||"",delimiter:_,optional:E,repeat:x,partial:w,asterisk:!!k,pattern:S?c(S):k?".*":"[^"+s(_)+"]+?"})}}return o<e.length&&(u+=e.substr(o)),u&&r.push(u),r}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function u(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var a="",u=t||{},s=(i||{}).pretty?o:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var f,h=u[l.name];if(null==h){if(l.optional){l.partial&&(a+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(f=s(h[d]),!n[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");a+=(0===d?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):s(h),!n[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');a+=l.prefix+f}}else a+=l}return a}}function s(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,a=!1!==n.end,o="",u=0;u<e.length;u++){var c=e[u];if("string"===typeof c)o+=s(c);else{var h=s(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+h+d+")*"),o+=d=c.optional?c.partial?h+"("+d+")?":"(?:"+h+"("+d+"))?":h+"("+d+")"}}var p=s(n.delimiter||"/"),v=o.slice(-p.length)===p;return i||(o=(v?o.slice(0,-p.length):o)+"(?:"+p+"(?=$))?"),o+=a?"$":i&&v?"":"(?="+p+"|$)",l(new RegExp("^"+o,f(n)),t)}function d(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(d(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return h(a(e,n),t,n)}(e,t,n)}},7161:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,k=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}},7810:function(e,t,n){"use strict";n(7161)},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.jsx=c,t.jsxs=c},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var k=b.prototype=new g;k.constructor=b,v(k,y.prototype),k.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,E={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!_.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:E.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=N(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=N(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},R={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:R,ReactCurrentOwner:E};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=E.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!_.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,k(e),!v)if(null!==r(c))v=!0,R(x);else{var t=r(l);null!==t&&D(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(I),I=-1),p=!0;var a=d;try{for(k(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),k(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&D(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,_=!1,S=null,I=-1,T=5,C=-1;function N(){return!(t.unstable_now()-C<T)}function A(){if(null!==S){var e=t.unstable_now();C=e;var n=!0;try{n=S(!0,e)}finally{n?E():(_=!1,S=null)}}else _=!1}if("function"===typeof b)E=function(){b(A)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,P=O.port2;O.port1.onmessage=A,E=function(){P.postMessage(null)}}else E=function(){y(A,0)};function R(e){S=e,_||(_=!0,E())}function D(e,n){I=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,R(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(I),I=-1):m=!0,D(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,R(x))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},9613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(t),s=0;s<a.length;s++){var c=a[s];if(!u(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r](a,a.exports,n),a.loaded=!0,a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".3dd5b190.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="eye-web:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var u,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=r),e[r]=[i];var h=function(t,n){u.onerror=u.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=h.bind(null,u.onerror),u.onload=h.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="/eye-web/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),u=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,i[1](u)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],u=r[1],s=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(s)s(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkeye_web=self.webpackChunkeye_web||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Mo},SDK_VERSION:function(){return Bu},_DEFAULT_ENTRY_NAME:function(){return Nu},_addComponent:function(){return Ru},_addOrOverwriteComponent:function(){return Du},_apps:function(){return Ou},_clearComponents:function(){return ju},_components:function(){return Pu},_getProvider:function(){return Lu},_registerComponent:function(){return Mu},_removeServiceInstance:function(){return Fu},deleteApp:function(){return Ku},getApp:function(){return Hu},getApps:function(){return Wu},initializeApp:function(){return qu},onLog:function(){return Qu},registerVersion:function(){return $u},setLogLevel:function(){return Yu}});var t=n(2791),r=n(1250);function i(e){if(Array.isArray(e))return e}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){return i(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||o(e,t)||u()}var c={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},l=t.createContext&&t.createContext(c),f=function(){return f=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},f.apply(this,arguments)},h=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function d(e){return e&&e.map((function(e,n){return t.createElement(e.tag,f({key:n},e.attr),d(e.child))}))}function p(e){return function(n){return t.createElement(v,f({attr:f({},e.attr)},n),d(e.child))}}function v(e){var n=function(n){var r,i=e.attr,a=e.size,o=e.title,u=h(e,["attr","size","title"]),s=a||n.size||"1em";return n.className&&(r=n.className),e.className&&(r=(r?r+" ":"")+e.className),t.createElement("svg",f({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,u,{className:r,style:f(f({color:e.color||n.color},n.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),o&&t.createElement("title",null,o),e.children)};return void 0!==l?t.createElement(l.Consumer,null,(function(e){return n(e)})):n(c)}function m(e){return p({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M511.6 76.3C264.3 76.2 64 276.4 64 523.5 64 718.9 189.3 885 363.8 946c23.5 5.9 19.9-10.8 19.9-22.2v-77.5c-135.7 15.9-141.2-73.9-150.3-88.9C215 726 171.5 718 184.5 703c30.9-15.9 62.4 4 98.9 57.9 26.4 39.1 77.9 32.5 104 26 5.7-23.5 17.9-44.5 34.7-60.8-140.6-25.2-199.2-111-199.2-213 0-49.5 16.3-95 48.3-131.7-20.4-60.5 1.9-112.3 4.9-120 58.1-5.2 118.5 41.6 123.2 45.3 33-8.9 70.7-13.6 112.9-13.6 42.4 0 80.2 4.9 113.5 13.9 11.3-8.6 67.3-48.8 121.3-43.9 2.9 7.7 24.7 58.3 5.5 118 32.4 36.8 48.9 82.7 48.9 132.3 0 102.2-59 188.1-200 212.9a127.5 127.5 0 0 1 38.1 91v112.5c.8 9 0 17.9 15 17.9 177.1-59.7 304.6-227 304.6-424.1 0-247.2-200.4-447.3-447.5-447.3z"}}]})(e)}function y(e){return p({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M880.1 154H143.9c-24.5 0-39.8 26.7-27.5 48L349 597.4V838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V597.4L907.7 202c12.2-21.3-3.1-48-27.6-48zM603.4 798H420.6V642h182.9v156zm9.6-236.6l-9.5 16.6h-183l-9.5-16.6L212.7 226h598.6L613 561.4z"}}]})(e)}function g(e){return p({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M881 442.4H519.7v148.5h206.4c-8.9 48-35.9 88.6-76.6 115.8-34.4 23-78.3 36.6-129.9 36.6-99.9 0-184.4-67.5-214.6-158.2-7.6-23-12-47.6-12-72.9s4.4-49.9 12-72.9c30.3-90.6 114.8-158.1 214.7-158.1 56.3 0 106.8 19.4 146.6 57.4l110-110.1c-66.5-62-153.2-100-256.6-100-149.9 0-279.6 86-342.7 211.4-26 51.8-40.8 110.4-40.8 172.4S151 632.8 177 684.6C240.1 810 369.8 896 519.7 896c103.6 0 190.4-34.4 253.8-93 72.5-66.8 114.4-165.2 114.4-282.1 0-27.2-2.4-53.3-6.9-78.5z"}}]})(e)}function b(e){return p({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0 0 11.6 0l43.6-43.5a8.2 8.2 0 0 0 0-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]})(e)}function k(e){return p({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M5 22h14c1.103 0 2-.897 2-2V9a1 1 0 0 0-1-1h-3V7c0-2.757-2.243-5-5-5S7 4.243 7 7v1H4a1 1 0 0 0-1 1v11c0 1.103.897 2 2 2zM9 7c0-1.654 1.346-3 3-3s3 1.346 3 3v1H9V7zm-4 3h2v2h2v-2h6v2h2v-2h2l.002 10H5V10z"}}]})(e)}function w(e,t){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},w(e,t)}function x(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,w(e,t)}function E(){return E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E.apply(this,arguments)}function _(e){return"/"===e.charAt(0)}function S(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var I=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],a=e&&_(e),o=t&&_(t),u=a||o;if(e&&_(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var s=i[i.length-1];n="."===s||".."===s||""===s}else n=!1;for(var c=0,l=i.length;l>=0;l--){var f=i[l];"."===f?S(i,l):".."===f?(S(i,l),c++):c&&(S(i,l),c--)}if(!u)for(;c--;c)i.unshift("..");!u||""===i[0]||i[0]&&_(i[0])||i.unshift("");var h=i.join("/");return n&&"/"!==h.substr(-1)&&(h+="/"),h},T="Invariant failed";function C(e,t){if(!e)throw new Error(T)}function N(e){return"/"===e.charAt(0)?e:"/"+e}function A(e){return"/"===e.charAt(0)?e.substr(1):e}function O(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function P(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function R(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function D(e,t,n,r){var i;"string"===typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=E({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(BP){throw BP instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):BP}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=I(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function M(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var a="function"===typeof e?e(t,n):e;"string"===typeof a?"function"===typeof r?r(a,i):i(!0):i(!1!==a)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var L=!("undefined"===typeof window||!window.document||!window.document.createElement);function F(e,t){t(window.confirm(e))}var j="popstate",V="hashchange";function U(){try{return window.history.state||{}}catch(BP){return{}}}function z(e){void 0===e&&(e={}),L||C(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,a=i.forceRefresh,o=void 0!==a&&a,u=i.getUserConfirmation,s=void 0===u?F:u,c=i.keyLength,l=void 0===c?6:c,f=e.basename?P(N(e.basename)):"";function h(e){var t=e||{},n=t.key,r=t.state,i=window.location,a=i.pathname+i.search+i.hash;return f&&(a=O(a,f)),D(a,r,n)}function d(){return Math.random().toString(36).substr(2,l)}var p=M();function v(e){E(A,e),A.length=t.length,p.notifyListeners(A.location,A.action)}function m(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||b(h(e.state))}function y(){b(h(U()))}var g=!1;function b(e){if(g)g=!1,v();else{p.confirmTransitionTo(e,"POP",s,(function(t){t?v({action:"POP",location:e}):function(e){var t=A.location,n=w.indexOf(t.key);-1===n&&(n=0);var r=w.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(g=!0,_(i))}(e)}))}}var k=h(U()),w=[k.key];function x(e){return f+R(e)}function _(e){t.go(e)}var S=0;function I(e){1===(S+=e)&&1===e?(window.addEventListener(j,m),r&&window.addEventListener(V,y)):0===S&&(window.removeEventListener(j,m),r&&window.removeEventListener(V,y))}var T=!1;var A={length:t.length,action:"POP",location:k,createHref:x,push:function(e,r){var i="PUSH",a=D(e,r,d(),A.location);p.confirmTransitionTo(a,i,s,(function(e){if(e){var r=x(a),u=a.key,s=a.state;if(n)if(t.pushState({key:u,state:s},null,r),o)window.location.href=r;else{var c=w.indexOf(A.location.key),l=w.slice(0,c+1);l.push(a.key),w=l,v({action:i,location:a})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",a=D(e,r,d(),A.location);p.confirmTransitionTo(a,i,s,(function(e){if(e){var r=x(a),u=a.key,s=a.state;if(n)if(t.replaceState({key:u,state:s},null,r),o)window.location.replace(r);else{var c=w.indexOf(A.location.key);-1!==c&&(w[c]=a.key),v({action:i,location:a})}else window.location.replace(r)}}))},go:_,goBack:function(){_(-1)},goForward:function(){_(1)},block:function(e){void 0===e&&(e=!1);var t=p.setPrompt(e);return T||(I(1),T=!0),function(){return T&&(T=!1,I(-1)),t()}},listen:function(e){var t=p.appendListener(e);return I(1),function(){I(-1),t()}}};return A}var B="hashchange",q={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+A(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:A,decodePath:N},slash:{encodePath:N,decodePath:N}};function H(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function W(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function K(e){window.location.replace(H(window.location.href)+"#"+e)}function G(e){void 0===e&&{},L||C(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,i=void 0===r?F:r,a=n.hashType,o=void 0===a?"slash":a,u=e.basename?P(N(e.basename)):"",s=q[o],c=s.encodePath,l=s.decodePath;function f(){var e=l(W());return u&&O(e,u),D(e)}var h=M();function d(e){E(I,e),I.length=t.length,h.notifyListeners(I.location,I.action)}var p=!1,v=null;function m(){var e,t,n=W(),r=c(n);if(n!==r)K(r);else{var a=f(),o=I.location;if(!p&&(a,o.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(v===R(a))return;null,function(e){if(p)!1,d();else{var t="POP";h.confirmTransitionTo(e,t,i,(function(n){n?d({action:t,location:e}):function(e){var t=I.location,n=k.lastIndexOf(R(t));-1===n&&0;var r=k.lastIndexOf(R(e));-1===r&&0;var i=n-r;i&&(!0,w(i))}(e)}))}}(a)}}var y=W(),g=c(y);y!==g&&K(g);var b=f(),k=[R(b)];function w(e){t.go(e)}var x=0;function _(e){1===(x+=e)&&1===e?window.addEventListener(B,m):0===x&&window.removeEventListener(B,m)}var S=!1;var I={length:t.length,action:"POP",location:b,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&H(window.location.href),n+"#"+c(u+R(e))},push:function(e,t){var n="PUSH",r=D(e,void 0,void 0,I.location);h.confirmTransitionTo(r,n,i,(function(e){if(e){var t=R(r),i=c(u+t);if(W()!==i){t,function(e){window.location.hash=e}(i);var a=k.lastIndexOf(R(I.location)),o=k.slice(0,a+1);o.push(t),o,d({action:n,location:r})}else d()}}))},replace:function(e,t){var n="REPLACE",r=D(e,void 0,void 0,I.location);h.confirmTransitionTo(r,n,i,(function(e){if(e){var t=R(r),i=c(u+t);W()!==i&&(t,K(i));var a=k.indexOf(R(I.location));-1!==a&&(k[a]=t),d({action:n,location:r})}}))},go:w,goBack:function(){w(-1)},goForward:function(){w(1)},block:function(e){void 0===e&&!1;var t=h.setPrompt(e);return S||(_(1),!0),function(){return S&&(!1,_(-1)),t()}},listen:function(e){var t=h.appendListener(e);return _(1),function(){_(-1),t()}}};return I}function $(e,t,n){return Math.min(Math.max(e,t),n)}function Q(e){void 0===e&&{};var t=e,n=t.getUserConfirmation,r=t.initialEntries,i=void 0===r?["/"]:r,a=t.initialIndex,o=void 0===a?0:a,u=t.keyLength,s=void 0===u?6:u,c=M();function l(e){E(m,e),m.length=m.entries.length,c.notifyListeners(m.location,m.action)}function f(){return Math.random().toString(36).substr(2,s)}var h=$(o,0,i.length-1),d=i.map((function(e){return D(e,void 0,"string"===typeof e?f():e.key||f())})),p=R;function v(e){var t=$(m.index+e,0,m.entries.length-1),r=m.entries[t];c.confirmTransitionTo(r,"POP",n,(function(e){e?l({action:"POP",location:r,index:t}):l()}))}var m={length:d.length,action:"POP",location:d[h],index:h,entries:d,createHref:p,push:function(e,t){var r="PUSH",i=D(e,t,f(),m.location);c.confirmTransitionTo(i,r,n,(function(e){if(e){var t=m.index+1,n=m.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),l({action:r,location:i,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",i=D(e,t,f(),m.location);c.confirmTransitionTo(i,r,n,(function(e){e&&(m.entries[m.index]=i,l({action:r,location:i}))}))},go:v,goBack:function(){v(-1)},goForward:function(){v(1)},canGo:function(e){var t=m.index+e;return t>=0&&t<m.entries.length},block:function(e){return void 0===e&&!1,c.setPrompt(e)},listen:function(e){return c.appendListener(e)}};return m}var Y=n(2007),X=n.n(Y),J=1073741823,Z="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};function ee(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var te=t.createContext||function(e,n){var r,i,a="__create-react-context-"+function(){var e="__global_unique_id__";return Z[e]=(Z[e]||0)+1}()+"__",o=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).emitter=ee(t.props.value),t}x(t,e);var r=t.prototype;return r.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,r=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(r,i)?(t="function"===typeof n?n(r,i):J,0!==(t|=0)&&this.emitter.set(e.value,t)):t=0}},r.render=function(){return this.props.children},t}(t.Component);o.childContextTypes=((r={})[a]=X().object.isRequired,r);var u=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}x(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?J:t},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?J:e},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(t.Component);return u.contextTypes=((i={})[a]=X().object,i),{Provider:o,Consumer:u}},ne=te,re=n(371),ie=n.n(re);n(7810);function ae(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n(2110);var oe=function(e){var t=ne();return t.displayName=e,t},ue=oe("Router-History"),se=oe("Router"),ce=function(e){function n(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._pendingLocation=e}))),n}x(n,e),n.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=n.prototype;return r.componentDidMount=function(){var e=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen((function(t){e._isMounted&&e.setState({location:t})}))),this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},r.render=function(){return t.createElement(se.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},t.createElement(ue.Provider,{children:this.props.children||null,value:this.props.history}))},n}(t.Component);t.Component;t.Component;var le={},fe=0;function he(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,a=void 0!==i&&i,o=n.strict,u=void 0!==o&&o,s=n.sensitive,c=void 0!==s&&s;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=le[n]||(le[n]={});if(r[e])return r[e];var i=[],a={regexp:ie()(e,i,t),keys:i};return fe<1e4&&(r[e]=a,fe++),a}(n,{end:a,strict:u,sensitive:c}),i=r.regexp,o=r.keys,s=i.exec(e);if(!s)return null;var l=s[0],f=s.slice(1),h=e===l;return a&&!h?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:h,params:o.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}}),null)}var de=function(e){function n(){return e.apply(this,arguments)||this}return x(n,e),n.prototype.render=function(){var e=this;return t.createElement(se.Consumer,null,(function(n){n||C(!1);var r=e.props.location||n.location,i=E({},n,{location:r,match:e.props.computedMatch?e.props.computedMatch:e.props.path?he(r.pathname,e.props):n.match}),a=e.props,o=a.children,u=a.component,s=a.render;return Array.isArray(o)&&function(e){return 0===t.Children.count(e)}(o)&&(o=null),t.createElement(se.Provider,{value:i},i.match?o?"function"===typeof o?o(i):o:u?t.createElement(u,i):s?s(i):null:"function"===typeof o?o(i):null)}))},n}(t.Component);function pe(e){return"/"===e.charAt(0)?e:"/"+e}function ve(e,t){if(!e)return t;var n=pe(e);return 0!==t.pathname.indexOf(n)?t:E({},t,{pathname:t.pathname.substr(n.length)})}function me(e){return"string"===typeof e?e:R(e)}function ye(e){return function(){C(!1)}}function ge(){}t.Component;var be=function(e){function n(){return e.apply(this,arguments)||this}return x(n,e),n.prototype.render=function(){var e=this;return t.createElement(se.Consumer,null,(function(n){n||C(!1);var r,i,a=e.props.location||n.location;return t.Children.forEach(e.props.children,(function(e){if(null==i&&t.isValidElement(e)){r=e;var o=e.props.path||e.props.from;i=o?he(a.pathname,E({},e.props,{path:o})):n.match}})),i?t.cloneElement(r,{location:a,computedMatch:i}):null}))},n}(t.Component);var ke=t.useContext;function we(){return ke(ue)}function xe(){return ke(se).location}var Ee=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=z(t.props),t}return x(n,e),n.prototype.render=function(){return t.createElement(ce,{history:this.history,children:this.props.children})},n}(t.Component);t.Component;var _e=function(e,t){return"function"===typeof e?e(t):e},Se=function(e,t){return"string"===typeof e?D(e,null,null,t):e},Ie=function(e){return e},Te=t.forwardRef;"undefined"===typeof Te&&(Te=Ie);var Ce=Te((function(e,n){var r=e.innerRef,i=e.navigate,a=e.onClick,o=ae(e,["innerRef","navigate","onClick"]),u=o.target,s=E({},o,{onClick:function(e){try{a&&a(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||u&&"_self"!==u||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),i())}});return s.ref=Ie!==Te&&n||r,t.createElement("a",s)}));var Ne=Te((function(e,n){var r=e.component,i=void 0===r?Ce:r,a=e.replace,o=e.to,u=e.innerRef,s=ae(e,["component","replace","to","innerRef"]);return t.createElement(se.Consumer,null,(function(e){e||C(!1);var r=e.history,c=Se(_e(o,e.location),e.location),l=c?r.createHref(c):"",f=E({},s,{href:l,navigate:function(){var t=_e(o,e.location),n=R(e.location)===R(Se(t));(a||n?r.replace:r.push)(t)}});return Ie!==Te?f.ref=n||u:f.innerRef=u,t.createElement(i,f)}))})),Ae=function(e){return e},Oe=t.forwardRef;"undefined"===typeof Oe&&(Oe=Ae);Oe((function(e,n){var r=e["aria-current"],i=void 0===r?"page":r,a=e.activeClassName,o=void 0===a?"active":a,u=e.activeStyle,s=e.className,c=e.exact,l=e.isActive,f=e.location,h=e.sensitive,d=e.strict,p=e.style,v=e.to,m=e.innerRef,y=ae(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return t.createElement(se.Consumer,null,(function(e){e||C(!1);var r=f||e.location,a=Se(_e(v,r),r),g=a.pathname,b=g&&g.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),k=b?he(r.pathname,{path:b,exact:c,sensitive:h,strict:d}):null,w=!!(l?l(k,r):k),x="function"===typeof s?s(w):s,_="function"===typeof p?p(w):p;w&&(x=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(x,o),_=E({},_,u));var S=E({"aria-current":w&&i||null,className:x,style:_,to:a},y);return Ae!==Oe?S.ref=n||m:S.innerRef=m,t.createElement(Ne,S)}))}));function Pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function De(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){Pe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Me={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]},name:"close",theme:"outlined"};function Le(e,t){if(null==e)return{};var n,r,i=ae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Fe=n(1694),je=n.n(Fe),Ve=(0,t.createContext)({});function Ue(e){return Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ue(e)}function ze(e,t){(function(e){return"string"===typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"===typeof e&&-1!==e.indexOf("%")}(e);return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t))}function Be(e){return e<=1?"".concat(100*Number(e),"%"):e}function qe(e){return 1===e.length?"0"+e:String(e)}function He(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*n*(t-e):n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function We(e){return Ke(e)/255}function Ke(e){return parseInt(e,16)}var Ge={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function $e(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,a=null,o=!1,u=!1;return"string"===typeof e&&(e=function(e){if(0===(e=e.trim().toLowerCase()).length)return!1;var t=!1;if(Ge[e])e=Ge[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var n=Je.rgb.exec(e);if(n)return{r:n[1],g:n[2],b:n[3]};if(n=Je.rgba.exec(e))return{r:n[1],g:n[2],b:n[3],a:n[4]};if(n=Je.hsl.exec(e))return{h:n[1],s:n[2],l:n[3]};if(n=Je.hsla.exec(e))return{h:n[1],s:n[2],l:n[3],a:n[4]};if(n=Je.hsv.exec(e))return{h:n[1],s:n[2],v:n[3]};if(n=Je.hsva.exec(e))return{h:n[1],s:n[2],v:n[3],a:n[4]};if(n=Je.hex8.exec(e))return{r:Ke(n[1]),g:Ke(n[2]),b:Ke(n[3]),a:We(n[4]),format:t?"name":"hex8"};if(n=Je.hex6.exec(e))return{r:Ke(n[1]),g:Ke(n[2]),b:Ke(n[3]),format:t?"name":"hex"};if(n=Je.hex4.exec(e))return{r:Ke(n[1]+n[1]),g:Ke(n[2]+n[2]),b:Ke(n[3]+n[3]),a:We(n[4]+n[4]),format:t?"name":"hex8"};if(n=Je.hex3.exec(e))return{r:Ke(n[1]+n[1]),g:Ke(n[2]+n[2]),b:Ke(n[3]+n[3]),format:t?"name":"hex"};return!1}(e)),"object"===typeof e&&(Ze(e.r)&&Ze(e.g)&&Ze(e.b)?(t=function(e,t,n){return{r:255*ze(e,255),g:255*ze(t,255),b:255*ze(n,255)}}(e.r,e.g,e.b),o=!0,u="%"===String(e.r).substr(-1)?"prgb":"rgb"):Ze(e.h)&&Ze(e.s)&&Ze(e.v)?(r=Be(e.s),i=Be(e.v),t=function(e,t,n){e=6*ze(e,360),t=ze(t,100),n=ze(n,100);var r=Math.floor(e),i=e-r,a=n*(1-t),o=n*(1-i*t),u=n*(1-(1-i)*t),s=r%6;return{r:255*[n,o,a,a,u,n][s],g:255*[u,n,n,o,a,a][s],b:255*[a,a,u,n,n,o][s]}}(e.h,r,i),o=!0,u="hsv"):Ze(e.h)&&Ze(e.s)&&Ze(e.l)&&(r=Be(e.s),a=Be(e.l),t=function(e,t,n){var r,i,a;if(e=ze(e,360),t=ze(t,100),n=ze(n,100),0===t)i=n,a=n,r=n;else{var o=n<.5?n*(1+t):n+t-n*t,u=2*n-o;r=He(u,o,e+1/3),i=He(u,o,e),a=He(u,o,e-1/3)}return{r:255*r,g:255*i,b:255*a}}(e.h,r,a),o=!0,u="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(n=e.a)),n=function(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}(n),{ok:o,format:e.format||u,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}var Qe="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),Ye="[\\s|\\(]+(".concat(Qe,")[,|\\s]+(").concat(Qe,")[,|\\s]+(").concat(Qe,")\\s*\\)?"),Xe="[\\s|\\(]+(".concat(Qe,")[,|\\s]+(").concat(Qe,")[,|\\s]+(").concat(Qe,")[,|\\s]+(").concat(Qe,")\\s*\\)?"),Je={CSS_UNIT:new RegExp(Qe),rgb:new RegExp("rgb"+Ye),rgba:new RegExp("rgba"+Xe),hsl:new RegExp("hsl"+Ye),hsla:new RegExp("hsla"+Xe),hsv:new RegExp("hsv"+Ye),hsva:new RegExp("hsva"+Xe),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function Ze(e){return Boolean(Je.CSS_UNIT.exec(String(e)))}var et=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function tt(e){var t=function(e,t,n){e=ze(e,255),t=ze(t,255),n=ze(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),a=0,o=r,u=r-i,s=0===r?0:u/r;if(r===i)a=0;else{switch(r){case e:a=(t-n)/u+(t<n?6:0);break;case t:a=(n-e)/u+2;break;case n:a=(e-t)/u+4}a/=6}return{h:a,s:s,v:o}}(e.r,e.g,e.b);return{h:360*t.h,s:t.s,v:t.v}}function nt(e){var t=e.r,n=e.g,r=e.b;return"#".concat(function(e,t,n,r){var i=[qe(Math.round(e).toString(16)),qe(Math.round(t).toString(16)),qe(Math.round(n).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}(t,n,r,!1))}function rt(e,t,n){var r=n/100;return{r:(t.r-e.r)*r+e.r,g:(t.g-e.g)*r+e.g,b:(t.b-e.b)*r+e.b}}function it(e,t,n){var r;return(r=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-2*t:Math.round(e.h)+2*t:n?Math.round(e.h)+2*t:Math.round(e.h)-2*t)<0?r+=360:r>=360&&(r-=360),r}function at(e,t,n){return 0===e.h&&0===e.s?e.s:((r=n?e.s-.16*t:4===t?e.s+.16:e.s+.05*t)>1&&(r=1),n&&5===t&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2)));var r}function ot(e,t,n){var r;return(r=n?e.v+.05*t:e.v-.15*t)>1&&(r=1),Number(r.toFixed(2))}function ut(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=$e(e),i=5;i>0;i-=1){var a=tt(r),o=nt($e({h:it(a,i,!0),s:at(a,i,!0),v:ot(a,i,!0)}));n.push(o)}n.push(nt(r));for(var u=1;u<=4;u+=1){var s=tt(r),c=nt($e({h:it(s,u),s:at(s,u),v:ot(s,u)}));n.push(c)}return"dark"===t.theme?et.map((function(e){var r=e.index,i=e.opacity;return nt(rt($e(t.backgroundColor||"#141414"),$e(n[r]),100*i))})):n}var st={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},ct={},lt={};Object.keys(st).forEach((function(e){ct[e]=ut(st[e]),ct[e].primary=ct[e][5],lt[e]=ut(st[e],{theme:"dark",backgroundColor:"#141414"}),lt[e].primary=lt[e][5]}));ct.red,ct.volcano,ct.gold,ct.orange,ct.yellow,ct.lime,ct.green,ct.cyan,ct.blue,ct.geekblue,ct.purple,ct.magenta,ct.grey;var ft={};function ht(e,t){0}function dt(e,t,n){t||ft[n]||(e(!1,n),ft[n]=!0)}var pt=function(e,t){dt(ht,e,t)};function vt(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}var mt="rc-util-key";function yt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mark;return t?t.startsWith("data-")?t:"data-".concat(t):mt}function gt(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function bt(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!vt())return null;var r,i=document.createElement("style");(null===(t=n.csp)||void 0===t?void 0:t.nonce)&&(i.nonce=null===(r=n.csp)||void 0===r?void 0:r.nonce);i.innerHTML=e;var a=gt(n),o=a.firstChild;return n.prepend&&a.prepend?a.prepend(i):n.prepend&&o?a.insertBefore(i,o):a.appendChild(i),i}var kt=new Map;function wt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=gt(t);return Array.from(kt.get(n).children).find((function(n){return"STYLE"===n.tagName&&n.getAttribute(yt(t))===e}))}function xt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=gt(n);if(!kt.has(r)){var i=bt("",n),a=i.parentNode;kt.set(r,a),a.removeChild(i)}var o=wt(t,n);if(o){var u,s,c;if((null===(u=n.csp)||void 0===u?void 0:u.nonce)&&o.nonce!==(null===(s=n.csp)||void 0===s?void 0:s.nonce))o.nonce=null===(c=n.csp)||void 0===c?void 0:c.nonce;return o.innerHTML!==e&&(o.innerHTML=e),o}var l=bt(e,n);return l.setAttribute(yt(n),t),l}function Et(e){return"object"===Ue(e)&&"string"===typeof e.name&&"string"===typeof e.theme&&("object"===Ue(e.icon)||"function"===typeof e.icon)}function _t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,n){var r=e[n];if("class"===n)t.className=r,delete t.class;else t[n]=r;return t}),{})}function St(e,n,r){return r?t.createElement(e.tag,De(De({key:n},_t(e.attrs)),r),(e.children||[]).map((function(t,r){return St(t,"".concat(n,"-").concat(e.tag,"-").concat(r))}))):t.createElement(e.tag,De({key:n},_t(e.attrs)),(e.children||[]).map((function(t,r){return St(t,"".concat(n,"-").concat(e.tag,"-").concat(r))})))}function It(e){return ut(e)[0]}function Tt(e){return e?Array.isArray(e)?e:[e]:[]}var Ct="\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n",Nt=["icon","className","onClick","style","primaryColor","secondaryColor"],At={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};var Ot=function(e){var n,r,i=e.icon,a=e.className,o=e.onClick,u=e.style,s=e.primaryColor,c=e.secondaryColor,l=Le(e,Nt),f=At;if(s&&(f={primaryColor:s,secondaryColor:c||It(s)}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct,n=(0,t.useContext)(Ve).csp;(0,t.useEffect)((function(){xt(e,"@ant-design-icons",{prepend:!0,csp:n})}),[])}(),n=Et(i),r="icon should be icon definiton, but got ".concat(i),pt(n,"[@ant-design/icons] ".concat(r)),!Et(i))return null;var h=i;return h&&"function"===typeof h.icon&&(h=De(De({},h),{},{icon:h.icon(f.primaryColor,f.secondaryColor)})),St(h.icon,"svg-".concat(h.name),De({className:a,onClick:o,style:u,"data-icon":h.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},l))};Ot.displayName="IconReact",Ot.getTwoToneColors=function(){return De({},At)},Ot.setTwoToneColors=function(e){var t=e.primaryColor,n=e.secondaryColor;At.primaryColor=t,At.secondaryColor=n||It(t),At.calculated=!!n};var Pt=Ot;function Rt(e){var t=s(Tt(e),2),n=t[0],r=t[1];return Pt.setTwoToneColors({primaryColor:n,secondaryColor:r})}var Dt=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];Rt("#1890ff");var Mt=t.forwardRef((function(e,n){var r,i=e.className,a=e.icon,o=e.spin,u=e.rotate,c=e.tabIndex,l=e.onClick,f=e.twoToneColor,h=Le(e,Dt),d=t.useContext(Ve).prefixCls,p=void 0===d?"anticon":d,v=je()(p,(Pe(r={},"".concat(p,"-").concat(a.name),!!a.name),Pe(r,"".concat(p,"-spin"),!!o||"loading"===a.name),r),i),m=c;void 0===m&&l&&(m=-1);var y=u?{msTransform:"rotate(".concat(u,"deg)"),transform:"rotate(".concat(u,"deg)")}:void 0,g=s(Tt(f),2),b=g[0],k=g[1];return t.createElement("span",De(De({role:"img","aria-label":a.name},h),{},{ref:n,tabIndex:m,onClick:l,className:v}),t.createElement(Pt,{icon:a,primaryColor:b,secondaryColor:k,style:y}))}));Mt.displayName="AntdIcon",Mt.getTwoToneColor=function(){var e=Pt.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor},Mt.setTwoToneColor=Rt;var Lt=Mt,Ft=function(e,n){return t.createElement(Lt,De(De({},e),{},{ref:n,icon:Me}))};Ft.displayName="CloseOutlined";var jt=t.forwardRef(Ft);function Vt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ut(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zt(e,t,n){return t&&Ut(e.prototype,t),n&&Ut(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bt(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}function qt(e){return qt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qt(e)}function Ht(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(BP){return!1}}function Wt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kt(e,t){if(t&&("object"===Ue(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Wt(e)}function Gt(e){var t=Ht();return function(){var n,r=qt(e);if(t){var i=qt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Kt(this,n)}}var $t=function(e){return+setTimeout(e,16)},Qt=function(e){return clearTimeout(e)};"undefined"!==typeof window&&"requestAnimationFrame"in window&&($t=function(e){return window.requestAnimationFrame(e)},Qt=function(e){return window.cancelAnimationFrame(e)});var Yt=0,Xt=new Map;function Jt(e){Xt.delete(e)}function Zt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=Yt+=1;function r(t){if(0===t)Jt(n),e();else{var i=$t((function(){r(t-1)}));Xt.set(n,i)}}return r(t),n}Zt.cancel=function(e){var t=Xt.get(e);return Jt(t),Qt(t)};var en,tn=n(4164),nn=(0,t.forwardRef)((function(e,n){var r=e.didUpdate,i=e.getContainer,a=e.children,o=(0,t.useRef)(),u=(0,t.useRef)();(0,t.useImperativeHandle)(n,(function(){return{}}));var s=(0,t.useRef)(!1);return!s.current&&vt()&&(u.current=i(),o.current=u.current.parentNode,s.current=!0),(0,t.useEffect)((function(){null===r||void 0===r||r(e)})),(0,t.useEffect)((function(){return null===u.current.parentNode&&null!==o.current&&o.current.appendChild(u.current),function(){var e,t;null===(e=u.current)||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(u.current)}}),[]),u.current?tn.createPortal(a,u.current):null})),rn=nn;function an(e){if("undefined"===typeof document)return 0;if(e||void 0===en){var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var n=document.createElement("div"),r=n.style;r.position="absolute",r.top="0",r.left="0",r.pointerEvents="none",r.visibility="hidden",r.width="200px",r.height="150px",r.overflow="hidden",n.appendChild(t),document.body.appendChild(n);var i=t.offsetWidth;n.style.overflow="scroll";var a=t.offsetWidth;i===a&&(a=n.clientWidth),document.body.removeChild(n),en=i-a}return en}var on=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return{};var n=t.element,r=void 0===n?document.body:n,i={},a=Object.keys(e);return a.forEach((function(e){i[e]=r.style[e]})),a.forEach((function(t){r.style[t]=e[t]})),i};var un={},sn=function(e){if(document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth||e){var t="ant-scrolling-effect",n=new RegExp("".concat(t),"g"),r=document.body.className;if(e){if(!n.test(r))return;return on(un),un={},void(document.body.className=r.replace(n,"").trim())}var i=an();if(i&&(un=on({position:"relative",width:"calc(100% - ".concat(i,"px)")}),!n.test(r))){var a="".concat(r," ").concat(t);document.body.className=a.trim()}}};function cn(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function ln(e){return function(e){if(Array.isArray(e))return a(e)}(e)||cn(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var fn=[],hn="ant-scrolling-effect",dn=new RegExp("".concat(hn),"g"),pn=0,vn=new Map,mn=zt((function e(t){var n=this;Vt(this,e),this.lockTarget=void 0,this.options=void 0,this.getContainer=function(){var e;return null===(e=n.options)||void 0===e?void 0:e.container},this.reLock=function(e){var t=fn.find((function(e){return e.target===n.lockTarget}));t&&n.unLock(),n.options=e,t&&(t.options=e,n.lock())},this.lock=function(){var e;if(!fn.some((function(e){return e.target===n.lockTarget})))if(fn.some((function(e){var t,r=e.options;return(null===r||void 0===r?void 0:r.container)===(null===(t=n.options)||void 0===t?void 0:t.container)})))fn=[].concat(ln(fn),[{target:n.lockTarget,options:n.options}]);else{var t=0,r=(null===(e=n.options)||void 0===e?void 0:e.container)||document.body;(r===document.body&&window.innerWidth-document.documentElement.clientWidth>0||r.scrollHeight>r.clientHeight)&&(t=an());var i=r.className;if(0===fn.filter((function(e){var t,r=e.options;return(null===r||void 0===r?void 0:r.container)===(null===(t=n.options)||void 0===t?void 0:t.container)})).length&&vn.set(r,on({width:0!==t?"calc(100% - ".concat(t,"px)"):void 0,overflow:"hidden",overflowX:"hidden",overflowY:"hidden"},{element:r})),!dn.test(i)){var a="".concat(i," ").concat(hn);r.className=a.trim()}fn=[].concat(ln(fn),[{target:n.lockTarget,options:n.options}])}},this.unLock=function(){var e,t=fn.find((function(e){return e.target===n.lockTarget}));if(fn=fn.filter((function(e){return e.target!==n.lockTarget})),t&&!fn.some((function(e){var n,r=e.options;return(null===r||void 0===r?void 0:r.container)===(null===(n=t.options)||void 0===n?void 0:n.container)}))){var r=(null===(e=n.options)||void 0===e?void 0:e.container)||document.body,i=r.className;dn.test(i)&&(on(vn.get(r),{element:r}),vn.delete(r),r.className=r.className.replace(dn,"").trim())}},this.lockTarget=pn++,this.options=t})),yn=0,gn=vt();var bn={},kn=function(e){if(!gn)return null;if(e){if("string"===typeof e)return document.querySelectorAll(e)[0];if("function"===typeof e)return e();if("object"===Ue(e)&&e instanceof window.HTMLElement)return e}return document.body},wn=function(e){Bt(r,e);var n=Gt(r);function r(e){var i;return Vt(this,r),(i=n.call(this,e)).container=void 0,i.componentRef=t.createRef(),i.rafId=void 0,i.scrollLocker=void 0,i.renderComponent=void 0,i.updateScrollLocker=function(e){var t=(e||{}).visible,n=i.props,r=n.getContainer,a=n.visible;a&&a!==t&&gn&&kn(r)!==i.scrollLocker.getContainer()&&i.scrollLocker.reLock({container:kn(r)})},i.updateOpenCount=function(e){var t=e||{},n=t.visible,r=t.getContainer,a=i.props,o=a.visible,u=a.getContainer;o!==n&&gn&&kn(u)===document.body&&(o&&!n?yn+=1:e&&(yn-=1)),("function"===typeof u&&"function"===typeof r?u.toString()!==r.toString():u!==r)&&i.removeCurrentContainer()},i.attachToParent=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e||i.container&&!i.container.parentNode){var t=kn(i.props.getContainer);return!!t&&(t.appendChild(i.container),!0)}return!0},i.getContainer=function(){return gn?(i.container||(i.container=document.createElement("div"),i.attachToParent(!0)),i.setWrapperClassName(),i.container):null},i.setWrapperClassName=function(){var e=i.props.wrapperClassName;i.container&&e&&e!==i.container.className&&(i.container.className=e)},i.removeCurrentContainer=function(){var e,t;null===(e=i.container)||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(i.container)},i.switchScrollingEffect=function(){1!==yn||Object.keys(bn).length?yn||(on(bn),bn={},sn(!0)):(sn(),bn=on({overflow:"hidden",overflowX:"hidden",overflowY:"hidden"}))},i.scrollLocker=new mn({container:kn(e.getContainer)}),i}return zt(r,[{key:"componentDidMount",value:function(){var e=this;this.updateOpenCount(),this.attachToParent()||(this.rafId=Zt((function(){e.forceUpdate()})))}},{key:"componentDidUpdate",value:function(e){this.updateOpenCount(e),this.updateScrollLocker(e),this.setWrapperClassName(),this.attachToParent()}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.visible,n=e.getContainer;gn&&kn(n)===document.body&&(yn=t&&yn?yn-1:yn),this.removeCurrentContainer(),Zt.cancel(this.rafId)}},{key:"render",value:function(){var e=this.props,n=e.children,r=e.forceRender,i=e.visible,a=null,o={getOpenCount:function(){return yn},getContainer:this.getContainer,switchScrollingEffect:this.switchScrollingEffect,scrollLocker:this.scrollLocker};return(r||i||this.componentRef.current)&&(a=t.createElement(rn,{getContainer:this.getContainer,ref:this.componentRef},n(o))),a}}]),r}(t.Component),xn=wn,En={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=En.F1&&t<=En.F12)return!1;switch(t){case En.ALT:case En.CAPS_LOCK:case En.CONTEXT_MENU:case En.CTRL:case En.DOWN:case En.END:case En.ESC:case En.HOME:case En.INSERT:case En.LEFT:case En.MAC_FF_META:case En.META:case En.NUMLOCK:case En.NUM_CENTER:case En.PAGE_DOWN:case En.PAGE_UP:case En.PAUSE:case En.PRINT_SCREEN:case En.RIGHT:case En.SHIFT:case En.UP:case En.WIN_KEY:case En.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=En.ZERO&&e<=En.NINE)return!0;if(e>=En.NUM_ZERO&&e<=En.NUM_MULTIPLY)return!0;if(e>=En.A&&e<=En.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case En.SPACE:case En.QUESTION_MARK:case En.NUM_PLUS:case En.NUM_MINUS:case En.NUM_PERIOD:case En.NUM_DIVISION:case En.SEMICOLON:case En.DASH:case En.EQUALS:case En.COMMA:case En.PERIOD:case En.SLASH:case En.APOSTROPHE:case En.SINGLE_QUOTE:case En.OPEN_SQUARE_BRACKET:case En.BACKSLASH:case En.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},_n=En;function Sn(e,t){var n=De({},e);return Array.isArray(t)&&t.forEach((function(e){delete n[e]})),n}var In={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend"},Tn=Object.keys(In).filter((function(e){if("undefined"===typeof document)return!1;var t=document.getElementsByTagName("html")[0];return e in(t?t.style:{})}))[0],Cn=In[Tn];function Nn(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r):e.attachEvent&&e.attachEvent("on".concat(t),n)}function An(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r):e.attachEvent&&e.detachEvent("on".concat(t),n)}var On=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},Pn=!("undefined"!==typeof window&&window.document&&window.document.createElement),Rn=function e(t,n,r,i){if(!n||n===document||n instanceof Document)return!1;if(n===t.parentNode)return!0;var a=Math.max(Math.abs(r),Math.abs(i))===Math.abs(i),o=Math.max(Math.abs(r),Math.abs(i))===Math.abs(r),u=n.scrollHeight-n.clientHeight,s=n.scrollWidth-n.clientWidth,c=document.defaultView.getComputedStyle(n),l="auto"===c.overflowY||"scroll"===c.overflowY,f="auto"===c.overflowX||"scroll"===c.overflowX,h=u&&l,d=s&&f;return!!(a&&(!h||h&&(n.scrollTop>=u&&i<0||n.scrollTop<=0&&i>0))||o&&(!d||d&&(n.scrollLeft>=s&&r<0||n.scrollLeft<=0&&r>0)))&&e(t,n.parentNode,r,i)},Dn=["className","children","style","width","height","defaultOpen","open","prefixCls","placement","level","levelMove","ease","duration","getContainer","handler","onChange","afterVisibleChange","showMask","maskClosable","maskStyle","onClose","onHandleClick","keyboard","getOpenCount","scrollLocker","contentWrapperStyle"],Mn={},Ln=function(e){Bt(r,e);var n=Gt(r);function r(e){var t;return Vt(this,r),(t=n.call(this,e)).levelDom=void 0,t.dom=void 0,t.contentWrapper=void 0,t.contentDom=void 0,t.maskDom=void 0,t.handlerDom=void 0,t.drawerId=void 0,t.timeout=void 0,t.passive=void 0,t.startPos=void 0,t.domFocus=function(){t.dom&&t.dom.focus()},t.removeStartHandler=function(e){e.touches.length>1?t.startPos=null:t.startPos={x:e.touches[0].clientX,y:e.touches[0].clientY}},t.removeMoveHandler=function(e){if(!(e.changedTouches.length>1)&&t.startPos){var n=e.currentTarget,r=e.changedTouches[0].clientX-t.startPos.x,i=e.changedTouches[0].clientY-t.startPos.y;(n===t.maskDom||n===t.handlerDom||n===t.contentDom&&Rn(n,e.target,r,i))&&e.cancelable&&e.preventDefault()}},t.transitionEnd=function(e){var n=e.target;An(n,Cn,t.transitionEnd),n.style.transition=""},t.onKeyDown=function(e){if(e.keyCode===_n.ESC){var n=t.props.onClose;e.stopPropagation(),n&&n(e)}},t.onWrapperTransitionEnd=function(e){var n=t.props,r=n.open,i=n.afterVisibleChange;e.target===t.contentWrapper&&e.propertyName.match(/transform$/)&&(t.dom.style.transition="",!r&&t.getCurrentDrawerSome()&&(document.body.style.overflowX="",t.maskDom&&(t.maskDom.style.left="",t.maskDom.style.width="")),i&&i(!!r))},t.openLevelTransition=function(){var e=t.props,n=e.open,r=e.width,i=e.height,a=t.getHorizontalBoolAndPlacementName(),o=a.isHorizontal,u=a.placementName,s=t.contentDom?t.contentDom.getBoundingClientRect()[o?"width":"height"]:0,c=(o?r:i)||s;t.setLevelAndScrolling(n,u,c)},t.setLevelTransform=function(e,n,r,i){var a=t.props,o=a.placement,u=a.levelMove,s=a.duration,c=a.ease,l=a.showMask;t.levelDom.forEach((function(a){a.style.transition="transform ".concat(s," ").concat(c),Nn(a,Cn,t.transitionEnd);var f=e?r:0;if(u){var h=function(e,t){var n="function"===typeof e?e(t):e;return Array.isArray(n)?2===n.length?n:[n[0],n[1]]:[n]}(u,{target:a,open:e});f=e?h[0]:h[1]||0}var d="number"===typeof f?"".concat(f,"px"):f,p="left"===o||"top"===o?d:"-".concat(d);p=l&&"right"===o&&i?"calc(".concat(p," + ").concat(i,"px)"):p,a.style.transform=f?"".concat(n,"(").concat(p,")"):""}))},t.setLevelAndScrolling=function(e,n,r){var i=t.props.onChange;if(!Pn){var a=document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth?an(!0):0;t.setLevelTransform(e,n,r,a),t.toggleScrollingToDrawerAndBody(a)}i&&i(e)},t.toggleScrollingToDrawerAndBody=function(e){var n=t.props,r=n.getContainer,i=n.showMask,a=n.open,o=r&&r();if(o&&o.parentNode===document.body&&i){var u=["touchstart"],s=[document.body,t.maskDom,t.handlerDom,t.contentDom];a&&"hidden"!==document.body.style.overflow?(e&&t.addScrollingEffect(e),document.body.style.touchAction="none",s.forEach((function(e,n){e&&Nn(e,u[n]||"touchmove",n?t.removeMoveHandler:t.removeStartHandler,t.passive)}))):t.getCurrentDrawerSome()&&(document.body.style.touchAction="",e&&t.remScrollingEffect(e),s.forEach((function(e,n){e&&An(e,u[n]||"touchmove",n?t.removeMoveHandler:t.removeStartHandler,t.passive)})))}},t.addScrollingEffect=function(e){var n=t.props,r=n.placement,i=n.duration,a=n.ease,o="width ".concat(i," ").concat(a),u="transform ".concat(i," ").concat(a);switch(t.dom.style.transition="none",r){case"right":t.dom.style.transform="translateX(-".concat(e,"px)");break;case"top":case"bottom":t.dom.style.width="calc(100% - ".concat(e,"px)"),t.dom.style.transform="translateZ(0)"}clearTimeout(t.timeout),t.timeout=setTimeout((function(){t.dom&&(t.dom.style.transition="".concat(u,",").concat(o),t.dom.style.width="",t.dom.style.transform="")}))},t.remScrollingEffect=function(e){var n,r=t.props,i=r.placement,a=r.duration,o=r.ease;Tn&&(document.body.style.overflowX="hidden"),t.dom.style.transition="none";var u="width ".concat(a," ").concat(o),s="transform ".concat(a," ").concat(o);switch(i){case"left":t.dom.style.width="100%",u="width 0s ".concat(o," ").concat(a);break;case"right":t.dom.style.transform="translateX(".concat(e,"px)"),t.dom.style.width="100%",u="width 0s ".concat(o," ").concat(a),t.maskDom&&(t.maskDom.style.left="-".concat(e,"px"),t.maskDom.style.width="calc(100% + ".concat(e,"px)"));break;case"top":case"bottom":t.dom.style.width="calc(100% + ".concat(e,"px)"),t.dom.style.height="100%",t.dom.style.transform="translateZ(0)",n="height 0s ".concat(o," ").concat(a)}clearTimeout(t.timeout),t.timeout=setTimeout((function(){t.dom&&(t.dom.style.transition="".concat(s,",").concat(n?"".concat(n,","):"").concat(u),t.dom.style.transform="",t.dom.style.width="",t.dom.style.height="")}))},t.getCurrentDrawerSome=function(){return!Object.keys(Mn).some((function(e){return Mn[e]}))},t.getLevelDom=function(e){var n=e.level,r=e.getContainer;if(!Pn){var i,a=r&&r(),o=a?a.parentNode:null;if(t.levelDom=[],"all"===n)(o?Array.prototype.slice.call(o.children):[]).forEach((function(e){"SCRIPT"!==e.nodeName&&"STYLE"!==e.nodeName&&"LINK"!==e.nodeName&&e!==a&&t.levelDom.push(e)}));else n&&(i=n,Array.isArray(i)?i:[i]).forEach((function(e){document.querySelectorAll(e).forEach((function(e){t.levelDom.push(e)}))}))}},t.getHorizontalBoolAndPlacementName=function(){var e=t.props.placement,n="left"===e||"right"===e;return{isHorizontal:n,placementName:"translate".concat(n?"X":"Y")}},t.state={_self:Wt(t)},t}return zt(r,[{key:"componentDidMount",value:function(){var e=this;if(!Pn){var t=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){return t=!0,null}}))}catch(c){}this.passive=!!t&&{passive:!1}}var n,r=this.props,i=r.open,a=r.getContainer,o=r.showMask,u=r.autoFocus,s=a&&a();(this.drawerId="drawer_id_".concat(Number((Date.now()+Math.random()).toString().replace(".",Math.round(9*Math.random()).toString())).toString(16)),this.getLevelDom(this.props),i)&&(s&&s.parentNode===document.body&&(Mn[this.drawerId]=i),this.openLevelTransition(),this.forceUpdate((function(){u&&e.domFocus()})),o&&(null===(n=this.props.scrollLocker)||void 0===n||n.lock()))}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.open,r=t.getContainer,i=t.scrollLocker,a=t.showMask,o=t.autoFocus,u=r&&r();n!==e.open&&(u&&u.parentNode===document.body&&(Mn[this.drawerId]=!!n),this.openLevelTransition(),n?(o&&this.domFocus(),a&&(null===i||void 0===i||i.lock())):null===i||void 0===i||i.unLock())}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.open,n=e.scrollLocker;delete Mn[this.drawerId],t&&(this.setLevelTransform(!1),document.body.style.touchAction=""),null===n||void 0===n||n.unLock()}},{key:"render",value:function(){var e,n=this,r=this.props,i=r.className,a=r.children,o=r.style,u=r.width,s=r.height,c=(r.defaultOpen,r.open),l=r.prefixCls,f=r.placement,h=(r.level,r.levelMove,r.ease,r.duration,r.getContainer,r.handler),d=(r.onChange,r.afterVisibleChange,r.showMask),p=r.maskClosable,v=r.maskStyle,m=r.onClose,y=r.onHandleClick,g=r.keyboard,b=(r.getOpenCount,r.scrollLocker,r.contentWrapperStyle),k=Le(r,Dn),w=!!this.dom&&c,x=je()(l,(Pe(e={},"".concat(l,"-").concat(f),!0),Pe(e,"".concat(l,"-open"),w),Pe(e,i||"",!!i),Pe(e,"no-mask",!d),e)),_=this.getHorizontalBoolAndPlacementName().placementName,S="left"===f||"top"===f?"-100%":"100%",I=w?"":"".concat(_,"(").concat(S,")"),T=h&&t.cloneElement(h,{onClick:function(e){h.props.onClick&&h.props.onClick(),y&&y(e)},ref:function(e){n.handlerDom=e}});return t.createElement("div",E({},Sn(k,["switchScrollingEffect","autoFocus"]),{tabIndex:-1,className:x,style:o,ref:function(e){n.dom=e},onKeyDown:w&&g?this.onKeyDown:void 0,onTransitionEnd:this.onWrapperTransitionEnd}),d&&t.createElement("div",{className:"".concat(l,"-mask"),onClick:p?m:void 0,style:v,ref:function(e){n.maskDom=e}}),t.createElement("div",{className:"".concat(l,"-content-wrapper"),style:De({transform:I,msTransform:I,width:On(u)?"".concat(u,"px"):u,height:On(s)?"".concat(s,"px"):s},b),ref:function(e){n.contentWrapper=e}},t.createElement("div",{className:"".concat(l,"-content"),ref:function(e){n.contentDom=e}},a),T))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps,r=t._self,i={prevProps:e};if(void 0!==n){var a=e.placement,o=e.level;a!==n.placement&&(r.contentDom=null),o!==n.level&&r.getLevelDom(e)}return i}}]),r}(t.Component),Fn=Ln,jn=["defaultOpen","getContainer","wrapperClassName","forceRender","handler"],Vn=["visible","afterClose"],Un=function(e){Bt(r,e);var n=Gt(r);function r(e){var t;Vt(this,r),(t=n.call(this,e)).dom=void 0,t.onHandleClick=function(e){var n=t.props,r=n.onHandleClick,i=n.open;if(r&&r(e),"undefined"===typeof i){var a=t.state.open;t.setState({open:!a})}},t.onClose=function(e){var n=t.props,r=n.onClose,i=n.open;r&&r(e),"undefined"===typeof i&&t.setState({open:!1})};var i="undefined"!==typeof e.open?e.open:!!e.defaultOpen;return t.state={open:i},"onMaskClick"in e&&console.warn("`onMaskClick` are removed, please use `onClose` instead."),t}return zt(r,[{key:"render",value:function(){var e=this,n=this.props,r=(n.defaultOpen,n.getContainer),i=n.wrapperClassName,a=n.forceRender,o=n.handler,u=Le(n,jn),s=this.state.open;if(!r)return t.createElement("div",{className:i,ref:function(t){e.dom=t}},t.createElement(Fn,E({},u,{open:s,handler:o,getContainer:function(){return e.dom},onClose:this.onClose,onHandleClick:this.onHandleClick})));var c=!!o||a;return t.createElement(xn,{visible:s,forceRender:c,getContainer:r,wrapperClassName:i},(function(n){var r=n.visible,i=n.afterClose,a=Le(n,Vn);return t.createElement(Fn,E({},u,a,{open:void 0!==r?r:s,afterVisibleChange:void 0!==i?i:u.afterVisibleChange,handler:o,onClose:e.onClose,onHandleClick:e.onHandleClick}))}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps,r={prevProps:e};return"undefined"!==typeof n&&e.open!==n.open&&(r.open=e.open),r}}]),r}(t.Component);Un.defaultProps={prefixCls:"drawer",placement:"left",getContainer:"body",defaultOpen:!1,level:"all",duration:".3s",ease:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",onChange:function(){},afterVisibleChange:function(){},handler:t.createElement("div",{className:"drawer-handle"},t.createElement("i",{className:"drawer-handle-icon"})),showMask:!0,maskClosable:!0,maskStyle:{},wrapperClassName:"",className:"",keyboard:!0,forceRender:!1,autoFocus:!0};var zn=Un,Bn=t.createContext({getPrefixCls:function(e,t){return t||(e?"ant-".concat(e):"ant")}}),qn=Bn.Consumer;var Hn=n(3873);function Wn(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[];return t.Children.forEach(e,(function(e){(void 0!==e&&null!==e||n.keepEmpty)&&(Array.isArray(e)?r=r.concat(Wn(e)):(0,Hn.isFragment)(e)&&e.props?r=r.concat(Wn(e.props.children,n)):r.push(e))})),r}var Kn="RC_FORM_INTERNAL_HOOKS",Gn=function(){pt(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},$n=t.createContext({getFieldValue:Gn,getFieldsValue:Gn,getFieldError:Gn,getFieldWarning:Gn,getFieldsError:Gn,isFieldsTouched:Gn,isFieldTouched:Gn,isFieldValidating:Gn,isFieldsValidating:Gn,resetFields:Gn,setFields:Gn,setFieldsValue:Gn,validateFields:Gn,submit:Gn,getInternalHooks:function(){return Gn(),{dispatch:Gn,initEntityValue:Gn,registerField:Gn,useSubscribe:Gn,setInitialValues:Gn,destroyForm:Gn,setCallbacks:Gn,registerWatch:Gn,getFields:Gn,setValidateMessages:Gn,setPreserve:Gn,getInitialValue:Gn}}});function Qn(e){return void 0===e||null===e?[]:Array.isArray(e)?e:[e]}function Yn(){Yn=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(I){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new E(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return S()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=k(o,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(I){return{type:"throw",arg:I}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};u(p,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(_([])));m&&m!==t&&n.call(m,i)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function r(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==Ue(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,o,u)}),(function(e){r("throw",e,o,u)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function k(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function _(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,u(y,"constructor",d),u(d,"constructor",h),h.displayName=u(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(b.prototype),u(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(y),u(y,o,"Generator"),u(y,i,(function(){return this})),u(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=_,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function Xn(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Jn(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Xn(a,r,i,o,u,"next",e)}function u(e){Xn(a,r,i,o,u,"throw",e)}o(void 0)}))}}function Zn(){return Zn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zn.apply(this,arguments)}function er(e){return er=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},er(e)}function tr(e,t){return tr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},tr(e,t)}function nr(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(BP){return!1}}function rr(e,t,n){return rr=nr()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&tr(i,n.prototype),i},rr.apply(null,arguments)}function ir(e){var t="function"===typeof Map?new Map:void 0;return ir=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return rr(e,arguments,er(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),tr(n,e)},ir(e)}var ar=/%[sdj%]/g;function or(e){if(!e||!e.length)return null;var t={};return e.forEach((function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)})),t}function ur(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0,a=n.length;if("function"===typeof e)return e.apply(null,n);if("string"===typeof e){var o=e.replace(ar,(function(e){if("%%"===e)return"%";if(i>=a)return e;switch(e){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch(t){return"[Circular]"}break;default:return e}}));return o}return e}function sr(e,t){return void 0===e||null===e||(!("array"!==t||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}(t)||"string"!==typeof e||e))}function cr(e,t,n){var r=0,i=e.length;!function a(o){if(o&&o.length)n(o);else{var u=r;r+=1,u<i?t(e[u],a):n([])}}([])}var lr=function(e){var t,n;function r(t,n){var r;return(r=e.call(this,"Async Validation Error")||this).errors=t,r.fields=n,r}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,tr(t,n),r}(ir(Error));function fr(e,t,n,r,i){if(t.first){var a=new Promise((function(t,a){var o=function(e){var t=[];return Object.keys(e).forEach((function(n){t.push.apply(t,e[n]||[])})),t}(e);cr(o,n,(function(e){return r(e),e.length?a(new lr(e,or(e))):t(i)}))}));return a.catch((function(e){return e})),a}var o=!0===t.firstFields?Object.keys(e):t.firstFields||[],u=Object.keys(e),s=u.length,c=0,l=[],f=new Promise((function(t,a){var f=function(e){if(l.push.apply(l,e),++c===s)return r(l),l.length?a(new lr(l,or(l))):t(i)};u.length||(r(l),t(i)),u.forEach((function(t){var r=e[t];-1!==o.indexOf(t)?cr(r,n,f):function(e,t,n){var r=[],i=0,a=e.length;function o(e){r.push.apply(r,e||[]),++i===a&&n(r)}e.forEach((function(e){t(e,o)}))}(r,n,f)}))}));return f.catch((function(e){return e})),f}function hr(e,t){return function(n){var r,i;return r=e.fullFields?function(e,t){for(var n=e,r=0;r<t.length;r++){if(void 0==n)return n;n=n[t[r]]}return n}(t,e.fullFields):t[n.field||e.fullField],(i=n)&&void 0!==i.message?(n.field=n.field||e.fullField,n.fieldValue=r,n):{message:"function"===typeof n?n():n,fieldValue:r,field:n.field||e.fullField}}}function dr(e,t){if(t)for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];"object"===typeof r&&"object"===typeof e[n]?e[n]=Zn({},e[n],r):e[n]=r}return e}var pr,vr=function(e,t,n,r,i,a){!e.required||n.hasOwnProperty(e.field)&&!sr(t,a||e.type)||r.push(ur(i.messages.required,e.fullField))},mr=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,yr=/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i,gr={integer:function(e){return gr.number(e)&&parseInt(e,10)===e},float:function(e){return gr.number(e)&&!gr.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(BP){return!1}},date:function(e){return"function"===typeof e.getTime&&"function"===typeof e.getMonth&&"function"===typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"===typeof e},object:function(e){return"object"===typeof e&&!gr.array(e)},method:function(e){return"function"===typeof e},email:function(e){return"string"===typeof e&&e.length<=320&&!!e.match(mr)},url:function(e){return"string"===typeof e&&e.length<=2048&&!!e.match(function(){if(pr)return pr;var e="[a-fA-F\\d:]",t=function(t){return t&&t.includeBoundaries?"(?:(?<=\\s|^)(?="+e+")|(?<="+e+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",i=("\n(?:\n(?:"+r+":){7}(?:"+r+"|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8\n(?:"+r+":){6}(?:"+n+"|:"+r+"|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4\n(?:"+r+":){5}(?::"+n+"|(?::"+r+"){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4\n(?:"+r+":){4}(?:(?::"+r+"){0,1}:"+n+"|(?::"+r+"){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4\n(?:"+r+":){3}(?:(?::"+r+"){0,2}:"+n+"|(?::"+r+"){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4\n(?:"+r+":){2}(?:(?::"+r+"){0,3}:"+n+"|(?::"+r+"){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4\n(?:"+r+":){1}(?:(?::"+r+"){0,4}:"+n+"|(?::"+r+"){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4\n(?::(?:(?::"+r+"){0,5}:"+n+"|(?::"+r+"){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4\n)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1\n").replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),a=new RegExp("(?:^"+n+"$)|(?:^"+i+"$)"),o=new RegExp("^"+n+"$"),u=new RegExp("^"+i+"$"),s=function(e){return e&&e.exact?a:new RegExp("(?:"+t(e)+n+t(e)+")|(?:"+t(e)+i+t(e)+")","g")};s.v4=function(e){return e&&e.exact?o:new RegExp(""+t(e)+n+t(e),"g")},s.v6=function(e){return e&&e.exact?u:new RegExp(""+t(e)+i+t(e),"g")};var c=s.v4().source,l=s.v6().source;return pr=new RegExp("(?:^(?:(?:(?:[a-z]+:)?//)|www\\.)(?:\\S+(?::\\S*)?@)?(?:localhost|"+c+"|"+l+'|(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:[/?#][^\\s"]*)?$)',"i")}())},hex:function(e){return"string"===typeof e&&!!e.match(yr)}},br={required:vr,whitespace:function(e,t,n,r,i){(/^\s+$/.test(t)||""===t)&&r.push(ur(i.messages.whitespace,e.fullField))},type:function(e,t,n,r,i){if(e.required&&void 0===t)vr(e,t,n,r,i);else{var a=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(a)>-1?gr[a](t)||r.push(ur(i.messages.types[a],e.fullField,e.type)):a&&typeof t!==e.type&&r.push(ur(i.messages.types[a],e.fullField,e.type))}},range:function(e,t,n,r,i){var a="number"===typeof e.len,o="number"===typeof e.min,u="number"===typeof e.max,s=t,c=null,l="number"===typeof t,f="string"===typeof t,h=Array.isArray(t);if(l?c="number":f?c="string":h&&(c="array"),!c)return!1;h&&(s=t.length),f&&(s=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),a?s!==e.len&&r.push(ur(i.messages[c].len,e.fullField,e.len)):o&&!u&&s<e.min?r.push(ur(i.messages[c].min,e.fullField,e.min)):u&&!o&&s>e.max?r.push(ur(i.messages[c].max,e.fullField,e.max)):o&&u&&(s<e.min||s>e.max)&&r.push(ur(i.messages[c].range,e.fullField,e.min,e.max))},enum:function(e,t,n,r,i){e.enum=Array.isArray(e.enum)?e.enum:[],-1===e.enum.indexOf(t)&&r.push(ur(i.messages.enum,e.fullField,e.enum.join(", ")))},pattern:function(e,t,n,r,i){if(e.pattern)if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||r.push(ur(i.messages.pattern.mismatch,e.fullField,t,e.pattern));else if("string"===typeof e.pattern){new RegExp(e.pattern).test(t)||r.push(ur(i.messages.pattern.mismatch,e.fullField,t,e.pattern))}}},kr=function(e,t,n,r,i){var a=e.type,o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(sr(t,a)&&!e.required)return n();br.required(e,t,r,o,i,a),sr(t,a)||br.type(e,t,r,o,i)}n(o)},wr={string:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(sr(t,"string")&&!e.required)return n();br.required(e,t,r,a,i,"string"),sr(t,"string")||(br.type(e,t,r,a,i),br.range(e,t,r,a,i),br.pattern(e,t,r,a,i),!0===e.whitespace&&br.whitespace(e,t,r,a,i))}n(a)},method:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(sr(t)&&!e.required)return n();br.required(e,t,r,a,i),void 0!==t&&br.type(e,t,r,a,i)}n(a)},number:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(""===t&&(t=void 0),sr(t)&&!e.required)return n();br.required(e,t,r,a,i),void 0!==t&&(br.type(e,t,r,a,i),br.range(e,t,r,a,i))}n(a)},boolean:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(sr(t)&&!e.required)return n();br.required(e,t,r,a,i),void 0!==t&&br.type(e,t,r,a,i)}n(a)},regexp:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(sr(t)&&!e.required)return n();br.required(e,t,r,a,i),sr(t)||br.type(e,t,r,a,i)}n(a)},integer:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(sr(t)&&!e.required)return n();br.required(e,t,r,a,i),void 0!==t&&(br.type(e,t,r,a,i),br.range(e,t,r,a,i))}n(a)},float:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(sr(t)&&!e.required)return n();br.required(e,t,r,a,i),void 0!==t&&(br.type(e,t,r,a,i),br.range(e,t,r,a,i))}n(a)},array:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if((void 0===t||null===t)&&!e.required)return n();br.required(e,t,r,a,i,"array"),void 0!==t&&null!==t&&(br.type(e,t,r,a,i),br.range(e,t,r,a,i))}n(a)},object:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(sr(t)&&!e.required)return n();br.required(e,t,r,a,i),void 0!==t&&br.type(e,t,r,a,i)}n(a)},enum:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(sr(t)&&!e.required)return n();br.required(e,t,r,a,i),void 0!==t&&br.enum(e,t,r,a,i)}n(a)},pattern:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(sr(t,"string")&&!e.required)return n();br.required(e,t,r,a,i),sr(t,"string")||br.pattern(e,t,r,a,i)}n(a)},date:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(sr(t,"date")&&!e.required)return n();var o;if(br.required(e,t,r,a,i),!sr(t,"date"))o=t instanceof Date?t:new Date(t),br.type(e,o,r,a,i),o&&br.range(e,o.getTime(),r,a,i)}n(a)},url:kr,hex:kr,email:kr,required:function(e,t,n,r,i){var a=[],o=Array.isArray(t)?"array":typeof t;br.required(e,t,r,a,i,o),n(a)},any:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(sr(t)&&!e.required)return n();br.required(e,t,r,a,i)}n(a)}};function xr(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var Er=xr(),_r=function(){function e(e){this.rules=null,this._messages=Er,this.define(e)}var t=e.prototype;return t.define=function(e){var t=this;if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!==typeof e||Array.isArray(e))throw new Error("Rules must be an object");this.rules={},Object.keys(e).forEach((function(n){var r=e[n];t.rules[n]=Array.isArray(r)?r:[r]}))},t.messages=function(e){return e&&(this._messages=dr(xr(),e)),this._messages},t.validate=function(t,n,r){var i=this;void 0===n&&(n={}),void 0===r&&(r=function(){});var a=t,o=n,u=r;if("function"===typeof o&&(u=o,o={}),!this.rules||0===Object.keys(this.rules).length)return u&&u(null,a),Promise.resolve(a);if(o.messages){var s=this.messages();s===Er&&(s=xr()),dr(s,o.messages),o.messages=s}else o.messages=this.messages();var c={};(o.keys||Object.keys(this.rules)).forEach((function(e){var n=i.rules[e],r=a[e];n.forEach((function(n){var o=n;"function"===typeof o.transform&&(a===t&&(a=Zn({},a)),r=a[e]=o.transform(r)),(o="function"===typeof o?{validator:o}:Zn({},o)).validator=i.getValidationMethod(o),o.validator&&(o.field=e,o.fullField=o.fullField||e,o.type=i.getType(o),c[e]=c[e]||[],c[e].push({rule:o,value:r,source:a,field:e}))}))}));var l={};return fr(c,o,(function(t,n){var r,i=t.rule,u=("object"===i.type||"array"===i.type)&&("object"===typeof i.fields||"object"===typeof i.defaultField);function s(e,t){return Zn({},t,{fullField:i.fullField+"."+e,fullFields:i.fullFields?[].concat(i.fullFields,[e]):[e]})}function c(r){void 0===r&&(r=[]);var c=Array.isArray(r)?r:[r];!o.suppressWarning&&c.length&&e.warning("async-validator:",c),c.length&&void 0!==i.message&&(c=[].concat(i.message));var f=c.map(hr(i,a));if(o.first&&f.length)return l[i.field]=1,n(f);if(u){if(i.required&&!t.value)return void 0!==i.message?f=[].concat(i.message).map(hr(i,a)):o.error&&(f=[o.error(i,ur(o.messages.required,i.field))]),n(f);var h={};i.defaultField&&Object.keys(t.value).map((function(e){h[e]=i.defaultField})),h=Zn({},h,t.rule.fields);var d={};Object.keys(h).forEach((function(e){var t=h[e],n=Array.isArray(t)?t:[t];d[e]=n.map(s.bind(null,e))}));var p=new e(d);p.messages(o.messages),t.rule.options&&(t.rule.options.messages=o.messages,t.rule.options.error=o.error),p.validate(t.value,t.rule.options||o,(function(e){var t=[];f&&f.length&&t.push.apply(t,f),e&&e.length&&t.push.apply(t,e),n(t.length?t:null)}))}else n(f)}if(u=u&&(i.required||!i.required&&t.value),i.field=t.field,i.asyncValidator)r=i.asyncValidator(i,t.value,c,t.source,o);else if(i.validator){try{r=i.validator(i,t.value,c,t.source,o)}catch(f){null==console.error||console.error(f),o.suppressValidatorError||setTimeout((function(){throw f}),0),c(f.message)}!0===r?c():!1===r?c("function"===typeof i.message?i.message(i.fullField||i.field):i.message||(i.fullField||i.field)+" fails"):r instanceof Array?c(r):r instanceof Error&&c(r.message)}r&&r.then&&r.then((function(){return c()}),(function(e){return c(e)}))}),(function(e){!function(e){var t=[],n={};function r(e){var n;Array.isArray(e)?t=(n=t).concat.apply(n,e):t.push(e)}for(var i=0;i<e.length;i++)r(e[i]);t.length?(n=or(t),u(t,n)):u(null,a)}(e)}),a)},t.getType=function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!==typeof e.validator&&e.type&&!wr.hasOwnProperty(e.type))throw new Error(ur("Unknown rule type %s",e.type));return e.type||"string"},t.getValidationMethod=function(e){if("function"===typeof e.validator)return e.validator;var t=Object.keys(e),n=t.indexOf("message");return-1!==n&&t.splice(n,1),1===t.length&&"required"===t[0]?wr.required:wr[this.getType(e)]||void 0},e}();_r.register=function(e,t){if("function"!==typeof t)throw new Error("Cannot register a validator by type, validator is not a function");wr[e]=t},_r.warning=function(){},_r.messages=Er,_r.validators=wr;var Sr="'${name}' is not a valid ${type}",Ir={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:Sr,method:Sr,array:Sr,object:Sr,number:Sr,date:Sr,boolean:Sr,integer:Sr,float:Sr,regexp:Sr,email:Sr,url:Sr,hex:Sr},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}};function Tr(e,t){for(var n=e,r=0;r<t.length;r+=1){if(null===n||void 0===n)return;n=n[t[r]]}return n}function Cr(e){return i(e)||cn(e)||o(e)||u()}function Nr(e,t,n,r){if(!t.length)return n;var i,a=Cr(t),o=a[0],u=a.slice(1);return i=e||"number"!==typeof o?Array.isArray(e)?ln(e):De({},e):[],r&&void 0===n&&1===u.length?delete i[o][u[0]]:i[o]=Nr(i[o],u,n,r),i}function Ar(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.length&&r&&void 0===n&&!Tr(e,t.slice(0,-1))?e:Nr(e,t,n,r)}function Or(e){return Array.isArray(e)?function(e){return e.map((function(e){return Or(e)}))}(e):"object"===Ue(e)&&null!==e?function(e){if(Object.getPrototypeOf(e)===Object.prototype){var t={};for(var n in e)t[n]=Or(e[n]);return t}return e}(e):e}var Pr=Or;function Rr(e){return Qn(e)}function Dr(e,t){return Tr(e,t)}function Mr(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=Ar(e,t,n,r);return i}function Lr(e,t){var n={};return t.forEach((function(t){var r=Dr(e,t);n=Mr(n,t,r)})),n}function Fr(e,t){return e&&e.some((function(e){return zr(e,t)}))}function jr(e){return"object"===Ue(e)&&null!==e&&Object.getPrototypeOf(e)===Object.prototype}function Vr(e,t){var n=Array.isArray(e)?ln(e):De({},e);return t?(Object.keys(t).forEach((function(e){var r=n[e],i=t[e],a=jr(r)&&jr(i);n[e]=a?Vr(r,i||{}):Pr(i)})),n):n}function Ur(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((function(e,t){return Vr(e,t)}),e)}function zr(e,t){return!(!e||!t||e.length!==t.length)&&e.every((function(e,n){return t[n]===e}))}function Br(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&"object"===Ue(t.target)&&e in t.target?t.target[e]:t}function qr(e,t,n){var r=e.length;if(t<0||t>=r||n<0||n>=r)return e;var i=e[t],a=t-n;return a>0?[].concat(ln(e.slice(0,n)),[i],ln(e.slice(n,t)),ln(e.slice(t+1,r))):a<0?[].concat(ln(e.slice(0,t)),ln(e.slice(t+1,n+1)),[i],ln(e.slice(n+1,r))):e}var Hr=_r;function Wr(e,t){return e.replace(/\$\{\w+\}/g,(function(e){var n=e.slice(2,-1);return t[n]}))}var Kr="CODE_LOGIC_ERROR";function Gr(e,t,n,r,i){return $r.apply(this,arguments)}function $r(){return $r=Jn(Yn().mark((function e(n,r,i,a,o){var u,s,c,l,f,h,d,p,v;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete(u=De({},i)).ruleIndex,u.validator&&(s=u.validator,u.validator=function(){try{return s.apply(void 0,arguments)}catch(e){return console.error(e),Promise.reject(Kr)}}),c=null,u&&"array"===u.type&&u.defaultField&&(c=u.defaultField,delete u.defaultField),l=new Hr(Pe({},n,[u])),f=Ur({},Ir,a.validateMessages),l.messages(f),h=[],e.prev=9,e.next=12,Promise.resolve(l.validate(Pe({},n,r),De({},a)));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),e.t0.errors&&(h=e.t0.errors.map((function(e,n){var r=e.message,i=r===Kr?f.default:r;return t.isValidElement(i)?t.cloneElement(i,{key:"error_".concat(n)}):i})));case 17:if(h.length||!c){e.next=22;break}return e.next=20,Promise.all(r.map((function(e,t){return Gr("".concat(n,".").concat(t),e,c,a,o)})));case 20:return d=e.sent,e.abrupt("return",d.reduce((function(e,t){return[].concat(ln(e),ln(t))}),[]));case 22:return p=De(De({},i),{},{name:n,enum:(i.enum||[]).join(", ")},o),v=h.map((function(e){return"string"===typeof e?Wr(e,p):e})),e.abrupt("return",v);case 25:case"end":return e.stop()}}),e,null,[[9,14]])}))),$r.apply(this,arguments)}function Qr(e,t,n,r,i,a){var o,u=e.join("."),s=n.map((function(e,t){var n=e.validator,r=De(De({},e),{},{ruleIndex:t});return n&&(r.validator=function(e,t,r){var i=!1,a=n(e,t,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Promise.resolve().then((function(){pt(!i,"Your validator function has already return a promise. `callback` will be ignored."),i||r.apply(void 0,t)}))}));i=a&&"function"===typeof a.then&&"function"===typeof a.catch,pt(i,"`callback` is deprecated. Please return a promise instead."),i&&a.then((function(){r()})).catch((function(e){r(e||" ")}))}),r})).sort((function(e,t){var n=e.warningOnly,r=e.ruleIndex,i=t.warningOnly,a=t.ruleIndex;return!!n===!!i?r-a:n?1:-1}));if(!0===i)o=new Promise(function(){var e=Jn(Yn().mark((function e(n,i){var o,c,l;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=0;case 1:if(!(o<s.length)){e.next=12;break}return c=s[o],e.next=5,Gr(u,t,c,r,a);case 5:if(!(l=e.sent).length){e.next=9;break}return i([{errors:l,rule:c}]),e.abrupt("return");case 9:o+=1,e.next=1;break;case 12:n([]);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());else{var c=s.map((function(e){return Gr(u,t,e,r,a).then((function(t){return{errors:t,rule:e}}))}));o=(i?function(e){return Xr.apply(this,arguments)}(c):function(e){return Yr.apply(this,arguments)}(c)).then((function(e){return Promise.reject(e)}))}return o.catch((function(e){return e})),o}function Yr(){return(Yr=Jn(Yn().mark((function e(t){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t).then((function(e){var t;return(t=[]).concat.apply(t,ln(e))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xr(){return(Xr=Jn(Yn().mark((function e(t){var n;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,e.abrupt("return",new Promise((function(e){t.forEach((function(r){r.then((function(r){r.errors.length&&e([r]),(n+=1)===t.length&&e([])}))}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Jr=["name"],Zr=[];function ei(e,t,n,r,i,a){return"function"===typeof e?e(t,n,"source"in a?{source:a.source}:{}):r!==i}var ti=function(e){Bt(r,e);var n=Gt(r);function r(e){var i;(Vt(this,r),(i=n.call(this,e)).state={resetCount:0},i.cancelRegisterFunc=null,i.mounted=!1,i.touched=!1,i.dirty=!1,i.validatePromise=null,i.prevValidating=void 0,i.errors=Zr,i.warnings=Zr,i.cancelRegister=function(){var e=i.props,t=e.preserve,n=e.isListField,r=e.name;i.cancelRegisterFunc&&i.cancelRegisterFunc(n,t,Rr(r)),i.cancelRegisterFunc=null},i.getNamePath=function(){var e=i.props,t=e.name,n=e.fieldContext.prefixName;return void 0!==t?[].concat(ln(void 0===n?[]:n),ln(t)):[]},i.getRules=function(){var e=i.props,t=e.rules,n=void 0===t?[]:t,r=e.fieldContext;return n.map((function(e){return"function"===typeof e?e(r):e}))},i.refresh=function(){i.mounted&&i.setState((function(e){return{resetCount:e.resetCount+1}}))},i.triggerMetaEvent=function(e){var t=i.props.onMetaChange;null===t||void 0===t||t(De(De({},i.getMeta()),{},{destroy:e}))},i.onStoreChange=function(e,t,n){var r=i.props,a=r.shouldUpdate,o=r.dependencies,u=void 0===o?[]:o,s=r.onReset,c=n.store,l=i.getNamePath(),f=i.getValue(e),h=i.getValue(c),d=t&&Fr(t,l);switch("valueUpdate"===n.type&&"external"===n.source&&f!==h&&(i.touched=!0,i.dirty=!0,i.validatePromise=null,i.errors=Zr,i.warnings=Zr,i.triggerMetaEvent()),n.type){case"reset":if(!t||d)return i.touched=!1,i.dirty=!1,i.validatePromise=null,i.errors=Zr,i.warnings=Zr,i.triggerMetaEvent(),null===s||void 0===s||s(),void i.refresh();break;case"remove":if(a)return void i.reRender();break;case"setField":if(d){var p=n.data;return"touched"in p&&(i.touched=p.touched),"validating"in p&&!("originRCField"in p)&&(i.validatePromise=p.validating?Promise.resolve([]):null),"errors"in p&&(i.errors=p.errors||Zr),"warnings"in p&&(i.warnings=p.warnings||Zr),i.dirty=!0,i.triggerMetaEvent(),void i.reRender()}if(a&&!l.length&&ei(a,e,c,f,h,n))return void i.reRender();break;case"dependenciesUpdate":if(u.map(Rr).some((function(e){return Fr(n.relatedFields,e)})))return void i.reRender();break;default:if(d||(!u.length||l.length||a)&&ei(a,e,c,f,h,n))return void i.reRender()}!0===a&&i.reRender()},i.validateRules=function(e){var t=i.getNamePath(),n=i.getValue(),r=Promise.resolve().then((function(){if(!i.mounted)return[];var a=i.props,o=a.validateFirst,u=void 0!==o&&o,s=a.messageVariables,c=(e||{}).triggerName,l=i.getRules();c&&(l=l.filter((function(e){var t=e.validateTrigger;return!t||Qn(t).includes(c)})));var f=Qr(t,n,l,e,u,s);return f.catch((function(e){return e})).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zr;if(i.validatePromise===r){i.validatePromise=null;var t=[],n=[];e.forEach((function(e){var r=e.rule.warningOnly,i=e.errors,a=void 0===i?Zr:i;r?n.push.apply(n,ln(a)):t.push.apply(t,ln(a))})),i.errors=t,i.warnings=n,i.triggerMetaEvent(),i.reRender()}})),f}));return i.validatePromise=r,i.dirty=!0,i.errors=Zr,i.warnings=Zr,i.triggerMetaEvent(),i.reRender(),r},i.isFieldValidating=function(){return!!i.validatePromise},i.isFieldTouched=function(){return i.touched},i.isFieldDirty=function(){return!(!i.dirty&&void 0===i.props.initialValue)||void 0!==(0,i.props.fieldContext.getInternalHooks(Kn).getInitialValue)(i.getNamePath())},i.getErrors=function(){return i.errors},i.getWarnings=function(){return i.warnings},i.isListField=function(){return i.props.isListField},i.isList=function(){return i.props.isList},i.isPreserve=function(){return i.props.preserve},i.getMeta=function(){return i.prevValidating=i.isFieldValidating(),{touched:i.isFieldTouched(),validating:i.prevValidating,errors:i.errors,warnings:i.warnings,name:i.getNamePath()}},i.getOnlyChild=function(e){if("function"===typeof e){var n=i.getMeta();return De(De({},i.getOnlyChild(e(i.getControlled(),n,i.props.fieldContext))),{},{isFunction:!0})}var r=Wn(e);return 1===r.length&&t.isValidElement(r[0])?{child:r[0],isFunction:!1}:{child:r,isFunction:!1}},i.getValue=function(e){var t=i.props.fieldContext.getFieldsValue,n=i.getNamePath();return Dr(e||t(!0),n)},i.getControlled=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=i.props,n=t.trigger,r=t.validateTrigger,a=t.getValueFromEvent,o=t.normalize,u=t.valuePropName,s=t.getValueProps,c=t.fieldContext,l=void 0!==r?r:c.validateTrigger,f=i.getNamePath(),h=c.getInternalHooks,d=c.getFieldsValue,p=h(Kn),v=p.dispatch,m=i.getValue(),y=s||function(e){return Pe({},u,e)},g=e[n],b=De(De({},e),y(m));b[n]=function(){var e;i.touched=!0,i.dirty=!0,i.triggerMetaEvent();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e=a?a.apply(void 0,n):Br.apply(void 0,[u].concat(n)),o&&(e=o(e,m,d(!0))),v({type:"updateValue",namePath:f,value:e}),g&&g.apply(void 0,n)};var k=Qn(l||[]);return k.forEach((function(e){var t=b[e];b[e]=function(){t&&t.apply(void 0,arguments);var n=i.props.rules;n&&n.length&&v({type:"validateField",namePath:f,triggerName:e})}})),b},e.fieldContext)&&(0,(0,e.fieldContext.getInternalHooks)(Kn).initEntityValue)(Wt(i));return i}return zt(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.shouldUpdate,n=e.fieldContext;if(this.mounted=!0,n){var r=(0,n.getInternalHooks)(Kn).registerField;this.cancelRegisterFunc=r(this)}!0===t&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var e,n=this.state.resetCount,r=this.props.children,i=this.getOnlyChild(r),a=i.child;return i.isFunction?e=a:t.isValidElement(a)?e=t.cloneElement(a,this.getControlled(a.props)):(pt(!a,"`children` of Field is not validate ReactElement."),e=a),t.createElement(t.Fragment,{key:n},e)}}]),r}(t.Component);ti.contextType=$n,ti.defaultProps={trigger:"onChange",valuePropName:"value"};var ni=function(e){var n=e.name,r=Le(e,Jr),i=t.useContext($n),a=void 0!==n?Rr(n):void 0,o="keep";return r.isListField||(o="_".concat((a||[]).join("_"))),t.createElement(ti,E({key:o,name:a},r,{fieldContext:i}))},ri=t.createContext(null),ii=function(e){var n=e.name,r=e.initialValue,i=e.children,a=e.rules,o=e.validateTrigger,u=t.useContext($n),s=t.useRef({keys:[],id:0}).current,c=t.useMemo((function(){var e=Rr(u.prefixName)||[];return[].concat(ln(e),ln(Rr(n)))}),[u.prefixName,n]),l=t.useMemo((function(){return De(De({},u),{},{prefixName:c})}),[u,c]),f=t.useMemo((function(){return{getKey:function(e){var t=c.length,n=e[t];return[s.keys[n],e.slice(t+1)]}}}),[c]);if("function"!==typeof i)return pt(!1,"Form.List only accepts function as children."),null;return t.createElement(ri.Provider,{value:f},t.createElement($n.Provider,{value:l},t.createElement(ni,{name:[],shouldUpdate:function(e,t,n){return"internal"!==n.source&&e!==t},rules:a,validateTrigger:o,initialValue:r,isList:!0},(function(e,t){var n=e.value,r=void 0===n?[]:n,a=e.onChange,o=u.getFieldValue,l=function(){return o(c||[])||[]},f={add:function(e,t){var n=l();t>=0&&t<=n.length?(s.keys=[].concat(ln(s.keys.slice(0,t)),[s.id],ln(s.keys.slice(t))),a([].concat(ln(n.slice(0,t)),[e],ln(n.slice(t))))):(s.keys=[].concat(ln(s.keys),[s.id]),a([].concat(ln(n),[e]))),s.id+=1},remove:function(e){var t=l(),n=new Set(Array.isArray(e)?e:[e]);n.size<=0||(s.keys=s.keys.filter((function(e,t){return!n.has(t)})),a(t.filter((function(e,t){return!n.has(t)}))))},move:function(e,t){if(e!==t){var n=l();e<0||e>=n.length||t<0||t>=n.length||(s.keys=qr(s.keys,e,t),a(qr(n,e,t)))}}},h=r||[];return Array.isArray(h)||(h=[]),i(h.map((function(e,t){var n=s.keys[t];return void 0===n&&(s.keys[t]=s.id,n=s.keys[t],s.id+=1),{name:t,key:n,isListField:!0}})),f,t)}))))};var ai="__@field_split__";function oi(e){return e.map((function(e){return"".concat(Ue(e),":").concat(e)})).join(ai)}var ui=function(){function e(){Vt(this,e),this.kvs=new Map}return zt(e,[{key:"set",value:function(e,t){this.kvs.set(oi(e),t)}},{key:"get",value:function(e){return this.kvs.get(oi(e))}},{key:"update",value:function(e,t){var n=t(this.get(e));n?this.set(e,n):this.delete(e)}},{key:"delete",value:function(e){this.kvs.delete(oi(e))}},{key:"map",value:function(e){return ln(this.kvs.entries()).map((function(t){var n=s(t,2),r=n[0],i=n[1],a=r.split(ai);return e({key:a.map((function(e){var t=s(e.match(/^([^:]*):(.*)$/),3),n=t[1],r=t[2];return"number"===n?Number(r):r})),value:i})}))}},{key:"toJSON",value:function(){var e={};return this.map((function(t){var n=t.key,r=t.value;return e[n.join(".")]=r,null})),e}}]),e}(),si=ui,ci=["name","errors"],li=zt((function e(t){var n=this;Vt(this,e),this.formHooked=!1,this.forceRootUpdate=void 0,this.subscribable=!0,this.store={},this.fieldEntities=[],this.initialValues={},this.callbacks={},this.validateMessages=null,this.preserve=null,this.lastValidatePromise=null,this.getForm=function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,_init:!0,getInternalHooks:n.getInternalHooks}},this.getInternalHooks=function(e){return e===Kn?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,destroyForm:n.destroyForm,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue,registerWatch:n.registerWatch}):(pt(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)},this.useSubscribe=function(e){n.subscribable=e},this.prevWithoutPreserves=null,this.setInitialValues=function(e,t){if(n.initialValues=e||{},t){var r,i=Ur({},e,n.store);null===(r=n.prevWithoutPreserves)||void 0===r||r.map((function(t){var n=t.key;i=Mr(i,n,Dr(e,n))})),n.prevWithoutPreserves=null,n.updateStore(i)}},this.destroyForm=function(){var e=new si;n.getFieldEntities(!0).forEach((function(t){n.isMergedPreserve(t.isPreserve())||e.set(t.getNamePath(),!0)})),n.prevWithoutPreserves=e},this.getInitialValue=function(e){var t=Dr(n.initialValues,e);return e.length?Pr(t):t},this.setCallbacks=function(e){n.callbacks=e},this.setValidateMessages=function(e){n.validateMessages=e},this.setPreserve=function(e){n.preserve=e},this.watchList=[],this.registerWatch=function(e){return n.watchList.push(e),function(){n.watchList=n.watchList.filter((function(t){return t!==e}))}},this.notifyWatch=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(n.watchList.length){var t=n.getFieldsValue();n.watchList.forEach((function(n){n(t,e)}))}},this.timeoutId=null,this.warningUnhooked=function(){0},this.updateStore=function(e){n.store=e},this.getFieldEntities=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?n.fieldEntities.filter((function(e){return e.getNamePath().length})):n.fieldEntities},this.getFieldsMap=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new si;return n.getFieldEntities(e).forEach((function(e){var n=e.getNamePath();t.set(n,e)})),t},this.getFieldEntitiesForNamePathList=function(e){if(!e)return n.getFieldEntities(!0);var t=n.getFieldsMap(!0);return e.map((function(e){var n=Rr(e);return t.get(n)||{INVALIDATE_NAME_PATH:Rr(e)}}))},this.getFieldsValue=function(e,t){if(n.warningUnhooked(),!0===e&&!t)return n.store;var r=n.getFieldEntitiesForNamePathList(Array.isArray(e)?e:null),i=[];return r.forEach((function(n){var r,a="INVALIDATE_NAME_PATH"in n?n.INVALIDATE_NAME_PATH:n.getNamePath();if(e||!(null===(r=n.isListField)||void 0===r?void 0:r.call(n)))if(t){var o="getMeta"in n?n.getMeta():null;t(o)&&i.push(a)}else i.push(a)})),Lr(n.store,i.map(Rr))},this.getFieldValue=function(e){n.warningUnhooked();var t=Rr(e);return Dr(n.store,t)},this.getFieldsError=function(e){return n.warningUnhooked(),n.getFieldEntitiesForNamePathList(e).map((function(t,n){return t&&!("INVALIDATE_NAME_PATH"in t)?{name:t.getNamePath(),errors:t.getErrors(),warnings:t.getWarnings()}:{name:Rr(e[n]),errors:[],warnings:[]}}))},this.getFieldError=function(e){n.warningUnhooked();var t=Rr(e);return n.getFieldsError([t])[0].errors},this.getFieldWarning=function(e){n.warningUnhooked();var t=Rr(e);return n.getFieldsError([t])[0].warnings},this.isFieldsTouched=function(){n.warningUnhooked();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i,a=t[0],o=t[1],u=!1;0===t.length?i=null:1===t.length?Array.isArray(a)?(i=a.map(Rr),u=!1):(i=null,u=a):(i=a.map(Rr),u=o);var s=n.getFieldEntities(!0),c=function(e){return e.isFieldTouched()};if(!i)return u?s.every(c):s.some(c);var l=new si;i.forEach((function(e){l.set(e,[])})),s.forEach((function(e){var t=e.getNamePath();i.forEach((function(n){n.every((function(e,n){return t[n]===e}))&&l.update(n,(function(t){return[].concat(ln(t),[e])}))}))}));var f=function(e){return e.some(c)},h=l.map((function(e){return e.value}));return u?h.every(f):h.some(f)},this.isFieldTouched=function(e){return n.warningUnhooked(),n.isFieldsTouched([e])},this.isFieldsValidating=function(e){n.warningUnhooked();var t=n.getFieldEntities();if(!e)return t.some((function(e){return e.isFieldValidating()}));var r=e.map(Rr);return t.some((function(e){var t=e.getNamePath();return Fr(r,t)&&e.isFieldValidating()}))},this.isFieldValidating=function(e){return n.warningUnhooked(),n.isFieldsValidating([e])},this.resetWithFieldInitialValue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new si,r=n.getFieldEntities(!0);r.forEach((function(e){var n=e.props.initialValue,r=e.getNamePath();if(void 0!==n){var i=t.get(r)||new Set;i.add({entity:e,value:n}),t.set(r,i)}}));var i,a=function(r){r.forEach((function(r){if(void 0!==r.props.initialValue){var i=r.getNamePath();if(void 0!==n.getInitialValue(i))pt(!1,"Form already set 'initialValues' with path '".concat(i.join("."),"'. Field can not overwrite it."));else{var a=t.get(i);if(a&&a.size>1)pt(!1,"Multiple Field with path '".concat(i.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(a){var o=n.getFieldValue(i);e.skipExist&&void 0!==o||n.updateStore(Mr(n.store,i,ln(a)[0].value))}}}}))};e.entities?i=e.entities:e.namePathList?(i=[],e.namePathList.forEach((function(e){var n,r=t.get(e);r&&(n=i).push.apply(n,ln(ln(r).map((function(e){return e.entity}))))}))):i=r,a(i)},this.resetFields=function(e){n.warningUnhooked();var t=n.store;if(!e)return n.updateStore(Ur({},n.initialValues)),n.resetWithFieldInitialValue(),n.notifyObservers(t,null,{type:"reset"}),void n.notifyWatch();var r=e.map(Rr);r.forEach((function(e){var t=n.getInitialValue(e);n.updateStore(Mr(n.store,e,t))})),n.resetWithFieldInitialValue({namePathList:r}),n.notifyObservers(t,r,{type:"reset"}),n.notifyWatch(r)},this.setFields=function(e){n.warningUnhooked();var t=n.store,r=[];e.forEach((function(e){var i=e.name,a=(e.errors,Le(e,ci)),o=Rr(i);r.push(o),"value"in a&&n.updateStore(Mr(n.store,o,a.value)),n.notifyObservers(t,[o],{type:"setField",data:e})})),n.notifyWatch(r)},this.getFields=function(){return n.getFieldEntities(!0).map((function(e){var t=e.getNamePath(),r=De(De({},e.getMeta()),{},{name:t,value:n.getFieldValue(t)});return Object.defineProperty(r,"originRCField",{value:!0}),r}))},this.initEntityValue=function(e){var t=e.props.initialValue;if(void 0!==t){var r=e.getNamePath();void 0===Dr(n.store,r)&&n.updateStore(Mr(n.store,r,t))}},this.isMergedPreserve=function(e){var t=void 0!==e?e:n.preserve;return null===t||void 0===t||t},this.registerField=function(e){n.fieldEntities.push(e);var t=e.getNamePath();if(n.notifyWatch([t]),void 0!==e.props.initialValue){var r=n.store;n.resetWithFieldInitialValue({entities:[e],skipExist:!0}),n.notifyObservers(r,[e.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(r,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(n.fieldEntities=n.fieldEntities.filter((function(t){return t!==e})),!n.isMergedPreserve(i)&&(!r||a.length>1)){var o=r?void 0:n.getInitialValue(t);if(t.length&&n.getFieldValue(t)!==o&&n.fieldEntities.every((function(e){return!zr(e.getNamePath(),t)}))){var u=n.store;n.updateStore(Mr(u,t,o,!0)),n.notifyObservers(u,[t],{type:"remove"}),n.triggerDependenciesUpdate(u,t)}}n.notifyWatch([t])}},this.dispatch=function(e){switch(e.type){case"updateValue":var t=e.namePath,r=e.value;n.updateValue(t,r);break;case"validateField":var i=e.namePath,a=e.triggerName;n.validateFields([i],{triggerName:a})}},this.notifyObservers=function(e,t,r){if(n.subscribable){var i=De(De({},r),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach((function(n){(0,n.onStoreChange)(e,t,i)}))}else n.forceRootUpdate()},this.triggerDependenciesUpdate=function(e,t){var r=n.getDependencyChildrenFields(t);return r.length&&n.validateFields(r),n.notifyObservers(e,r,{type:"dependenciesUpdate",relatedFields:[t].concat(ln(r))}),r},this.updateValue=function(e,t){var r=Rr(e),i=n.store;n.updateStore(Mr(n.store,r,t)),n.notifyObservers(i,[r],{type:"valueUpdate",source:"internal"}),n.notifyWatch([r]);var a=n.triggerDependenciesUpdate(i,r),o=n.callbacks.onValuesChange;o&&o(Lr(n.store,[r]),n.getFieldsValue());n.triggerOnFieldsChange([r].concat(ln(a)))},this.setFieldsValue=function(e){n.warningUnhooked();var t=n.store;if(e){var r=Ur(n.store,e);n.updateStore(r)}n.notifyObservers(t,null,{type:"valueUpdate",source:"external"}),n.notifyWatch()},this.getDependencyChildrenFields=function(e){var t=new Set,r=[],i=new si;n.getFieldEntities().forEach((function(e){(e.props.dependencies||[]).forEach((function(t){var n=Rr(t);i.update(n,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;return t.add(e),t}))}))}));return function e(n){(i.get(n)||new Set).forEach((function(n){if(!t.has(n)){t.add(n);var i=n.getNamePath();n.isFieldDirty()&&i.length&&(r.push(i),e(i))}}))}(e),r},this.triggerOnFieldsChange=function(e,t){var r=n.callbacks.onFieldsChange;if(r){var i=n.getFields();if(t){var a=new si;t.forEach((function(e){var t=e.name,n=e.errors;a.set(t,n)})),i.forEach((function(e){e.errors=a.get(e.name)||e.errors}))}r(i.filter((function(t){var n=t.name;return Fr(e,n)})),i)}},this.validateFields=function(e,t){n.warningUnhooked();var r=!!e,i=r?e.map(Rr):[],a=[];n.getFieldEntities(!0).forEach((function(o){if(r||i.push(o.getNamePath()),(null===t||void 0===t?void 0:t.recursive)&&r){var u=o.getNamePath();u.every((function(t,n){return e[n]===t||void 0===e[n]}))&&i.push(u)}if(o.props.rules&&o.props.rules.length){var s=o.getNamePath();if(!r||Fr(i,s)){var c=o.validateRules(De({validateMessages:De(De({},Ir),n.validateMessages)},t));a.push(c.then((function(){return{name:s,errors:[],warnings:[]}})).catch((function(e){var t=[],n=[];return e.forEach((function(e){var r=e.rule.warningOnly,i=e.errors;r?n.push.apply(n,ln(i)):t.push.apply(t,ln(i))})),t.length?Promise.reject({name:s,errors:t,warnings:n}):{name:s,errors:t,warnings:n}})))}}}));var o=function(e){var t=!1,n=e.length,r=[];return e.length?new Promise((function(i,a){e.forEach((function(e,o){e.catch((function(e){return t=!0,e})).then((function(e){n-=1,r[o]=e,n>0||(t&&a(r),i(r))}))}))})):Promise.resolve([])}(a);n.lastValidatePromise=o,o.catch((function(e){return e})).then((function(e){var t=e.map((function(e){return e.name}));n.notifyObservers(n.store,t,{type:"validateFinish"}),n.triggerOnFieldsChange(t,e)}));var u=o.then((function(){return n.lastValidatePromise===o?Promise.resolve(n.getFieldsValue(i)):Promise.reject([])})).catch((function(e){var t=e.filter((function(e){return e&&e.errors.length}));return Promise.reject({values:n.getFieldsValue(i),errorFields:t,outOfDate:n.lastValidatePromise!==o})}));return u.catch((function(e){return e})),u},this.submit=function(){n.warningUnhooked(),n.validateFields().then((function(e){var t=n.callbacks.onFinish;if(t)try{t(e)}catch(r){console.error(r)}})).catch((function(e){var t=n.callbacks.onFinishFailed;t&&t(e)}))},this.forceRootUpdate=t}));var fi=function(e){var n=t.useRef(),r=s(t.useState({}),2)[1];if(!n.current)if(e)n.current=e;else{var i=new li((function(){r({})}));n.current=i.getForm()}return[n.current]},hi=t.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),di=function(e){var n=e.validateMessages,r=e.onFormChange,i=e.onFormFinish,a=e.children,o=t.useContext(hi),u=t.useRef({});return t.createElement(hi.Provider,{value:De(De({},o),{},{validateMessages:De(De({},o.validateMessages),n),triggerFormChange:function(e,t){r&&r(e,{changedFields:t,forms:u.current}),o.triggerFormChange(e,t)},triggerFormFinish:function(e,t){i&&i(e,{values:t,forms:u.current}),o.triggerFormFinish(e,t)},registerForm:function(e,t){e&&(u.current=De(De({},u.current),{},Pe({},e,t))),o.registerForm(e,t)},unregisterForm:function(e){var t=De({},u.current);delete t[e],u.current=t,o.unregisterForm(e)}})},a)},pi=hi,vi=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"],mi=function(e,n){var r=e.name,i=e.initialValues,a=e.fields,o=e.form,u=e.preserve,c=e.children,l=e.component,f=void 0===l?"form":l,h=e.validateMessages,d=e.validateTrigger,p=void 0===d?"onChange":d,v=e.onValuesChange,m=e.onFieldsChange,y=e.onFinish,g=e.onFinishFailed,b=Le(e,vi),k=t.useContext(pi),w=s(fi(o),1)[0],x=w.getInternalHooks(Kn),_=x.useSubscribe,S=x.setInitialValues,I=x.setCallbacks,T=x.setValidateMessages,C=x.setPreserve,N=x.destroyForm;t.useImperativeHandle(n,(function(){return w})),t.useEffect((function(){return k.registerForm(r,w),function(){k.unregisterForm(r)}}),[k,w,r]),T(De(De({},k.validateMessages),h)),I({onValuesChange:v,onFieldsChange:function(e){if(k.triggerFormChange(r,e),m){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];m.apply(void 0,[e].concat(n))}},onFinish:function(e){k.triggerFormFinish(r,e),y&&y(e)},onFinishFailed:g}),C(u);var A,O=t.useRef(null);S(i,!O.current),O.current||(O.current=!0),t.useEffect((function(){return N}),[]);var P="function"===typeof c;P?A=c(w.getFieldsValue(!0),w):A=c;_(!P);var R=t.useRef();t.useEffect((function(){(function(e,t){if(e===t)return!0;if(!e&&t||e&&!t)return!1;if(!e||!t||"object"!==Ue(e)||"object"!==Ue(t))return!1;var n=Object.keys(e),r=Object.keys(t),i=new Set([].concat(ln(n),ln(r)));return ln(i).every((function(n){var r=e[n],i=t[n];return"function"===typeof r&&"function"===typeof i||r===i}))})(R.current||[],a||[])||w.setFields(a||[]),R.current=a}),[a,w]);var D=t.useMemo((function(){return De(De({},w),{},{validateTrigger:p})}),[w,p]),M=t.createElement($n.Provider,{value:D},A);return!1===f?M:t.createElement(f,E({},b,{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),w.submit()},onReset:function(e){var t;e.preventDefault(),w.resetFields(),null===(t=b.onReset)||void 0===t||t.call(b,e)}}),M)};function yi(e){try{return JSON.stringify(e)}catch(t){return Math.random()}}var gi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,r=(0,t.useState)(),i=s(r,2),a=i[0],o=i[1],u=(0,t.useMemo)((function(){return yi(a)}),[a]),c=(0,t.useRef)(u);c.current=u;var l=(0,t.useContext)($n),f=n||l,h=f&&f._init,d=Rr(e),p=(0,t.useRef)(d);return p.current=d,(0,t.useEffect)((function(){if(h){var e=f.getFieldsValue,t=(0,(0,f.getInternalHooks)(Kn).registerWatch)((function(e){var t=Dr(e,p.current),n=yi(t);c.current!==n&&(c.current=n,o(t))})),n=Dr(e(),p.current);return o(n),t}}),[]),a},bi=t.forwardRef(mi);bi.FormProvider=di,bi.Field=ni,bi.List=ii,bi.useForm=fi,bi.useWatch=gi;var ki=bi,wi=t.createContext({labelAlign:"right",vertical:!1,itemRef:function(){}}),xi=t.createContext(null),Ei=t.createContext({prefixCls:""}),_i=t.createContext({}),Si=function(e){var n=e.children,r=e.status,i=e.override,a=(0,t.useContext)(_i),o=(0,t.useMemo)((function(){var e=E({},a);return i&&delete e.isFormItemInput,r&&(delete e.status,delete e.hasFeedback,delete e.feedbackIcon),e}),[r,i,a]);return t.createElement(_i.Provider,{value:o},n)},Ii=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t},Ti=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Ci=t.createContext(null),Ni=(Ii("top","right","bottom","left"),Ii("default","large"),{distance:180}),Ai=t.forwardRef((function(e,n){var r=e.width,i=e.height,a=e.size,o=void 0===a?"default":a,u=e.closable,c=void 0===u||u,l=e.placement,f=void 0===l?"right":l,h=e.maskClosable,d=void 0===h||h,p=e.mask,v=void 0===p||p,m=e.level,y=void 0===m?null:m,g=e.keyboard,b=void 0===g||g,k=e.push,w=void 0===k?Ni:k,x=e.closeIcon,_=void 0===x?t.createElement(jt,null):x,S=e.bodyStyle,I=e.drawerStyle,T=e.className,C=e.visible,N=e.forceRender,A=e.children,O=e.zIndex,P=e.destroyOnClose,R=e.style,D=e.title,M=e.headerStyle,L=e.onClose,F=e.footer,j=e.footerStyle,V=e.prefixCls,U=e.getContainer,z=e.extra,B=e.afterVisibleChange,q=Ti(e,["width","height","size","closable","placement","maskClosable","mask","level","keyboard","push","closeIcon","bodyStyle","drawerStyle","className","visible","forceRender","children","zIndex","destroyOnClose","style","title","headerStyle","onClose","footer","footerStyle","prefixCls","getContainer","extra","afterVisibleChange"]),H=s(t.useState(!1),2),W=H[0],K=H[1],G=t.useContext(Ci),$=t.useRef(!1),Q=s(t.useState(!1),2),Y=Q[0],X=Q[1],J=s(t.useState(!1),2),Z=J[0],ee=J[1];t.useEffect((function(){C?X(!0):ee(!1)}),[C]),t.useEffect((function(){Y&&C&&ee(!0)}),[Y,C]);var te=t.useContext(Bn),ne=te.getPopupContainer,re=te.getPrefixCls,ie=te.direction,ae=re("drawer",V),oe=void 0===U&&ne?function(){return ne(document.body)}:U;t.useEffect((function(){return C&&G&&G.push(),function(){G&&G.pull()}}),[]),t.useEffect((function(){G&&(Z?G.push():G.pull())}),[Z]);var ue=t.useMemo((function(){return{push:function(){w&&K(!0)},pull:function(){w&&K(!1)}}}),[w]);t.useImperativeHandle(n,(function(){return ue}),[ue]);var se=function(){if(!Z&&!v)return{};var e={};if("left"===f||"right"===f){var t="large"===o?736:378;e.width="undefined"===typeof r?t:r}else{var n="large"===o?736:378;e.height="undefined"===typeof i?n:i}return e},ce=c&&t.createElement("button",{type:"button",onClick:L,"aria-label":"Close",className:"".concat(ae,"-close")},_);var le=je()(Pe({"no-mask":!v},"".concat(ae,"-rtl"),"rtl"===ie),T),fe=v?se():{};return t.createElement(Ci.Provider,{value:ue},t.createElement(Si,{status:!0,override:!0},t.createElement(zn,E({handler:!1},E({placement:f,prefixCls:ae,maskClosable:d,level:y,keyboard:b,children:A,onClose:L,forceRender:N},q),fe,{open:Z||C,showMask:v,style:function(){var e=v?{}:se();return E(E({zIndex:O,transform:W?function(e){var t;return t="boolean"===typeof w?w?Ni.distance:0:w.distance,t=parseFloat(String(t||0)),"left"===e||"right"===e?"translateX(".concat("left"===e?t:-t,"px)"):"top"===e||"bottom"===e?"translateY(".concat("top"===e?t:-t,"px)"):void 0}(f):void 0},e),R)}(),className:le,getContainer:oe,afterVisibleChange:function(e){e?$.current=!1:P&&($.current=!0,X(!1)),null===B||void 0===B||B(e)}}),!$.current||N||C?t.createElement("div",{className:"".concat(ae,"-wrapper-body"),style:E({},I)},D||c?t.createElement("div",{className:je()("".concat(ae,"-header"),Pe({},"".concat(ae,"-header-close-only"),c&&!D&&!z)),style:M},t.createElement("div",{className:"".concat(ae,"-header-title")},ce,D&&t.createElement("div",{className:"".concat(ae,"-title")},D)),z&&t.createElement("div",{className:"".concat(ae,"-extra")},z)):null,t.createElement("div",{className:"".concat(ae,"-body"),style:S},A),function(){if(!F)return null;var e="".concat(ae,"-footer");return t.createElement("div",{className:e,style:j},F)}()):null)))}));var Oi,Pi=Ai,Ri=function(){if(!vt()||!window.document.documentElement)return!1;if(void 0!==Oi)return Oi;var e=document.createElement("div");return e.style.display="flex",e.style.flexDirection="column",e.style.rowGap="1px",e.appendChild(document.createElement("div")),e.appendChild(document.createElement("div")),document.body.appendChild(e),Oi=1===e.scrollHeight,document.body.removeChild(e),Oi},Di=function(){var e=s(t.useState(!1),2),n=e[0],r=e[1];return t.useEffect((function(){r(Ri())}),[]),n};function Mi(e){var n=e.className,r=e.direction,i=e.index,a=e.marginDirection,o=e.children,u=e.split,s=e.wrap,c=t.useContext(Fi),l=c.horizontalSize,f=c.verticalSize,h=c.latestIndex,d={};return c.supportFlexGap||("vertical"===r?i<h&&(d={marginBottom:l/(u?2:1)}):d=E(E({},i<h&&Pe({},a,l/(u?2:1))),s&&{paddingBottom:f})),null===o||void 0===o?null:t.createElement(t.Fragment,null,t.createElement("div",{className:n,style:d},o),i<h&&u&&t.createElement("span",{className:"".concat(n,"-split"),style:d},u))}var Li=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Fi=t.createContext({latestIndex:0,horizontalSize:0,verticalSize:0,supportFlexGap:!1}),ji={small:8,middle:16,large:24};var Vi=function(e){var n,r=t.useContext(Bn),i=r.getPrefixCls,a=r.space,o=r.direction,u=e.size,c=void 0===u?(null===a||void 0===a?void 0:a.size)||"small":u,l=e.align,f=e.className,h=e.children,d=e.direction,p=void 0===d?"horizontal":d,v=e.prefixCls,m=e.split,y=e.style,g=e.wrap,b=void 0!==g&&g,k=Li(e,["size","align","className","children","direction","prefixCls","split","style","wrap"]),w=Di(),x=s(t.useMemo((function(){return(Array.isArray(c)?c:[c,c]).map((function(e){return function(e){return"string"===typeof e?ji[e]:e||0}(e)}))}),[c]),2),_=x[0],S=x[1],I=Wn(h,{keepEmpty:!0}),T=void 0===l&&"horizontal"===p?"center":l,C=i("space",v),N=je()(C,"".concat(C,"-").concat(p),(Pe(n={},"".concat(C,"-rtl"),"rtl"===o),Pe(n,"".concat(C,"-align-").concat(T),T),n),f),A="".concat(C,"-item"),O="rtl"===o?"marginLeft":"marginRight",P=0,R=I.map((function(e,n){null!==e&&void 0!==e&&(P=n);var r=e&&e.key||"".concat(A,"-").concat(n);return t.createElement(Mi,{className:A,key:r,direction:p,index:n,marginDirection:O,split:m,wrap:b},e)})),D=t.useMemo((function(){return{horizontalSize:_,verticalSize:S,latestIndex:P,supportFlexGap:w}}),[_,S,P,w]);if(0===I.length)return null;var M={};return b&&(M.flexWrap="wrap",w||(M.marginBottom=-S)),w&&(M.columnGap=_,M.rowGap=S),t.createElement("div",E({className:N,style:E(E({},M),y)},k),t.createElement(Fi.Provider,{value:D},R))},Ui=t.createContext(!1),zi=function(e){var n=e.children,r=e.disabled,i=t.useContext(Ui);return t.createElement(Ui.Provider,{value:r||i},n)},Bi=Ui,qi=t.createContext(void 0),Hi=function(e){var n=e.children,r=e.size;return t.createElement(qi.Consumer,null,(function(e){return t.createElement(qi.Provider,{value:r||e},n)}))},Wi=qi,Ki=t.isValidElement;function Gi(e,n){return function(e,n,r){return Ki(e)?t.cloneElement(e,"function"===typeof r?r(e.props||{}):r):n}(e,e,n)}function $i(e,t){"function"===typeof e?e(t):"object"===Ue(e)&&e&&"current"in e&&(e.current=t)}function Qi(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter((function(e){return e}));return r.length<=1?r[0]:function(e){t.forEach((function(t){$i(t,e)}))}}function Yi(e){var t,n,r=(0,Hn.isMemo)(e)?e.type.type:e.type;return!("function"===typeof r&&!(null===(t=r.prototype)||void 0===t?void 0:t.render))&&!("function"===typeof e&&!(null===(n=e.prototype)||void 0===n?void 0:n.render))}var Xi,Ji=0,Zi={};function ea(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=Ji++,r=t;function i(){(r-=1)<=0?(e(),delete Zi[n]):Zi[n]=Zt(i)}return Zi[n]=Zt(i),n}function ta(e){return!e||null===e.offsetParent||e.hidden}function na(e){var t=(e||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return!(t&&t[1]&&t[2]&&t[3])||!(t[1]===t[2]&&t[2]===t[3])}ea.cancel=function(e){void 0!==e&&(Zt.cancel(Zi[e]),delete Zi[e])},ea.ids=Zi;var ra=function(e){Bt(r,e);var n=Gt(r);function r(){var e;return Vt(this,r),(e=n.apply(this,arguments)).containerRef=t.createRef(),e.animationStart=!1,e.destroyed=!1,e.onClick=function(t,n){var r,i,a=e.props,o=a.insertExtraNode;if(!(a.disabled||!t||ta(t)||t.className.indexOf("-leave")>=0)){e.extraNode=document.createElement("div");var u=Wt(e).extraNode,s=e.context.getPrefixCls;u.className="".concat(s(""),"-click-animating-node");var c=e.getAttributeName();if(t.setAttribute(c,"true"),n&&"#ffffff"!==n&&"rgb(255, 255, 255)"!==n&&na(n)&&!/rgba\((?:\d*, ){3}0\)/.test(n)&&"transparent"!==n){u.style.borderColor=n;var l=(null===(r=t.getRootNode)||void 0===r?void 0:r.call(t))||t.ownerDocument,f=l instanceof Document?l.body:null!==(i=l.firstChild)&&void 0!==i?i:l;Xi=xt("\n      [".concat(s(""),"-click-animating-without-extra-node='true']::after, .").concat(s(""),"-click-animating-node {\n        --antd-wave-shadow-color: ").concat(n,";\n      }"),"antd-wave",{csp:e.csp,attachTo:f})}o&&t.appendChild(u),["transition","animation"].forEach((function(n){t.addEventListener("".concat(n,"start"),e.onTransitionStart),t.addEventListener("".concat(n,"end"),e.onTransitionEnd)}))}},e.onTransitionStart=function(t){if(!e.destroyed){var n=e.containerRef.current;t&&t.target===n&&!e.animationStart&&e.resetEffect(n)}},e.onTransitionEnd=function(t){t&&"fadeEffect"===t.animationName&&e.resetEffect(t.target)},e.bindAnimationEvent=function(t){if(t&&t.getAttribute&&!t.getAttribute("disabled")&&!(t.className.indexOf("disabled")>=0)){var n=function(n){if("INPUT"!==n.target.tagName&&!ta(n.target)){e.resetEffect(t);var r=getComputedStyle(t).getPropertyValue("border-top-color")||getComputedStyle(t).getPropertyValue("border-color")||getComputedStyle(t).getPropertyValue("background-color");e.clickWaveTimeoutId=window.setTimeout((function(){return e.onClick(t,r)}),0),ea.cancel(e.animationStartId),e.animationStart=!0,e.animationStartId=ea((function(){e.animationStart=!1}),10)}};return t.addEventListener("click",n,!0),{cancel:function(){t.removeEventListener("click",n,!0)}}}},e.renderWave=function(n){var r=n.csp,i=e.props.children;if(e.csp=r,!t.isValidElement(i))return i;var a=e.containerRef;return Yi(i)&&(a=Qi(i.ref,e.containerRef)),Gi(i,{ref:a})},e}return zt(r,[{key:"componentDidMount",value:function(){this.destroyed=!1;var e=this.containerRef.current;e&&1===e.nodeType&&(this.instance=this.bindAnimationEvent(e))}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.cancel(),this.clickWaveTimeoutId&&clearTimeout(this.clickWaveTimeoutId),this.destroyed=!0}},{key:"getAttributeName",value:function(){var e=this.context.getPrefixCls,t=this.props.insertExtraNode;return"".concat(e(""),t?"-click-animating":"-click-animating-without-extra-node")}},{key:"resetEffect",value:function(e){var t=this;if(e&&e!==this.extraNode&&e instanceof Element){var n=this.props.insertExtraNode,r=this.getAttributeName();e.setAttribute(r,"false"),Xi&&(Xi.innerHTML=""),n&&this.extraNode&&e.contains(this.extraNode)&&e.removeChild(this.extraNode),["transition","animation"].forEach((function(n){e.removeEventListener("".concat(n,"start"),t.onTransitionStart),e.removeEventListener("".concat(n,"end"),t.onTransitionEnd)}))}}},{key:"render",value:function(){return t.createElement(qn,null,this.renderWave)}}]),r}(t.Component);ra.contextType=Bn;var ia=(0,t.forwardRef)((function(e,n){return t.createElement(ra,E({ref:n},e))})),aa=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},oa=t.createContext(void 0),ua=function(e){var n,r=t.useContext(Bn),i=r.getPrefixCls,a=r.direction,o=e.prefixCls,u=e.size,s=e.className,c=aa(e,["prefixCls","size","className"]),l=i("btn-group",o),f="";switch(u){case"large":f="lg";break;case"small":f="sm"}var h=je()(l,(Pe(n={},"".concat(l,"-").concat(f),f),Pe(n,"".concat(l,"-rtl"),"rtl"===a),n),s);return t.createElement(oa.Provider,{value:u},t.createElement("div",E({},c,{className:h})))},sa={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},ca=function(e,n){return t.createElement(Lt,De(De({},e),{},{ref:n,icon:sa}))};ca.displayName="LoadingOutlined";var la=t.forwardRef(ca);function fa(e){return e instanceof HTMLElement?e:tn.findDOMNode(e)}function ha(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}var da=function(e,t){var n={animationend:ha("Animation","AnimationEnd"),transitionend:ha("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete n.animationend.animation,"TransitionEvent"in t||delete n.transitionend.transition),n}(vt(),"undefined"!==typeof window?window:{}),pa={};if(vt()){var va=document.createElement("div");pa=va.style}var ma={};function ya(e){if(ma[e])return ma[e];var t=da[e];if(t)for(var n=Object.keys(t),r=n.length,i=0;i<r;i+=1){var a=n[i];if(Object.prototype.hasOwnProperty.call(t,a)&&a in pa)return ma[e]=t[a],ma[e]}return""}var ga=ya("animationend"),ba=ya("transitionend"),ka=!(!ga||!ba),wa=ga||"animationend",xa=ba||"transitionend";function Ea(e,t){return e?"object"===Ue(e)?e[t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}))]:"".concat(e,"-").concat(t):null}var _a="none",Sa="appear",Ia="enter",Ta="leave",Ca="none",Na="prepare",Aa="start",Oa="active",Pa="end";function Ra(e){var n=t.useRef(!1),r=s(t.useState(e),2),i=r[0],a=r[1];return t.useEffect((function(){return n.current=!1,function(){n.current=!0}}),[]),[i,function(e,t){t&&n.current||a(e)}]}var Da=vt()?t.useLayoutEffect:t.useEffect,Ma=[Na,Aa,Oa,Pa];function La(e){return e===Oa||e===Pa}var Fa=function(e,n){var r=s(Ra(Ca),2),i=r[0],a=r[1],o=function(){var e=t.useRef(null);function n(){Zt.cancel(e.current)}return t.useEffect((function(){return function(){n()}}),[]),[function t(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;n();var a=Zt((function(){i<=1?r({isCanceled:function(){return a!==e.current}}):t(r,i-1)}));e.current=a},n]}(),u=s(o,2),c=u[0],l=u[1];return Da((function(){if(i!==Ca&&i!==Pa){var e=Ma.indexOf(i),t=Ma[e+1],r=n(i);false===r?a(t,!0):c((function(e){function n(){e.isCanceled()||a(t,!0)}!0===r?n():Promise.resolve(r).then(n)}))}}),[e,i]),t.useEffect((function(){return function(){l()}}),[]),[function(){a(Na,!0)},i]};function ja(e,n,r,i){var a=i.motionEnter,o=void 0===a||a,u=i.motionAppear,c=void 0===u||u,l=i.motionLeave,f=void 0===l||l,h=i.motionDeadline,d=i.motionLeaveImmediately,p=i.onAppearPrepare,v=i.onEnterPrepare,m=i.onLeavePrepare,y=i.onAppearStart,g=i.onEnterStart,b=i.onLeaveStart,k=i.onAppearActive,w=i.onEnterActive,x=i.onLeaveActive,E=i.onAppearEnd,_=i.onEnterEnd,S=i.onLeaveEnd,I=i.onVisibleChanged,T=s(Ra(),2),C=T[0],N=T[1],A=s(Ra(_a),2),O=A[0],P=A[1],R=s(Ra(null),2),D=R[0],M=R[1],L=(0,t.useRef)(!1),F=(0,t.useRef)(null);function j(){return r()}var V=(0,t.useRef)(!1);function U(e){var t=j();if(!e||e.deadline||e.target===t){var n,r=V.current;O===Sa&&r?n=null===E||void 0===E?void 0:E(t,e):O===Ia&&r?n=null===_||void 0===_?void 0:_(t,e):O===Ta&&r&&(n=null===S||void 0===S?void 0:S(t,e)),O!==_a&&r&&!1!==n&&(P(_a,!0),M(null,!0))}}var z=function(e){var n=(0,t.useRef)(),r=(0,t.useRef)(e);r.current=e;var i=t.useCallback((function(e){r.current(e)}),[]);function a(e){e&&(e.removeEventListener(xa,i),e.removeEventListener(wa,i))}return t.useEffect((function(){return function(){a(n.current)}}),[]),[function(e){n.current&&n.current!==e&&a(n.current),e&&e!==n.current&&(e.addEventListener(xa,i),e.addEventListener(wa,i),n.current=e)},a]}(U),B=s(z,1)[0],q=t.useMemo((function(){var e,t,n;switch(O){case Sa:return Pe(e={},Na,p),Pe(e,Aa,y),Pe(e,Oa,k),e;case Ia:return Pe(t={},Na,v),Pe(t,Aa,g),Pe(t,Oa,w),t;case Ta:return Pe(n={},Na,m),Pe(n,Aa,b),Pe(n,Oa,x),n;default:return{}}}),[O]),H=s(Fa(O,(function(e){if(e===Na){var t=q.prepare;return!!t&&t(j())}var n;K in q&&M((null===(n=q[K])||void 0===n?void 0:n.call(q,j(),null))||null);return K===Oa&&(B(j()),h>0&&(clearTimeout(F.current),F.current=setTimeout((function(){U({deadline:!0})}),h))),true})),2),W=H[0],K=H[1],G=La(K);V.current=G,Da((function(){N(n);var t,r=L.current;(L.current=!0,e)&&(!r&&n&&c&&(t=Sa),r&&n&&o&&(t=Ia),(r&&!n&&f||!r&&d&&!n&&f)&&(t=Ta),t&&(P(t),W()))}),[n]),(0,t.useEffect)((function(){(O===Sa&&!c||O===Ia&&!o||O===Ta&&!f)&&P(_a)}),[c,o,f]),(0,t.useEffect)((function(){return function(){L.current=!1,clearTimeout(F.current)}}),[]),(0,t.useEffect)((function(){void 0!==C&&O===_a&&(null===I||void 0===I||I(C))}),[C,O]);var $=D;return q.prepare&&K===Aa&&($=De({transition:"none"},$)),[O,K,$,null!==C&&void 0!==C?C:n]}var Va=function(e){Bt(n,e);var t=Gt(n);function n(){return Vt(this,n),t.apply(this,arguments)}return zt(n,[{key:"render",value:function(){return this.props.children}}]),n}(t.Component),Ua=Va;var za=function(e){var n=e;function r(e){return!(!e.motionName||!n)}"object"===Ue(e)&&(n=e.transitionSupport);var i=t.forwardRef((function(e,n){var i=e.visible,a=void 0===i||i,o=e.removeOnLeave,u=void 0===o||o,c=e.forceRender,l=e.children,f=e.motionName,h=e.leavedClassName,d=e.eventProps,p=r(e),v=(0,t.useRef)(),m=(0,t.useRef)();var y=s(ja(p,a,(function(){try{return v.current instanceof HTMLElement?v.current:fa(m.current)}catch(BP){return null}}),e),4),g=y[0],b=y[1],k=y[2],w=y[3],x=t.useRef(w);w&&(x.current=!0);var E,_=t.useCallback((function(e){v.current=e,$i(n,e)}),[n]),S=De(De({},d),{},{visible:a});if(l)if(g!==_a&&r(e)){var I,T;b===Na?T="prepare":La(b)?T="active":b===Aa&&(T="start"),E=l(De(De({},S),{},{className:je()(Ea(f,g),(I={},Pe(I,Ea(f,"".concat(g,"-").concat(T)),T),Pe(I,f,"string"===typeof f),I)),style:k}),_)}else E=w?l(De({},S),_):!u&&x.current?l(De(De({},S),{},{className:h}),_):c?l(De(De({},S),{},{style:{display:"none"}}),_):null;else E=null;t.isValidElement(E)&&Yi(E)&&(E.ref||(E=t.cloneElement(E,{ref:_})));return t.createElement(Ua,{ref:m},E)}));return i.displayName="CSSMotion",i}(ka),Ba="add",qa="keep",Ha="remove",Wa="removed";function Ka(e){var t;return De(De({},t=e&&"object"===Ue(e)&&"key"in e?e:{key:e}),{},{key:String(t.key)})}function Ga(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(Ka)}function $a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0,i=t.length,a=Ga(e),o=Ga(t);a.forEach((function(e){for(var t=!1,a=r;a<i;a+=1){var u=o[a];if(u.key===e.key){r<a&&(n=n.concat(o.slice(r,a).map((function(e){return De(De({},e),{},{status:Ba})}))),r=a),n.push(De(De({},u),{},{status:qa})),r+=1,t=!0;break}}t||n.push(De(De({},e),{},{status:Ha}))})),r<i&&(n=n.concat(o.slice(r).map((function(e){return De(De({},e),{},{status:Ba})}))));var u={};n.forEach((function(e){var t=e.key;u[t]=(u[t]||0)+1}));var s=Object.keys(u).filter((function(e){return u[e]>1}));return s.forEach((function(e){n=n.filter((function(t){var n=t.key,r=t.status;return n!==e||r!==Ha})),n.forEach((function(t){t.key===e&&(t.status=qa)}))})),n}var Qa=["component","children","onVisibleChanged","onAllRemoved"],Ya=["status"],Xa=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];var Ja=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:za,r=function(e){Bt(i,e);var r=Gt(i);function i(){var e;Vt(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return(e=r.call.apply(r,[this].concat(n))).state={keyEntities:[]},e.removeKey=function(t){var n=e.state.keyEntities.map((function(e){return e.key!==t?e:De(De({},e),{},{status:Wa})}));return e.setState({keyEntities:n}),n.filter((function(e){return e.status!==Wa})).length},e}return zt(i,[{key:"render",value:function(){var e=this,r=this.state.keyEntities,i=this.props,a=i.component,o=i.children,u=i.onVisibleChanged,s=i.onAllRemoved,c=Le(i,Qa),l=a||t.Fragment,f={};return Xa.forEach((function(e){f[e]=c[e],delete c[e]})),delete c.keys,t.createElement(l,c,r.map((function(r){var i=r.status,a=Le(r,Ya),c=i===Ba||i===qa;return t.createElement(n,E({},f,{key:a.key,visible:c,eventProps:a,onVisibleChanged:function(t){(null===u||void 0===u||u(t,{key:a.key}),t)||0===e.removeKey(a.key)&&s&&s()}}),o)})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.keys,r=t.keyEntities,i=Ga(n);return{keyEntities:$a(r,i).filter((function(e){var t=r.find((function(t){var n=t.key;return e.key===n}));return!t||t.status!==Wa||e.status!==Ha}))}}}]),i}(t.Component);return r.defaultProps={component:"div"},r}(ka),Za=za,eo=function(){return{width:0,opacity:0,transform:"scale(0)"}},to=function(e){return{width:e.scrollWidth,opacity:1,transform:"scale(1)"}},no=function(e){var n=e.prefixCls,r=!!e.loading;return e.existIcon?t.createElement("span",{className:"".concat(n,"-loading-icon")},t.createElement(la,null)):t.createElement(Za,{visible:r,motionName:"".concat(n,"-loading-icon-motion"),removeOnLeave:!0,onAppearStart:eo,onAppearActive:to,onEnterStart:eo,onEnterActive:to,onLeaveStart:to,onLeaveActive:eo},(function(e,r){var i=e.className,a=e.style;return t.createElement("span",{className:"".concat(n,"-loading-icon"),style:a,ref:r},t.createElement(la,{className:i}))}))},ro=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},io=/^[\u4e00-\u9fa5]{2}$/,ao=io.test.bind(io);function oo(e){return"text"===e||"link"===e}function uo(e,n){if(null!==e&&void 0!==e){var r,i=n?" ":"";return"string"!==typeof e&&"number"!==typeof e&&"string"===typeof e.type&&ao(e.props.children)?Gi(e,{children:e.props.children.split("").join(i)}):"string"===typeof e?ao(e)?t.createElement("span",null,e.split("").join(i)):t.createElement("span",null,e):(r=e,t.isValidElement(r)&&r.type===t.Fragment?t.createElement("span",null,e):e)}}Ii("default","primary","ghost","dashed","link","text"),Ii("default","circle","round"),Ii("submit","button","reset");var so=function(e,n){var r,i=e.loading,a=void 0!==i&&i,o=e.prefixCls,u=e.type,c=void 0===u?"default":u,l=e.danger,f=e.shape,h=void 0===f?"default":f,d=e.size,p=e.disabled,v=e.className,m=e.children,y=e.icon,g=e.ghost,b=void 0!==g&&g,k=e.block,w=void 0!==k&&k,x=e.htmlType,_=void 0===x?"button":x,S=ro(e,["loading","prefixCls","type","danger","shape","size","disabled","className","children","icon","ghost","block","htmlType"]),I=t.useContext(Wi),T=t.useContext(Bi),C=p||T,N=t.useContext(oa),A=s(t.useState(!!a),2),O=A[0],P=A[1],R=s(t.useState(!1),2),D=R[0],M=R[1],L=t.useContext(Bn),F=L.getPrefixCls,j=L.autoInsertSpaceInButton,V=L.direction,U=n||t.createRef(),z=function(){return 1===t.Children.count(m)&&!y&&!oo(c)},B="object"===Ue(a)&&a.delay?a.delay||!0:!!a;t.useEffect((function(){var e=null;return"number"===typeof B?e=window.setTimeout((function(){e=null,P(B)}),B):P(B),function(){e&&(window.clearTimeout(e),e=null)}}),[B]),t.useEffect((function(){if(U&&U.current&&!1!==j){var e=U.current.textContent;z()&&ao(e)?D||M(!0):D&&M(!1)}}),[U]);var q=function(t){var n=e.onClick;O||C?t.preventDefault():null===n||void 0===n||n(t)},H=F("btn",o),W=!1!==j,K=N||d||I,G=K&&{large:"lg",small:"sm",middle:void 0}[K]||"",$=O?"loading":y,Q=Sn(S,["navigate"]),Y=je()(H,(Pe(r={},"".concat(H,"-").concat(h),"default"!==h&&h),Pe(r,"".concat(H,"-").concat(c),c),Pe(r,"".concat(H,"-").concat(G),G),Pe(r,"".concat(H,"-icon-only"),!m&&0!==m&&!!$),Pe(r,"".concat(H,"-background-ghost"),b&&!oo(c)),Pe(r,"".concat(H,"-loading"),O),Pe(r,"".concat(H,"-two-chinese-chars"),D&&W&&!O),Pe(r,"".concat(H,"-block"),w),Pe(r,"".concat(H,"-dangerous"),!!l),Pe(r,"".concat(H,"-rtl"),"rtl"===V),Pe(r,"".concat(H,"-disabled"),void 0!==Q.href&&C),r),v),X=y&&!O?y:t.createElement(no,{existIcon:!!y,prefixCls:H,loading:!!O}),J=m||0===m?function(e,n){var r=!1,i=[];return t.Children.forEach(e,(function(e){var t=Ue(e),n="string"===t||"number"===t;if(r&&n){var a=i.length-1,o=i[a];i[a]="".concat(o).concat(e)}else i.push(e);r=n})),t.Children.map(i,(function(e){return uo(e,n)}))}(m,z()&&W):null;if(void 0!==Q.href)return t.createElement("a",E({},Q,{className:Y,onClick:q,ref:U}),X,J);var Z=t.createElement("button",E({},S,{type:_,className:Y,onClick:q,disabled:C,ref:U}),X,J);return oo(c)?Z:t.createElement(ia,{disabled:!!O},Z)},co=t.forwardRef(so);co.Group=ua,co.__ANT_BUTTON=!0;var lo=co,fo=n(184),ho=function(){var e=s((0,t.useState)(""),2),n=e[0],r=e[1],i=s((0,t.useState)(!1),2),a=i[0],o=i[1],u=s((0,t.useState)("right"),2),c=u[0],l=(u[1],s(t.useState(!1),2)),f=(l[0],l[1]),h=we();return(0,fo.jsxs)("div",{className:"navbar",children:[(0,fo.jsx)("img",{src:"https://salinaka-ecommerce.web.app/images/logo-full.059e10fa5fedbfb65165e7565ed3936f.png",alt:"",onClick:function(){return h.push("/")}}),(0,fo.jsxs)("ul",{className:"navigation-bar",children:[(0,fo.jsx)("ui",{className:"home",onClick:function(){return h.push("/")},children:"Home"}),(0,fo.jsx)("ui",{className:"home",onClick:function(){return h.push("/shop-page")},children:"Shop"}),(0,fo.jsx)("ui",{className:"home",children:"Featured"}),(0,fo.jsx)("ui",{className:"home",children:"Recommended"})]}),(0,fo.jsx)("form",{onSubmit:function(e){e.preventDefault(),h.push("/search?product=".concat(n)),r("")},children:(0,fo.jsx)("div",{className:"logo-search",children:(0,fo.jsx)("input",{className:"serach-type",type:"search",placeholder:"Search product..",onChange:function(e){return r(e.target.value)},value:n})})}),(0,fo.jsx)("div",{className:"logo",children:(0,fo.jsx)(b,{})}),(0,fo.jsxs)("div",{className:"cart-bag",onClick:function(){o(!0)},children:[(0,fo.jsx)(k,{size:"22px"}),(0,fo.jsx)(Pi,{placement:c,width:500,onClose:function(){o(!1)},visible:a,extra:(0,fo.jsxs)(Vi,{children:[(0,fo.jsx)(lo,{onClick:function(){return f(!1)},children:"Close"}),(0,fo.jsx)(lo,{type:"primary",onClick:function(){return f(!1)},children:"Clear Basket"})]}),children:(0,fo.jsx)("p",{children:"Basket is Empty."})})]}),(0,fo.jsxs)("div",{className:"sign-up-in",children:[(0,fo.jsx)(Ne,{className:"sign-up",to:"/sign-up",children:"Sign-up"}),(0,fo.jsx)(Ne,{className:"sign-in",to:"/sign-in",children:"Sign-in"})]})]})},po=function(){var e=we();return(0,fo.jsx)("div",{className:"main",children:(0,fo.jsxs)("div",{className:"banner",children:[(0,fo.jsx)("img",{src:"https://salinaka-ecommerce.web.app/images/banner-girl.789f1fa6f451ad26c5039fcbc049ace7.png",alt:""}),(0,fo.jsx)("h1",{children:"See everything with Clarity"}),(0,fo.jsxs)("p",{children:["Buying eyewear should leave you happy and good-looking, with money in your pocket. Glasses, sunglasses, and ",(0,fo.jsx)("br",{}),(0,fo.jsx)("p",{className:"p-next",children:"contacts\u2014we've got your eyes covered."})]}),(0,fo.jsx)("div",{className:"shop",onClick:function(){return e.push("/shop-page")},children:"SHOP NOW"})]})})};function vo(e,t,n){return vo=Ht()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&w(i,n.prototype),i},vo.apply(null,arguments)}function mo(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=qt(e)););return e}function yo(){return yo="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=mo(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},yo.apply(this,arguments)}function go(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,a=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw a}}}}function bo(e){var t="function"===typeof Map?new Map:void 0;return bo=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return vo(e,arguments,qt(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),w(n,e)},bo(e)}var ko=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},wo={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ko(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},xo=function(e){return function(e){var t=ko(e);return wo.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Eo=function(e){try{return wo.decodeString(e,!0)}catch(BP){console.error("base64Decode failed: ",BP)}return null};function _o(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&So(n)&&(e[n]=_o(e[n],t[n]));return e}function So(e){return"__proto__"!==e}var Io=function(){function e(){var t=this;Vt(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return zt(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function To(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[xo(JSON.stringify({alg:"none",type:"JWT"})),xo(JSON.stringify(a)),""].join(".")}function Co(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function No(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Co())}function Ao(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(BP){return!1}}function Oo(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Po(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Ro(){var e=Co();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Do(){return"object"===typeof indexedDB}var Mo=function(e){Bt(n,e);var t=Gt(n);function n(e,r,i){var a;return Vt(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(Wt(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Wt(a),Lo.prototype.create),a}return zt(n)}(bo(Error)),Lo=function(){function e(t,n,r){Vt(this,e),this.service=t,this.serviceName=n,this.errors=r}return zt(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Fo(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Mo(n,a,t);return o}}]),e}();function Fo(e,t){return e.replace(jo,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var jo=/\{\$([^}]+)}/g;function Vo(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Uo(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(zo(u)&&zo(s)){if(!Uo(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function zo(e){return null!==e&&"object"===typeof e}function Bo(e){for(var t=[],n=function(){var e=s(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function qo(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=s(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Ho(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Wo(e,t){var n=new Ko(e,t);return n.subscribe.bind(n)}var Ko=function(){function e(t,n){var r=this;Vt(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return zt(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=go(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Go),void 0===r.error&&(r.error=Go),void 0===r.complete&&(r.complete=Go);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(BP){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(BP){"undefined"!==typeof console&&console.error&&console.error(BP)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Go(){}function $o(e){return e&&e._delegate?e._delegate:e}var Qo=function(){function e(t,n,r){Vt(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return zt(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Yo="[DEFAULT]",Xo=function(){function e(t,n){Vt(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return zt(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Io;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(BP){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(BP){if(r)return null;throw BP}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Yo})}catch(BP){}var t,n=go(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=s(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(BP){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yo;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Jn(Yn().mark((function e(){var t;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(ln(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),ln(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yo;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yo;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=go(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=s(i.value,2),c=u[0],l=u[1],f=this.normalizeInstanceIdentifier(c);r===f&&l.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=go(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(Ox){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Yo?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(Ox){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yo;return this.component?this.component.multipleInstances?e:Yo:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Jo,Zo,eu=function(){function e(t){Vt(this,e),this.name=t,this.providers=new Map}return zt(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Xo(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),tu=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Zo||(Zo={}));var nu={debug:Zo.DEBUG,verbose:Zo.VERBOSE,info:Zo.INFO,warn:Zo.WARN,error:Zo.ERROR,silent:Zo.SILENT},ru=Zo.INFO,iu=(Pe(Jo={},Zo.DEBUG,"log"),Pe(Jo,Zo.VERBOSE,"log"),Pe(Jo,Zo.INFO,"info"),Pe(Jo,Zo.WARN,"warn"),Pe(Jo,Zo.ERROR,"error"),Jo),au=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=iu[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},ou=function(){function e(t){Vt(this,e),this.name=t,this._logLevel=ru,this._logHandler=au,this._userLogHandler=null,tu.push(this)}return zt(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Zo))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?nu[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Zo.DEBUG].concat(t)),this._logHandler.apply(this,[this,Zo.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Zo.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Zo.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Zo.INFO].concat(t)),this._logHandler.apply(this,[this,Zo.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Zo.WARN].concat(t)),this._logHandler.apply(this,[this,Zo.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Zo.ERROR].concat(t)),this._logHandler.apply(this,[this,Zo.ERROR].concat(t))}}]),e}();var uu,su;var cu=new WeakMap,lu=new WeakMap,fu=new WeakMap,hu=new WeakMap,du=new WeakMap;var pu={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return lu.get(e);if("objectStoreNames"===t)return e.objectStoreNames||fu.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return yu(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function vu(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(su||(su=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(gu(this),n),yu(cu.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return yu(e.apply(gu(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[gu(this),t].concat(r));return fu.set(a,t.sort?t.sort():[t]),yu(a)}}function mu(e){return"function"===typeof e?vu(e):(e instanceof IDBTransaction&&function(e){if(!lu.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));lu.set(e,t)}}(e),function(e,t){return t.some((function(t){return e instanceof t}))}(e,uu||(uu=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,pu):e)}function yu(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(yu(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&cu.set(t,e)})).catch((function(){})),du.set(t,e),t}(e);if(hu.has(e))return hu.get(e);var t=mu(e);return t!==e&&(hu.set(e,t),du.set(t,e)),t}var gu=function(e){return du.get(e)};var bu,ku,wu=["get","getKey","getAll","getAllKeys","count"],xu=["put","add","delete","clear"],Eu=new Map;function _u(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Eu.get(t))return Eu.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=xu.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||wu.includes(n))){var a=function(){var e=Jn(Yn().mark((function e(t){var a,o,u,s,c,l,f=arguments;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Eu.set(t,a),a}}}pu=function(e){return De(De({},e),{},{get:function(t,n,r){return _u(t,n)||e.get(t,n,r)},has:function(t,n){return!!_u(t,n)||e.has(t,n)}})}(pu);var Su=function(){function e(t){Vt(this,e),this.container=t}return zt(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Iu="@firebase/app",Tu="0.7.27",Cu=new ou("@firebase/app"),Nu="[DEFAULT]",Au=(Pe(bu={},Iu,"fire-core"),Pe(bu,"@firebase/app-compat","fire-core-compat"),Pe(bu,"@firebase/analytics","fire-analytics"),Pe(bu,"@firebase/analytics-compat","fire-analytics-compat"),Pe(bu,"@firebase/app-check","fire-app-check"),Pe(bu,"@firebase/app-check-compat","fire-app-check-compat"),Pe(bu,"@firebase/auth","fire-auth"),Pe(bu,"@firebase/auth-compat","fire-auth-compat"),Pe(bu,"@firebase/database","fire-rtdb"),Pe(bu,"@firebase/database-compat","fire-rtdb-compat"),Pe(bu,"@firebase/functions","fire-fn"),Pe(bu,"@firebase/functions-compat","fire-fn-compat"),Pe(bu,"@firebase/installations","fire-iid"),Pe(bu,"@firebase/installations-compat","fire-iid-compat"),Pe(bu,"@firebase/messaging","fire-fcm"),Pe(bu,"@firebase/messaging-compat","fire-fcm-compat"),Pe(bu,"@firebase/performance","fire-perf"),Pe(bu,"@firebase/performance-compat","fire-perf-compat"),Pe(bu,"@firebase/remote-config","fire-rc"),Pe(bu,"@firebase/remote-config-compat","fire-rc-compat"),Pe(bu,"@firebase/storage","fire-gcs"),Pe(bu,"@firebase/storage-compat","fire-gcs-compat"),Pe(bu,"@firebase/firestore","fire-fst"),Pe(bu,"@firebase/firestore-compat","fire-fst-compat"),Pe(bu,"fire-js","fire-js"),Pe(bu,"firebase","fire-js-all"),bu),Ou=new Map,Pu=new Map;function Ru(e,t){try{e.container.addComponent(t)}catch(BP){Cu.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),BP)}}function Du(e,t){e.container.addOrOverwriteComponent(t)}function Mu(e){var t=e.name;if(Pu.has(t))return Cu.debug("There were multiple attempts to register component ".concat(t,".")),!1;Pu.set(t,e);var n,r=go(Ou.values());try{for(r.s();!(n=r.n()).done;){Ru(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Lu(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Fu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Nu;Lu(e,t).clearInstance(n)}function ju(){Pu.clear()}var Vu=(Pe(ku={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Pe(ku,"bad-app-name","Illegal App name: '{$appName}"),Pe(ku,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Pe(ku,"app-deleted","Firebase App named '{$appName}' already deleted"),Pe(ku,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Pe(ku,"invalid-log-argument","First argument to `onLog` must be null or a function."),Pe(ku,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),Pe(ku,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),Pe(ku,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),Pe(ku,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),ku),Uu=new Lo("app","Firebase",Vu),zu=function(){function e(t,n,r){var i=this;Vt(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qo("app",(function(){return i}),"PUBLIC"))}return zt(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Uu.create("app-deleted",{appName:this._name})}}]),e}(),Bu="9.8.4";function qu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Nu,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Uu.create("bad-app-name",{appName:String(i)});var a=Ou.get(i);if(a){if(Uo(e,a.options)&&Uo(r,a.config))return a;throw Uu.create("duplicate-app",{appName:i})}var o,u=new eu(i),s=go(Pu.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new zu(e,r,u);return Ou.set(i,l),l}function Hu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nu,t=Ou.get(e);if(!t)throw Uu.create("no-app",{appName:e});return t}function Wu(){return Array.from(Ou.values())}function Ku(e){return Gu.apply(this,arguments)}function Gu(){return Gu=Jn(Yn().mark((function e(t){var n;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Ou.has(n)){e.next=6;break}return Ou.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),Gu.apply(this,arguments)}function $u(e,t,n){var r,i=null!==(r=Au[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Cu.warn(u.join(" "))}Mu(new Qo("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Qu(e,t){if(null!==e&&"function"!==typeof e)throw Uu.create("invalid-log-argument");!function(e,t){var n,r=go(tu);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=nu[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Zo[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Yu(e){var t;t=e,tu.forEach((function(e){e.setLogLevel(t)}))}var Xu="firebase-heartbeat-store",Ju=null;function Zu(){return Ju||(Ju=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=yu(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(yu(u.result),e.oldVersion,e.newVersion,yu(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Xu)}}).catch((function(e){throw Uu.create("storage-open",{originalErrorMessage:e.message})}))),Ju}function es(e){return ts.apply(this,arguments)}function ts(){return ts=Jn(Yn().mark((function e(t){var n,r;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Zu();case 3:return r=e.sent,e.abrupt("return",r.transaction(Xu).objectStore(Xu).get(is(t)));case 7:throw e.prev=7,e.t0=e.catch(0),Uu.create("storage-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),ts.apply(this,arguments)}function ns(e,t){return rs.apply(this,arguments)}function rs(){return rs=Jn(Yn().mark((function e(t,n){var r,i,a,o;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Zu();case 3:return i=e.sent,a=i.transaction(Xu,"readwrite"),o=a.objectStore(Xu),e.next=8,o.put(n,is(t));case 8:return e.abrupt("return",a.done);case 11:throw e.prev=11,e.t0=e.catch(0),Uu.create("storage-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),rs.apply(this,arguments)}function is(e){return"".concat(e.name,"!").concat(e.options.appId)}var as=function(){function e(t){var n=this;Vt(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new cs(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return zt(e,[{key:"triggerHeartbeat",value:function(){var e=Jn(Yn().mark((function e(){var t,n,r;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=os(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Jn(Yn().mark((function e(){var t,n,r,i,a;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=os(),n=us(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=xo(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function os(){return(new Date).toISOString().substring(0,10)}function us(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=go(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),ls(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),ls(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var ss,cs=function(){function e(t){Vt(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return zt(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Jn(Yn().mark((function e(){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Do()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Jn(Yn().mark((function e(){var t;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,es(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Jn(Yn().mark((function e(t){var n,r;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",ns(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Jn(Yn().mark((function e(t){var n,r;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",ns(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(ln(r.heartbeats),ln(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function ls(e){return xo(JSON.stringify({version:2,heartbeats:e})).length}ss="",Mu(new Qo("platform-logger",(function(e){return new Su(e)}),"PRIVATE")),Mu(new Qo("heartbeat",(function(e){return new as(e)}),"PRIVATE")),$u(Iu,Tu,ss),$u(Iu,Tu,"esm2017"),$u("fire-js","");var fs,hs="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},ds={},ps=ps||{},vs=hs||self;function ms(){}function ys(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function gs(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var bs="closure_uid_"+(1e9*Math.random()>>>0),ks=0;function ws(e,t,n){return e.call.apply(e.bind,arguments)}function xs(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Es(e,t,n){return(Es=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ws:xs).apply(null,arguments)}function _s(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Ss(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Is(){this.s=this.s,this.o=this.o}var Ts={};Is.prototype.s=!1,Is.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,bs)&&e[bs]||(e[bs]=++ks)}(this);delete Ts[e]}},Is.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Cs=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Ns=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function As(e){return Array.prototype.concat.apply([],arguments)}function Os(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Ps(e){return/^[\s\xa0]*$/.test(e)}var Rs,Ds=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Ms(e,t){return-1!=e.indexOf(t)}function Ls(e,t){return e<t?-1:e>t?1:0}e:{var Fs=vs.navigator;if(Fs){var js=Fs.userAgent;if(js){Rs=js;break e}}Rs=""}function Vs(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Us(e){var t={};for(var n in e)t[n]=e[n];return t}var zs="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Bs(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<zs.length;a++)n=zs[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function qs(e){return qs[" "](e),e}qs[" "]=ms;var Hs,Ws=Ms(Rs,"Opera"),Ks=Ms(Rs,"Trident")||Ms(Rs,"MSIE"),Gs=Ms(Rs,"Edge"),$s=Gs||Ks,Qs=Ms(Rs,"Gecko")&&!(Ms(Rs.toLowerCase(),"webkit")&&!Ms(Rs,"Edge"))&&!(Ms(Rs,"Trident")||Ms(Rs,"MSIE"))&&!Ms(Rs,"Edge"),Ys=Ms(Rs.toLowerCase(),"webkit")&&!Ms(Rs,"Edge");function Xs(){var e=vs.document;return e?e.documentMode:void 0}e:{var Js="",Zs=function(){var e=Rs;return Qs?/rv:([^\);]+)(\)|;)/.exec(e):Gs?/Edge\/([\d\.]+)/.exec(e):Ks?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Ys?/WebKit\/(\S+)/.exec(e):Ws?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Zs&&(Js=Zs?Zs[1]:""),Ks){var ec=Xs();if(null!=ec&&ec>parseFloat(Js)){Hs=String(ec);break e}}Hs=Js}var tc,nc={};function rc(){return function(e){var t=nc;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Ds(String(Hs)).split("."),n=Ds("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Ls(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Ls(0==a[2].length,0==o[2].length)||Ls(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(vs.document&&Ks){var ic=Xs();tc=ic||(parseInt(Hs,10)||void 0)}else tc=void 0;var ac=tc,oc=function(){if(!vs.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{vs.addEventListener("test",ms,t),vs.removeEventListener("test",ms,t)}catch(n){}return e}();function uc(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function sc(e,t){if(uc.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Qs){e:{try{qs(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:cc[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&sc.Z.h.call(this)}}uc.prototype.h=function(){this.defaultPrevented=!0},Ss(sc,uc);var cc={2:"touch",3:"pen",4:"mouse"};sc.prototype.h=function(){sc.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var lc="closure_listenable_"+(1e6*Math.random()|0),fc=0;function hc(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++fc,this.ca=this.fa=!1}function dc(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function pc(e){this.src=e,this.g={},this.h=0}function vc(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Cs(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(dc(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function mc(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}pc.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=mc(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new hc(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var yc="closure_lm_"+(1e6*Math.random()|0),gc={};function bc(e,t,n,r,i){if(r&&r.once)return wc(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)bc(e,t[a],n,r,i);return null}return n=Cc(n),e&&e[lc]?e.N(t,n,gs(r)?!!r.capture:!!r,i):kc(e,t,n,!1,r,i)}function kc(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=gs(i)?!!i.capture:!!i,u=Ic(e);if(u||(e[yc]=u=new pc(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Sc;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)oc||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(_c(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function wc(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)wc(e,t[a],n,r,i);return null}return n=Cc(n),e&&e[lc]?e.O(t,n,gs(r)?!!r.capture:!!r,i):kc(e,t,n,!0,r,i)}function xc(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)xc(e,t[a],n,r,i);else r=gs(r)?!!r.capture:!!r,n=Cc(n),e&&e[lc]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=mc(a=e.g[t],n,r,i))&&(dc(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Ic(e))&&(t=e.g[t.toString()],e=-1,t&&(e=mc(t,n,r,i)),(n=-1<e?t[e]:null)&&Ec(n))}function Ec(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[lc])vc(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(_c(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ic(t))?(vc(n,e),0==n.h&&(n.src=null,t[yc]=null)):dc(e)}}}function _c(e){return e in gc?gc[e]:gc[e]="on"+e}function Sc(e,t){if(e.ca)e=!0;else{t=new sc(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Ec(e),e=n.call(r,t)}return e}function Ic(e){return(e=e[yc])instanceof pc?e:null}var Tc="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cc(e){return"function"===typeof e?e:(e[Tc]||(e[Tc]=function(t){return e.handleEvent(t)}),e[Tc])}function Nc(){Is.call(this),this.i=new pc(this),this.P=this,this.I=null}function Ac(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new uc(t,e);else if(t instanceof uc)t.target=t.target||e;else{var i=t;Bs(t=new uc(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Oc(o,r,!0,t)&&i}if(i=Oc(o=t.g=e,r,!0,t)&&i,i=Oc(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Oc(o=t.g=n[a],r,!1,t)&&i}function Oc(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&vc(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Ss(Nc,Is),Nc.prototype[lc]=!0,Nc.prototype.removeEventListener=function(e,t,n,r){xc(this,e,t,n,r)},Nc.prototype.M=function(){if(Nc.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)dc(n[r]);delete t.g[e],t.h--}}this.I=null},Nc.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Nc.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Pc=vs.JSON.stringify;function Rc(){var e=zc,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Dc,Mc=function(){function e(){Vt(this,e),this.h=this.g=null}return zt(e,[{key:"add",value:function(e,t){var n=Lc.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Lc=new(function(){function e(t,n){Vt(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return zt(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Fc}),(function(e){return e.reset()})),Fc=function(){function e(){Vt(this,e),this.next=this.g=this.h=null}return zt(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function jc(e){vs.setTimeout((function(){throw e}),0)}function Vc(e,t){Dc||function(){var e=vs.Promise.resolve(void 0);Dc=function(){e.then(Bc)}}(),Uc||(Dc(),Uc=!0),zc.add(e,t)}var Uc=!1,zc=new Mc;function Bc(){for(var e;e=Rc();){try{e.h.call(e.g)}catch(n){jc(n)}var t=Lc;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Uc=!1}function qc(e,t){Nc.call(this),this.h=e||1,this.g=t||vs,this.j=Es(this.kb,this),this.l=Date.now()}function Hc(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Wc(e,t,n){if("function"===typeof e)n&&(e=Es(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Es(e.handleEvent,e)}return 2147483647<Number(t)?-1:vs.setTimeout(e,t||0)}function Kc(e){e.g=Wc((function(){e.g=null,e.i&&(e.i=!1,Kc(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Ss(qc,Nc),(fs=qc.prototype).da=!1,fs.S=null,fs.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ac(this,"tick"),this.da&&(Hc(this),this.start()))}},fs.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},fs.M=function(){qc.Z.M.call(this),Hc(this),delete this.g};var Gc=function(e){Bt(n,e);var t=Gt(n);function n(e,r){var i;return Vt(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return zt(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Kc(this)}},{key:"M",value:function(){yo(qt(n.prototype),"M",this).call(this),this.g&&(vs.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Is);function $c(e){Is.call(this),this.h=e,this.g={}}Ss($c,Is);var Qc=[];function Yc(e,t,n,r){Array.isArray(n)||(n&&(Qc[0]=n.toString()),n=Qc);for(var i=0;i<n.length;i++){var a=bc(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Xc(e){Vs(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Ec(e)}),e),e.g={}}function Jc(){this.g=!0}function Zc(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Pc(n)}catch(qP){return t}}(e,n)+(r?" "+r:"")}))}$c.prototype.M=function(){$c.Z.M.call(this),Xc(this)},$c.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Jc.prototype.Aa=function(){this.g=!1},Jc.prototype.info=function(){};var el={},tl=null;function nl(){return tl=tl||new Nc}function rl(e){uc.call(this,el.Ma,e)}function il(e){var t=nl();Ac(t,new rl(t,e))}function al(e,t){uc.call(this,el.STAT_EVENT,e),this.stat=t}function ol(e){var t=nl();Ac(t,new al(t,e))}function ul(e,t){uc.call(this,el.Na,e),this.size=t}function sl(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return vs.setTimeout((function(){e()}),t)}el.Ma="serverreachability",Ss(rl,uc),el.STAT_EVENT="statevent",Ss(al,uc),el.Na="timingevent",Ss(ul,uc);var cl={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ll={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function fl(){}function hl(e){return e.h||(e.h=e.i())}function dl(){}fl.prototype.h=null;var pl,vl={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ml(){uc.call(this,"d")}function yl(){uc.call(this,"c")}function gl(){}function bl(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new $c(this),this.P=wl,e=$s?125:void 0,this.W=new qc(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new kl}function kl(){this.i=null,this.g="",this.h=!1}Ss(ml,uc),Ss(yl,uc),Ss(gl,fl),gl.prototype.g=function(){return new XMLHttpRequest},gl.prototype.i=function(){return{}},pl=new gl;var wl=45e3,xl={},El={};function _l(e,t,n){e.K=1,e.v=Gl(zl(t)),e.s=n,e.U=!0,Sl(e,null)}function Sl(e,t){e.F=Date.now(),Nl(e),e.A=zl(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),uf(n.h,"t",r),e.C=0,n=e.l.H,e.h=new kl,e.g=ch(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Gc(Es(e.Ia,e,e.g),e.O)),Yc(e.V,e.g,"readystatechange",e.gb),t=e.H?Us(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),il(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Il(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Tl(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Cl(e,n))==El){4==t&&(e.o=4,ol(14),i=!1),Zc(e.j,e.m,null,"[Incomplete Response]");break}if(r==xl){e.o=4,ol(15),Zc(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Zc(e.j,e.m,r,null),Dl(e,r)}Il(e)&&r!=El&&r!=xl&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,ol(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),th(t),t.L=!0,ol(11))):(Zc(e.j,e.m,n,"[Invalid Chunked Response]"),Rl(e),Pl(e))}function Cl(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?El:(n=Number(t.substring(n,r)),isNaN(n)?xl:(r+=1)+n>t.length?El:(t=t.substr(r,n),e.C=r+n,t))}function Nl(e){e.Y=Date.now()+e.P,Al(e,e.P)}function Al(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=sl(Es(e.eb,e),t)}function Ol(e){e.B&&(vs.clearTimeout(e.B),e.B=null)}function Pl(e){0==e.l.G||e.I||ih(e.l,e)}function Rl(e){Ol(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Hc(e.W),Xc(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Dl(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||vf(n.i,e)))if(n.I=e.N,!e.J&&vf(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;rh(n),Kf(n)}eh(n),ol(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=sl(Es(n.ab,n),6e3));if(1>=pf(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else oh(n,11)}else if((e.J||n.g==e)&&rh(n),!Ps(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Ms(l,"spdy")||Ms(l,"quic")||Ms(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(mf(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Kl(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=sh(r,r.H?r.la:null,r.W),d.J){yf(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Ol(p),Nl(p)),r.g=d}else Zf(r);0<n.l.length&&Qf(n)}else"stop"!=a[0]&&"close"!=a[0]||oh(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?oh(n,7):Wf(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}il(4)}catch(a){}}function Ml(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(ys(e)||"string"===typeof e)Ns(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(ys(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(ys(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Ll(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Ll)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Fl(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];jl(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)jl(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function jl(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(fs=bl.prototype).setTimeout=function(e){this.P=e},fs.gb=function(e){e=e.target;var t=this.L;t&&3==Uf(e)?t.l():this.Ia(e)},fs.Ia=function(e){try{if(e==this.g)e:{var t=Uf(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||$s||this.g&&(this.h.h||this.g.ga()||zf(this.g)))){this.I||4!=t||7==n||il(8==n||0>=r?3:2),Ol(this);var i=this.g.ba();this.N=i;t:if(Il(this)){var a=zf(this.g);e="";var o=a.length,u=4==Uf(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Rl(this),Pl(this);var s="";break t}this.h.i=new vs.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ps(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,ol(12),Rl(this),Pl(this);break e}Zc(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Dl(this,i)}this.U?(Tl(this,t,s),$s&&this.i&&3==t&&(Yc(this.V,this.W,"tick",this.fb),this.W.start())):(Zc(this.j,this.m,s,null),Dl(this,s)),4==t&&Rl(this),this.i&&!this.I&&(4==t?ih(this.l,this):(this.i=!1,Nl(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,ol(12)):(this.o=0,ol(13)),Rl(this),Pl(this)}}}catch(t){}},fs.fb=function(){if(this.g){var e=Uf(this.g),t=this.g.ga();this.C<t.length&&(Ol(this),Tl(this,e,t),this.i&&4!=e&&Nl(this))}},fs.cancel=function(){this.I=!0,Rl(this)},fs.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(il(3),ol(17)),Rl(this),this.o=2,Pl(this)):Al(this,this.Y-e)},(fs=Ll.prototype).R=function(){Fl(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},fs.T=function(){return Fl(this),this.g.concat()},fs.get=function(e,t){return jl(this.h,e)?this.h[e]:t},fs.set=function(e,t){jl(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},fs.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Vl=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ul(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Ul){this.g=void 0!==t?t:e.g,Bl(this,e.j),this.s=e.s,ql(this,e.i),Hl(this,e.m),this.l=e.l,t=e.h;var n=new nf;n.i=t.i,t.g&&(n.g=new Ll(t.g),n.h=t.h),Wl(this,n),this.o=e.o}else e&&(n=String(e).match(Vl))?(this.g=!!t,Bl(this,n[1]||"",!0),this.s=$l(n[2]||""),ql(this,n[3]||"",!0),Hl(this,n[4]),this.l=$l(n[5]||"",!0),Wl(this,n[6]||"",!0),this.o=$l(n[7]||"")):(this.g=!!t,this.h=new nf(null,this.g))}function zl(e){return new Ul(e)}function Bl(e,t,n){e.j=n?$l(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ql(e,t,n){e.i=n?$l(t,!0):t}function Hl(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Wl(e,t,n){t instanceof nf?(e.h=t,function(e,t){t&&!e.j&&(rf(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(af(this,t),uf(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Ql(t,ef)),e.h=new nf(t,e.g))}function Kl(e,t,n){e.h.set(t,n)}function Gl(e){return Kl(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function $l(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ql(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Yl),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Yl(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ul.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ql(t,Xl,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Ql(t,Xl,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ql(n,"/"==n.charAt(0)?Zl:Jl,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ql(n,tf)),e.join("")};var Xl=/[#\/\?@]/g,Jl=/[#\?:]/g,Zl=/[#\?]/g,ef=/[#\?@]/g,tf=/#/g;function nf(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function rf(e){e.g||(e.g=new Ll,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function af(e,t){rf(e),t=sf(e,t),jl(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,jl((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Fl(e)))}function of(e,t){return rf(e),t=sf(e,t),jl(e.g.h,t)}function uf(e,t,n){af(e,t),0<n.length&&(e.i=null,e.g.set(sf(e,t),Os(n)),e.h+=n.length)}function sf(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(fs=nf.prototype).add=function(e,t){rf(this),this.i=null,e=sf(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},fs.forEach=function(e,t){rf(this),this.g.forEach((function(n,r){Ns(n,(function(n){e.call(t,n,r,this)}),this)}),this)},fs.T=function(){rf(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},fs.R=function(e){rf(this);var t=[];if("string"===typeof e)of(this,e)&&(t=As(t,this.g.get(sf(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=As(t,e[n])}return t},fs.set=function(e,t){return rf(this),this.i=null,of(this,e=sf(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},fs.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},fs.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var cf=zt((function e(t,n){Vt(this,e),this.h=t,this.g=n}));function lf(e){this.l=e||hf,vs.PerformanceNavigationTiming?e=0<(e=vs.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(vs.g&&vs.g.Ea&&vs.g.Ea()&&vs.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ff,hf=10;function df(e){return!!e.h||!!e.g&&e.g.size>=e.j}function pf(e){return e.h?1:e.g?e.g.size:0}function vf(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function mf(e,t){e.g?e.g.add(t):e.h=t}function yf(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function gf(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=go(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Os(e.i)}function bf(){}function kf(){this.g=new bf}function wf(e,t,n){var r=n||"";try{Ml(e,(function(e,n){var i=e;gs(e)&&(i=Pc(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(BP){throw t.push(r+"type="+encodeURIComponent("_badmap")),BP}}function xf(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Ef(e){this.l=e.$b||null,this.j=e.ib||!1}function _f(e,t){Nc.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Sf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}lf.prototype.cancel=function(){if(this.i=gf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=go(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},bf.prototype.stringify=function(e){return vs.JSON.stringify(e,void 0)},bf.prototype.parse=function(e){return vs.JSON.parse(e,void 0)},Ss(Ef,fl),Ef.prototype.g=function(){return new _f(this.l,this.j)},Ef.prototype.i=(ff={},function(){return ff}),Ss(_f,Nc);var Sf=0;function If(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Tf(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Cf(e)}function Cf(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(fs=_f.prototype).open=function(e,t){if(this.readyState!=Sf)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Cf(this)},fs.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||vs).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},fs.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Tf(this)),this.readyState=Sf},fs.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Cf(this)),this.g&&(this.readyState=3,Cf(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof vs.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;If(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},fs.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Tf(this):Cf(this),3==this.readyState&&If(this)}},fs.Ua=function(e){this.g&&(this.response=this.responseText=e,Tf(this))},fs.Ta=function(e){this.g&&(this.response=e,Tf(this))},fs.ha=function(){this.g&&Tf(this)},fs.setRequestHeader=function(e,t){this.v.append(e,t)},fs.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},fs.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(_f.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Nf=vs.JSON.parse;function Af(e){Nc.call(this),this.headers=new Ll,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Of,this.K=this.L=!1}Ss(Af,Nc);var Of="",Pf=/^https?$/i,Rf=["POST","PUT"];function Df(e){return"content-type"==e.toLowerCase()}function Mf(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Lf(e),jf(e)}function Lf(e){e.D||(e.D=!0,Ac(e,"complete"),Ac(e,"error"))}function Ff(e){if(e.h&&"undefined"!=typeof ps&&(!e.C[1]||4!=Uf(e)||2!=e.ba()))if(e.v&&4==Uf(e))Wc(e.Fa,0,e);else if(Ac(e,"readystatechange"),4==Uf(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Vl)[1]||null;if(!a&&vs.self&&vs.self.location){var o=vs.self.location.protocol;a=o.substr(0,o.length-1)}i=!Pf.test(a?a.toLowerCase():"")}t=i}if(t)Ac(e,"complete"),Ac(e,"success");else{e.m=6;try{var u=2<Uf(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",Lf(e)}}finally{jf(e)}}}function jf(e,t){if(e.g){Vf(e);var n=e.g,r=e.C[0]?ms:null;e.g=null,e.C=null,t||Ac(e,"ready");try{n.onreadystatechange=r}catch(BP){}}}function Vf(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(vs.clearTimeout(e.A),e.A=null)}function Uf(e){return e.g?e.g.readyState:0}function zf(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Of:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Bf(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Vs(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Kl(e,t,n))}function qf(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Hf(e){this.za=0,this.l=[],this.h=new Jc,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=qf("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=qf("baseRetryDelayMs",5e3,e),this.$a=qf("retryDelaySeedMs",1e4,e),this.Ya=qf("forwardChannelMaxRetries",2,e),this.ra=qf("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new lf(e&&e.concurrentRequestLimit),this.Ca=new kf,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Wf(e){if(Gf(e),3==e.G){var t=e.V++,n=zl(e.F);Kl(n,"SID",e.J),Kl(n,"RID",t),Kl(n,"TYPE","terminate"),Xf(e,n),(t=new bl(e,e.h,t,void 0)).K=2,t.v=Gl(zl(n)),n=!1,vs.navigator&&vs.navigator.sendBeacon&&(n=vs.navigator.sendBeacon(t.v.toString(),"")),!n&&vs.Image&&((new Image).src=t.v,n=!0),n||(t.g=ch(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Nl(t)}uh(e)}function Kf(e){e.g&&(th(e),e.g.cancel(),e.g=null)}function Gf(e){Kf(e),e.u&&(vs.clearTimeout(e.u),e.u=null),rh(e),e.i.cancel(),e.m&&("number"===typeof e.m&&vs.clearTimeout(e.m),e.m=null)}function $f(e,t){e.l.push(new cf(e.Za++,t)),3==e.G&&Qf(e)}function Qf(e){df(e.i)||e.m||(e.m=!0,Vc(e.Ha,e),e.C=0)}function Yf(e,t){var n;n=t?t.m:e.V++;var r=zl(e.F);Kl(r,"SID",e.J),Kl(r,"RID",n),Kl(r,"AID",e.U),Xf(e,r),e.o&&e.s&&Bf(r,e.o,e.s),n=new bl(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Jf(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),mf(e.i,n),_l(n,r,t)}function Xf(e,t){e.j&&Ml({},(function(e,n){Kl(t,n,e)}))}function Jf(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Es(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{wf(l,o,"req"+c+"_")}catch(Fh){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Zf(e){e.g||e.u||(e.Y=1,Vc(e.Ga,e),e.A=0)}function eh(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=sl(Es(e.Ga,e),ah(e,e.A)),e.A++,!0)}function th(e){null!=e.B&&(vs.clearTimeout(e.B),e.B=null)}function nh(e){e.g=new bl(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=zl(e.oa);Kl(t,"RID","rpc"),Kl(t,"SID",e.J),Kl(t,"CI",e.N?"0":"1"),Kl(t,"AID",e.U),Xf(e,t),Kl(t,"TYPE","xmlhttp"),e.o&&e.s&&Bf(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Gl(zl(t)),n.s=null,n.U=!0,Sl(n,e)}function rh(e){null!=e.v&&(vs.clearTimeout(e.v),e.v=null)}function ih(e,t){var n=null;if(e.g==t){rh(e),th(e),e.g=null;var r=2}else{if(!vf(e.i,t))return;n=t.D,yf(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Ac(r=nl(),new ul(r,n,t,i)),Qf(e)}else Zf(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(pf(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=sl(Es(e.Ha,e,t),ah(e,e.C)),e.C++,!0))}(e,t)||2==r&&eh(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:oh(e,5);break;case 4:oh(e,10);break;case 3:oh(e,6);break;default:oh(e,2)}}function ah(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function oh(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Es(e.jb,e);n||(n=new Ul("//www.google.com/images/cleardot.gif"),vs.location&&"http"==vs.location.protocol||Bl(n,"https"),Gl(n)),function(e,t){var n=new Jc;if(vs.Image){var r=new Image;r.onload=_s(xf,n,r,"TestLoadImage: loaded",!0,t),r.onerror=_s(xf,n,r,"TestLoadImage: error",!1,t),r.onabort=_s(xf,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=_s(xf,n,r,"TestLoadImage: timeout",!1,t),vs.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else ol(2);e.G=0,e.j&&e.j.va(t),uh(e),Gf(e)}function uh(e){e.G=0,e.I=-1,e.j&&(0==gf(e.i).length&&0==e.l.length||(e.i.i.length=0,Os(e.l),e.l.length=0),e.j.ua())}function sh(e,t,n){var r=function(e){return e instanceof Ul?zl(e):new Ul(e,void 0)}(n);if(""!=r.i)t&&ql(r,t+"."+r.i),Hl(r,r.m);else{var i=vs.location;r=function(e,t,n,r){var i=new Ul(null,void 0);return e&&Bl(i,e),t&&ql(i,t),n&&Hl(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Vs(e.aa,(function(e,t){Kl(r,t,e)})),t=e.D,n=e.sa,t&&n&&Kl(r,t,n),Kl(r,"VER",e.ma),Xf(e,r),r}function ch(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Af(new Ef({ib:!0})):new Af(e.qa)).L=e.H,t}function lh(){}function fh(){if(Ks&&!(10<=Number(ac)))throw Error("Environmental error: no available transport.")}function hh(e,t){Nc.call(this),this.g=new Hf(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Ps(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ps(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new vh(this)}function dh(e){ml.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function ph(){yl.call(this),this.status=1}function vh(e){this.g=e}(fs=Af.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():pl.g(),this.C=this.u?hl(this.u):hl(pl),this.g.onreadystatechange=Es(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Mf(this,a)}e=n||"";var i=new Ll(this.headers);r&&Ml(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Df,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=vs.FormData&&e instanceof vs.FormData,!(0<=Cs(Rf,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Vf(this),0<this.B&&((this.K=function(e){return Ks&&rc()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Es(this.pa,this)):this.A=Wc(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Mf(this,a)}},fs.pa=function(){"undefined"!=typeof ps&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ac(this,"timeout"),this.abort(8))},fs.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ac(this,"complete"),Ac(this,"abort"),jf(this))},fs.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),jf(this,!0)),Af.Z.M.call(this)},fs.Fa=function(){this.s||(this.F||this.v||this.l?Ff(this):this.cb())},fs.cb=function(){Ff(this)},fs.ba=function(){try{return 2<Uf(this)?this.g.status:-1}catch(ff){return-1}},fs.ga=function(){try{return this.g?this.g.responseText:""}catch(ff){return""}},fs.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Nf(t)}},fs.Da=function(){return this.m},fs.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(fs=Hf.prototype).ma=8,fs.G=1,fs.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},fs.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new bl(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Bs(n=Us(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Jf(this,t,r),Kl(i=zl(this.F),"RID",e),Kl(i,"CVER",22),this.D&&Kl(i,"X-HTTP-Session-Id",this.D),Xf(this,i),this.o&&n&&Bf(i,this.o,n),mf(this.i,t),this.Ra&&Kl(i,"TYPE","init"),this.ja?(Kl(i,"$req",r),Kl(i,"SID","null"),t.$=!0,_l(t,i,null)):_l(t,i,r),this.G=2}}else 3==this.G&&(e?Yf(this,e):0==this.l.length||df(this.i)||Yf(this))},fs.Ga=function(){if(this.u=null,nh(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=sl(Es(this.bb,this),e)}},fs.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ol(10),Kf(this),nh(this))},fs.ab=function(){null!=this.v&&(this.v=null,Kf(this),eh(this),ol(19))},fs.jb=function(e){e?(this.h.info("Successfully pinged google.com"),ol(2)):(this.h.info("Failed to ping google.com"),ol(1))},(fs=lh.prototype).xa=function(){},fs.wa=function(){},fs.va=function(){},fs.ua=function(){},fs.Oa=function(){},fh.prototype.g=function(e,t){return new hh(e,t)},Ss(hh,Nc),hh.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Vc(Es(e.hb,e,t))),ol(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=sh(e,null,e.W),Qf(e)},hh.prototype.close=function(){Wf(this.g)},hh.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,$f(this.g,t)}else this.v?((t={}).__data__=Pc(e),$f(this.g,t)):$f(this.g,e)},hh.prototype.M=function(){this.g.j=null,delete this.j,Wf(this.g),delete this.g,hh.Z.M.call(this)},Ss(dh,ml),Ss(ph,yl),Ss(vh,lh),vh.prototype.xa=function(){Ac(this.g,"a")},vh.prototype.wa=function(e){Ac(this.g,new dh(e))},vh.prototype.va=function(e){Ac(this.g,new ph(e))},vh.prototype.ua=function(){Ac(this.g,"b")},fh.prototype.createWebChannel=fh.prototype.g,hh.prototype.send=hh.prototype.u,hh.prototype.open=hh.prototype.m,hh.prototype.close=hh.prototype.close,cl.NO_ERROR=0,cl.TIMEOUT=8,cl.HTTP_ERROR=6,ll.COMPLETE="complete",dl.EventType=vl,vl.OPEN="a",vl.CLOSE="b",vl.ERROR="c",vl.MESSAGE="d",Nc.prototype.listen=Nc.prototype.N,Af.prototype.listenOnce=Af.prototype.O,Af.prototype.getLastError=Af.prototype.La,Af.prototype.getLastErrorCode=Af.prototype.Da,Af.prototype.getStatus=Af.prototype.ba,Af.prototype.getResponseJson=Af.prototype.Qa,Af.prototype.getResponseText=Af.prototype.ga,Af.prototype.send=Af.prototype.ea;var mh=ds.createWebChannelTransport=function(){return new fh},yh=ds.getStatEventTarget=function(){return nl()},gh=ds.ErrorCode=cl,bh=ds.EventType=ll,kh=ds.Event=el,wh=ds.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},xh=ds.FetchXmlHttpFactory=Ef,Eh=ds.WebChannel=dl,_h=ds.XhrIo=Af,Sh="@firebase/firestore",Ih=function(){function e(t){Vt(this,e),this.uid=t}return zt(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Ih.UNAUTHENTICATED=new Ih(null),Ih.GOOGLE_CREDENTIALS=new Ih("google-credentials-uid"),Ih.FIRST_PARTY=new Ih("first-party-uid"),Ih.MOCK_USER=new Ih("mock-user");var Th="9.8.4",Ch=new ou("@firebase/firestore");function Nh(){return Ch.logLevel}function Ah(e){if(Ch.logLevel<=Zo.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Rh);Ch.debug.apply(Ch,["Firestore (".concat(Th,"): ").concat(e)].concat(ln(i)))}}function Oh(e){if(Ch.logLevel<=Zo.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Rh);Ch.error.apply(Ch,["Firestore (".concat(Th,"): ").concat(e)].concat(ln(i)))}}function Ph(e){if(Ch.logLevel<=Zo.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Rh);Ch.warn.apply(Ch,["Firestore (".concat(Th,"): ").concat(e)].concat(ln(i)))}}function Rh(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Dh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Th,") INTERNAL ASSERTION FAILED: ")+e;throw Oh(t),new Error(t)}function Mh(e,t){e||Dh()}function Lh(e,t){return e}var Fh={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},jh=function(e){Bt(n,e);var t=Gt(n);function n(e,r){var i;return Vt(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return zt(n)}(Mo),Vh=zt((function e(){var t=this;Vt(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Uh=zt((function e(t,n){Vt(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),zh=function(){function e(){Vt(this,e)}return zt(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Ih.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Bh=function(){function e(t){Vt(this,e),this.token=t,this.changeListener=null}return zt(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),qh=function(){function e(t){Vt(this,e),this.t=t,this.currentUser=Ih.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return zt(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Vh;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Vh,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Jn(Yn().mark((function e(){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Ah("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Ah("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Vh)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Ah("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Mh("string"==typeof n.accessToken),new Uh(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Mh(null===e||"string"==typeof e),new Ih(e)}}]),e}(),Hh=zt((function e(t,n,r){Vt(this,e),this.type="FirstParty",this.user=Ih.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),Wh=function(){function e(t,n,r){Vt(this,e),this.h=t,this.l=n,this.m=r}return zt(e,[{key:"getToken",value:function(){return Promise.resolve(new Hh(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Ih.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Kh=zt((function e(t){Vt(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Gh=function(){function e(t){Vt(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return zt(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Ah("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,Ah("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Ah("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):Ah("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Mh("string"==typeof t.token),e.p=t.token,new Kh(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function $h(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Qh=function(){function e(){Vt(this,e)}return zt(e,null,[{key:"I",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=$h(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Yh(e,t){return e<t?-1:e>t?1:0}function Xh(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Jh(e){return e+"\0"}var Zh=function(){function e(t,n){if(Vt(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new jh(Fh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new jh(Fh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new jh(Fh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new jh(Fh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return zt(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Yh(this.nanoseconds,e.nanoseconds):Yh(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),ed=function(){function e(t){Vt(this,e),this.timestamp=t}return zt(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Zh(0,0))}},{key:"max",value:function(){return new e(new Zh(253402300799,999999999))}}]),e}(),td=function(){function e(t,n,r){Vt(this,e),void 0===n?n=0:n>t.length&&Dh(),void 0===r?r=t.length-n:r>t.length-n&&Dh(),this.segments=t,this.offset=n,this.len=r}return zt(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),nd=function(e){Bt(n,e);var t=Gt(n);function n(){return Vt(this,n),t.apply(this,arguments)}return zt(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new jh(Fh.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,ln(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(td),rd=/^[_a-zA-Z][_a-zA-Z0-9]*$/,id=function(e){Bt(n,e);var t=Gt(n);function n(){return Vt(this,n),t.apply(this,arguments)}return zt(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return rd.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new jh(Fh.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new jh(Fh.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new jh(Fh.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new jh(Fh.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(td),ad=function(){function e(t){Vt(this,e),this.path=t}return zt(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===nd.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(nd.fromString(t))}},{key:"fromName",value:function(t){return new e(nd.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(nd.emptyPath())}},{key:"comparator",value:function(e,t){return nd.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new nd(t.slice()))}}]),e}(),od=zt((function e(t,n,r,i){Vt(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function ud(e){return e.fields.find((function(e){return 2===e.kind}))}function sd(e){return e.fields.filter((function(e){return 2!==e.kind}))}od.UNKNOWN_ID=-1;var cd=zt((function e(t,n){Vt(this,e),this.fieldPath=t,this.kind=n})),ld=function(){function e(t,n){Vt(this,e),this.sequenceNumber=t,this.offset=n}return zt(e,null,[{key:"empty",value:function(){return new e(0,dd.min())}}]),e}();function fd(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ed.fromTimestamp(1e9===r?new Zh(n+1,0):new Zh(n,r));return new dd(i,ad.empty(),t)}function hd(e){return new dd(e.readTime,e.key,-1)}var dd=function(){function e(t,n,r){Vt(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return zt(e,null,[{key:"min",value:function(){return new e(ed.min(),ad.empty(),-1)}},{key:"max",value:function(){return new e(ed.max(),ad.empty(),-1)}}]),e}();function pd(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=ad.comparator(e.documentKey,t.documentKey))?n:Yh(e.largestBatchId,t.largestBatchId)}var vd="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",md=function(){function e(){Vt(this,e),this.onCommittedListeners=[]}return zt(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function yd(e){return gd.apply(this,arguments)}function gd(){return gd=Jn(Yn().mark((function e(t){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Fh.FAILED_PRECONDITION&&t.message===vd){e.next=2;break}throw t;case 2:Ah("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),gd.apply(this,arguments)}var bd=function(){function e(t){var n=this;Vt(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return zt(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Dh(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=go(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(u){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u(s)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),kd=function(){function e(t,n){var r=this;Vt(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.T=new Vh,this.transaction.oncomplete=function(){r.T.resolve()},this.transaction.onabort=function(){n.error?r.T.reject(new Ed(t,n.error)):r.T.resolve()},this.transaction.onerror=function(e){var n=Cd(e.target.error);r.T.reject(new Ed(t,n))}}return zt(e,[{key:"A",get:function(){return this.T.promise}},{key:"abort",value:function(e){e&&this.T.reject(e),this.aborted||(Ah("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"R",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Sd(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Ed(n,t)}}}]),e}(),wd=function(){function e(t,n,r){Vt(this,e),this.name=t,this.version=n,this.P=r,12.2===e.v(Co())&&Oh("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return zt(e,[{key:"k",value:function(){var e=Jn(Yn().mark((function e(t){var n=this;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Ah("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Ed(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new jh(Fh.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new jh(Fh.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Ed(t,n))},i.onupgradeneeded=function(e){Ah("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.P.O(t,i.transaction,e.oldVersion,n.version).next((function(){Ah("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.M&&(this.db.onversionchange=function(e){return n.M(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"F",value:function(e){this.M=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Jn(Yn().mark((function e(t,n,r,i){var a,o,u,s,c,l=this;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(Yn().mark((function e(){var n,o;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.k(t);case 2:return l.db=e.sent,n=kd.open(l.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.R(),e})).catch((function(e){return n.abort(e),bd.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.A;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s=e.t1,c="FirebaseError"!==s.name&&o<3,Ah("SimpleDb","Transaction failed with error:",s.message,"Retrying:",c),this.close(),c){e.next=15;break}return e.abrupt("return",Promise.reject(s));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Ah("SimpleDb","Removing database:",e),Id(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"V",value:function(){if(!Do())return!1;if(e.S())return!0;var t=Co(),n=e.v(t),r=0<n&&n<10,i=e.D(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"S",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/eye-web",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.C)}},{key:"N",value:function(e,t){return e.store(t)}},{key:"v",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"D",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),xd=function(){function e(t){Vt(this,e),this.$=t,this.B=!1,this.L=null}return zt(e,[{key:"isDone",get:function(){return this.B}},{key:"U",get:function(){return this.L}},{key:"cursor",set:function(e){this.$=e}},{key:"done",value:function(){this.B=!0}},{key:"q",value:function(e){this.L=e}},{key:"delete",value:function(){return Id(this.$.delete())}}]),e}(),Ed=function(e){Bt(n,e);var t=Gt(n);function n(e,r){var i;return Vt(this,n),(i=t.call(this,Fh.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return zt(n)}(jh);function _d(e){return"IndexedDbTransactionError"===e.name}var Sd=function(){function e(t){Vt(this,e),this.store=t}return zt(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Ah("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Ah("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Id(n)}},{key:"add",value:function(e){return Ah("SimpleDb","ADD",this.store.name,e,e),Id(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Id(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Ah("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Ah("SimpleDb","DELETE",this.store.name,e),Id(this.store.delete(e))}},{key:"count",value:function(){return Ah("SimpleDb","COUNT",this.store.name),Id(this.store.count())}},{key:"K",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.G(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new bd((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"j",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new bd((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"W",value:function(e,t){Ah("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.H=!1;var r=this.cursor(n);return this.G(r,(function(e,t,n){return n.delete()}))}},{key:"J",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.G(r,t)}},{key:"Y",value:function(e){var t=this.cursor({});return new bd((function(n,r){t.onerror=function(e){var t=Cd(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"G",value:function(e,t){var n=[];return new bd((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new xd(i),o=t(i.primaryKey,i.value,a);if(o instanceof bd){var u=o.catch((function(e){return a.done(),bd.reject(e)}));n.push(u)}a.isDone?r():null===a.U?i.continue():i.continue(a.U)}else r()}})).next((function(){return bd.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Id(e){return new bd((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Cd(e.target.error);n(t)}}))}var Td=!1;function Cd(e){var t=wd.v(Co());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new jh("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Td||(Td=!0,setTimeout((function(){throw r}),0)),r}}return e}var Nd=function(){function e(t,n){Vt(this,e),this.asyncQueue=t,this.X=n,this.task=null}return zt(e,[{key:"start",value:function(){}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"Z",value:function(e){var t=this;Ah("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,Jn(Yn().mark((function e(){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=Ah,e.t1="Documents written: ",e.next=6,t.X.tt();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!_d(e.t4)){e.next=17;break}Ah("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,yd(e.t4);case 19:return e.next=21,t.Z(1);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),Ad=function(){function e(t,n){Vt(this,e),this.localStore=t,this.persistence=n}return zt(e,[{key:"tt",value:function(){var e=Jn(Yn().mark((function e(){var t,n=this,r=arguments;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.et(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"et",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return bd.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return Ah("IndexBackiller","Processing collection: ".concat(t)),n.nt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"nt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.st(i,n)})).next((function(n){return Ah("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"st",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=hd(t);pd(r,n)>0&&(n=r)})),new dd(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),Od=function(){function e(t,n){var r=this;Vt(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.it(e)},this.rt=function(e){return n.writeSequenceNumber(e)})}return zt(e,[{key:"it",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.rt&&this.rt(e),e}}]),e}();function Pd(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Rd(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Dd(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}Od.ot=-1;var Md=function(){function e(t,n){Vt(this,e),this.comparator=t,this.root=n||Fd.EMPTY}return zt(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Fd.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Fd.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Ld(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Ld(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Ld(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Ld(this.root,e,this.comparator,!0)}}]),e}(),Ld=function(){function e(t,n,r,i){Vt(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return zt(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Fd=function(){function e(t,n,r,i,a){Vt(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return zt(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Dh();if(this.right.isRed())throw Dh();var e=this.left.check();if(e!==this.right.check())throw Dh();return e+(this.isRed()?0:1)}}]),e}();Fd.EMPTY=null,Fd.RED=!0,Fd.BLACK=!1,Fd.EMPTY=new(function(){function e(){Vt(this,e),this.size=0}return zt(e,[{key:"key",get:function(){throw Dh()}},{key:"value",get:function(){throw Dh()}},{key:"color",get:function(){throw Dh()}},{key:"left",get:function(){throw Dh()}},{key:"right",get:function(){throw Dh()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Fd(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var jd=function(){function e(t){Vt(this,e),this.comparator=t,this.data=new Md(this.comparator)}return zt(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Vd(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Vd(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Vd=function(){function e(t){Vt(this,e),this.iter=t}return zt(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Ud(e){return e.hasNext()?e.getNext():void 0}var zd=function(){function e(t){Vt(this,e),this.fields=t,t.sort(id.comparator)}return zt(e,[{key:"unionWith",value:function(t){var n,r=new jd(id.comparator),i=go(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=go(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=go(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Xh(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var Bd=function(e){function t(e){Vt(this,t),this.binaryString=e}return zt(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Yh(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Bd.EMPTY_BYTE_STRING=new Bd("");var qd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hd(e){if(Mh(!!e),"string"==typeof e){var t=0,n=qd.exec(e);if(Mh(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Wd(e.seconds),nanos:Wd(e.nanos)}}function Wd(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Kd(e){return"string"==typeof e?Bd.fromBase64String(e):Bd.fromUint8Array(e)}function Gd(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function $d(e){var t=e.mapValue.fields.__previous_value__;return Gd(t)?$d(t):t}function Qd(e){var t=Hd(e.mapValue.fields.__local_write_time__.timestampValue);return new Zh(t.seconds,t.nanos)}var Yd=zt((function e(t,n,r,i,a,o,u,s){Vt(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),Xd=function(){function e(t,n){Vt(this,e),this.projectId=t,this.database=n||"(default)"}return zt(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Jd(e){return null==e}function Zd(e){return 0===e&&1/e==-1/0}function ep(e){return"number"==typeof e&&Number.isInteger(e)&&!Zd(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var tp={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},np={nullValue:"NULL_VALUE"};function rp(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Gd(e)?4:yp(e)?9007199254740991:10:Dh()}function ip(e,t){if(e===t)return!0;var n=rp(e);if(n!==rp(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Qd(e).isEqual(Qd(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Hd(e.timestampValue),r=Hd(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Kd(e.bytesValue).isEqual(Kd(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Wd(e.geoPointValue.latitude)===Wd(t.geoPointValue.latitude)&&Wd(e.geoPointValue.longitude)===Wd(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Wd(e.integerValue)===Wd(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Wd(e.doubleValue),r=Wd(t.doubleValue);return n===r?Zd(n)===Zd(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Xh(e.arrayValue.values||[],t.arrayValue.values||[],ip);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Pd(n)!==Pd(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ip(n[i],r[i])))return!1;return!0}(e,t);default:return Dh()}}function ap(e,t){return void 0!==(e.values||[]).find((function(e){return ip(e,t)}))}function op(e,t){if(e===t)return 0;var n=rp(e),r=rp(t);if(n!==r)return Yh(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Yh(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Wd(e.integerValue||e.doubleValue),r=Wd(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return up(e.timestampValue,t.timestampValue);case 4:return up(Qd(e),Qd(t));case 5:return Yh(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Kd(e),r=Kd(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Yh(n[i],r[i]);if(0!==a)return a}return Yh(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Yh(Wd(e.latitude),Wd(t.latitude));return 0!==n?n:Yh(Wd(e.longitude),Wd(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=op(n[i],r[i]);if(a)return a}return Yh(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===tp.mapValue&&t===tp.mapValue)return 0;if(e===tp.mapValue)return 1;if(t===tp.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Yh(r[o],a[o]);if(0!==u)return u;var s=op(n[r[o]],i[a[o]]);if(0!==s)return s}return Yh(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Dh()}}function up(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Yh(e,t);var n=Hd(e),r=Hd(t),i=Yh(n.seconds,r.seconds);return 0!==i?i:Yh(n.nanos,r.nanos)}function sp(e){return cp(e)}function cp(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Hd(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Kd(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,ad.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=go(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=cp(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=go(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(cp(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Dh();var t,n}function lp(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function fp(e){return!!e&&"integerValue"in e}function hp(e){return!!e&&"arrayValue"in e}function dp(e){return!!e&&"nullValue"in e}function pp(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function vp(e){return!!e&&"mapValue"in e}function mp(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Rd(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=mp(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=mp(e.arrayValue.values[r]);return n}return Object.assign({},e)}function yp(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function gp(e){return"nullValue"in e?np:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?lp(Xd.empty(),ad.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Dh()}function bp(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?lp(Xd.empty(),ad.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?tp:Dh()}function kp(e,t){var n=op(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function wp(e,t){var n=op(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var xp=function(){function e(t){Vt(this,e),this.value=t}return zt(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!vp(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=mp(t)}},{key:"setAll",value:function(e){var t=this,n=id.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=mp(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());vp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return ip(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];vp(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Rd(t,(function(t,n){return e[t]=n}));var r,i=go(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(mp(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Ep(e){var t=[];return Rd(e.fields,(function(e,n){var r=new id([e]);if(vp(n)){var i=Ep(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=go(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new zd(t)}var _p=function(){function e(t,n,r,i,a,o){Vt(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return zt(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=xp.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=xp.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=ed.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,ed.min(),ed.min(),xp.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,ed.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,ed.min(),xp.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,ed.min(),xp.empty(),2)}}]),e}(),Sp=zt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Vt(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ut=null}));function Ip(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Sp(e,t,n,r,i,a,o)}function Tp(e){var t=Lh(e);if(null===t.ut){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+sp(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Jd(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return sp(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return sp(e)})).join(",")),t.ut=n}return t.ut}function Cp(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Hp(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!ip(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Kp(e.startAt,t.startAt)&&Kp(e.endAt,t.endAt)}function Np(e){return ad.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Ap(e,t){return e.filters.filter((function(e){return e instanceof Rp&&e.field.isEqual(t)}))}function Op(e,t,n){var r,i=np,a=!0,o=go(Ap(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=np,c=!0;switch(u.op){case"<":case"<=":s=gp(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=np}kp({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];kp({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function Pp(e,t,n){var r,i=tp,a=!0,o=go(Ap(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=tp,c=!0;switch(u.op){case">=":case">":s=bp(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=tp}wp({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];wp({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var Rp=function(e){Bt(n,e);var t=Gt(n);function n(e,r,i){var a;return Vt(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return zt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(op(t,this.value)):null!==t&&rp(this.value)===rp(t)&&this.at(op(t,this.value))}},{key:"at",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Dh()}}},{key:"ht",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,r):new Dp(e,t,r):"array-contains"===t?new jp(e,r):"in"===t?new Vp(e,r):"not-in"===t?new Up(e,r):"array-contains-any"===t?new zp(e,r):new n(e,t,r)}},{key:"ct",value:function(e,t,n){return"in"===t?new Mp(e,n):new Lp(e,n)}}]),n}(function(){return zt((function e(){Vt(this,e)}))}()),Dp=function(e){Bt(n,e);var t=Gt(n);function n(e,r,i){var a;return Vt(this,n),(a=t.call(this,e,r,i)).key=ad.fromName(i.referenceValue),a}return zt(n,[{key:"matches",value:function(e){var t=ad.comparator(e.key,this.key);return this.at(t)}}]),n}(Rp),Mp=function(e){Bt(n,e);var t=Gt(n);function n(e,r){var i;return Vt(this,n),(i=t.call(this,e,"in",r)).keys=Fp("in",r),i}return zt(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Rp),Lp=function(e){Bt(n,e);var t=Gt(n);function n(e,r){var i;return Vt(this,n),(i=t.call(this,e,"not-in",r)).keys=Fp("not-in",r),i}return zt(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Rp);function Fp(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return ad.fromName(e.referenceValue)}))}var jp=function(e){Bt(n,e);var t=Gt(n);function n(e,r){return Vt(this,n),t.call(this,e,"array-contains",r)}return zt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return hp(t)&&ap(t.arrayValue,this.value)}}]),n}(Rp),Vp=function(e){Bt(n,e);var t=Gt(n);function n(e,r){return Vt(this,n),t.call(this,e,"in",r)}return zt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&ap(this.value.arrayValue,t)}}]),n}(Rp),Up=function(e){Bt(n,e);var t=Gt(n);function n(e,r){return Vt(this,n),t.call(this,e,"not-in",r)}return zt(n,[{key:"matches",value:function(e){if(ap(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!ap(this.value.arrayValue,t)}}]),n}(Rp),zp=function(e){Bt(n,e);var t=Gt(n);function n(e,r){return Vt(this,n),t.call(this,e,"array-contains-any",r)}return zt(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!hp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return ap(t.value.arrayValue,e)}))}}]),n}(Rp),Bp=zt((function e(t,n){Vt(this,e),this.position=t,this.inclusive=n})),qp=zt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Vt(this,e),this.field=t,this.dir=n}));function Hp(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Wp(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?ad.comparator(ad.fromName(o.referenceValue),n.key):op(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Kp(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!ip(e.position[n],t.position[n]))return!1;return!0}var Gp=zt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Vt(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.lt=null,this.ft=null,this.startAt,this.endAt}));function $p(e,t,n,r,i,a,o,u){return new Gp(e,t,n,r,i,a,o,u)}function Qp(e){return new Gp(e)}function Yp(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Xp(e){var t,n=go(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.ht())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Jp(e){return null!==e.collectionGroup}function Zp(e){var t=Lh(e);if(null===t.lt){t.lt=[];var n=Xp(t),r=Yp(t);if(null!==n&&null===r)n.isKeyField()||t.lt.push(new qp(n)),t.lt.push(new qp(id.keyField(),"asc"));else{var i,a=!1,o=go(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.lt.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.lt.push(new qp(id.keyField(),s))}}}return t.lt}function ev(e){var t=Lh(e);if(!t.ft)if("F"===t.limitType)t.ft=Ip(t.path,t.collectionGroup,Zp(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=go(Zp(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new qp(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new Bp(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Bp(t.startAt.position,t.startAt.inclusive):null;t.ft=Ip(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.ft}function tv(e,t,n){return new Gp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function nv(e,t){return Cp(ev(e),ev(t))&&e.limitType===t.limitType}function rv(e){return"".concat(Tp(ev(e)),"|lt:").concat(e.limitType)}function iv(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(sp(t.value));var t})).join(", "),"]")),Jd(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return sp(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return sp(e)})).join(",")),"Target(".concat(t,")")}(ev(e)),"; limitType=").concat(e.limitType,")")}function av(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ad.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=go(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=go(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Wp(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Zp(e),t))&&!(e.endAt&&!function(e,t,n){var r=Wp(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Zp(e),t))}(e,t)}function ov(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function uv(e){return function(t,n){var r,i=!1,a=go(Zp(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=sv(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function sv(e,t,n){var r=e.field.isKeyField()?ad.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?op(r,i):Dh()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Dh()}}function cv(e,t){if(e.dt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zd(t)?"-0":t}}function lv(e){return{integerValue:""+e}}function fv(e,t){return ep(t)?lv(t):cv(e,t)}var hv=zt((function e(){Vt(this,e),this._=void 0}));function dv(e,t,n){return e instanceof mv?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof yv?gv(e,t):e instanceof bv?kv(e,t):function(e,t){var n=vv(e,t),r=xv(n)+xv(e._t);return fp(n)&&fp(e._t)?lv(r):cv(e.wt,r)}(e,t)}function pv(e,t,n){return e instanceof yv?gv(e,t):e instanceof bv?kv(e,t):n}function vv(e,t){return e instanceof wv?fp(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var mv=function(e){Bt(n,e);var t=Gt(n);function n(){return Vt(this,n),t.apply(this,arguments)}return zt(n)}(hv),yv=function(e){Bt(n,e);var t=Gt(n);function n(e){var r;return Vt(this,n),(r=t.call(this)).elements=e,r}return zt(n)}(hv);function gv(e,t){var n,r=Ev(t),i=go(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return ip(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var bv=function(e){Bt(n,e);var t=Gt(n);function n(e){var r;return Vt(this,n),(r=t.call(this)).elements=e,r}return zt(n)}(hv);function kv(e,t){var n,r=Ev(t),i=go(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!ip(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var wv=function(e){Bt(n,e);var t=Gt(n);function n(e,r){var i;return Vt(this,n),(i=t.call(this)).wt=e,i._t=r,i}return zt(n)}(hv);function xv(e){return Wd(e.integerValue||e.doubleValue)}function Ev(e){return hp(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var _v=zt((function e(t,n){Vt(this,e),this.field=t,this.transform=n}));var Sv=zt((function e(t,n){Vt(this,e),this.version=t,this.transformResults=n})),Iv=function(){function e(t,n){Vt(this,e),this.updateTime=t,this.exists=n}return zt(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Tv(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Cv=zt((function e(){Vt(this,e)}));function Nv(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new zv(e.key,Iv.none()):new Dv(e.key,e.data,Iv.none());var n,r=e.data,i=xp.empty(),a=new jd(id.comparator),o=go(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new Mv(e.key,i,new zd(a.toArray()),Iv.none())}function Av(e,t,n){e instanceof Dv?function(e,t,n){var r=e.value.clone(),i=Fv(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Mv?function(e,t,n){if(Tv(e.precondition,t)){var r=Fv(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Lv(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Ov(e,t,n,r){return e instanceof Dv?function(e,t,n,r){if(!Tv(e.precondition,t))return n;var i=e.value.clone(),a=jv(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Mv?function(e,t,n,r){if(!Tv(e.precondition,t))return n;var i=jv(e.fieldTransforms,r,t),a=t.data;return a.setAll(Lv(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return Tv(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Pv(e,t){var n,r=null,i=go(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=vv(a.transform,o||null);null!=u&&(null===r&&(r=xp.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Rv(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Xh(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof yv&&t instanceof yv||e instanceof bv&&t instanceof bv?Xh(e.elements,t.elements,ip):e instanceof wv&&t instanceof wv?ip(e._t,t._t):e instanceof mv&&t instanceof mv}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Dv=function(e){Bt(n,e);var t=Gt(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Vt(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return zt(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Cv),Mv=function(e){Bt(n,e);var t=Gt(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Vt(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return zt(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(Cv);function Lv(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Fv(e,t,n){var r=new Map;Mh(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,pv(o,u,n[i]))}return r}function jv(e,t,n){var r,i=new Map,a=go(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,dv(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Vv,Uv,zv=function(e){Bt(n,e);var t=Gt(n);function n(e,r){var i;return Vt(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return zt(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Cv),Bv=function(e){Bt(n,e);var t=Gt(n);function n(e,r){var i;return Vt(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return zt(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Cv),qv=zt((function e(t){Vt(this,e),this.count=t}));function Hv(e){switch(e){default:return Dh();case Fh.CANCELLED:case Fh.UNKNOWN:case Fh.DEADLINE_EXCEEDED:case Fh.RESOURCE_EXHAUSTED:case Fh.INTERNAL:case Fh.UNAVAILABLE:case Fh.UNAUTHENTICATED:return!1;case Fh.INVALID_ARGUMENT:case Fh.NOT_FOUND:case Fh.ALREADY_EXISTS:case Fh.PERMISSION_DENIED:case Fh.FAILED_PRECONDITION:case Fh.ABORTED:case Fh.OUT_OF_RANGE:case Fh.UNIMPLEMENTED:case Fh.DATA_LOSS:return!0}}function Wv(e){if(void 0===e)return Oh("GRPC error has no .code"),Fh.UNKNOWN;switch(e){case Vv.OK:return Fh.OK;case Vv.CANCELLED:return Fh.CANCELLED;case Vv.UNKNOWN:return Fh.UNKNOWN;case Vv.DEADLINE_EXCEEDED:return Fh.DEADLINE_EXCEEDED;case Vv.RESOURCE_EXHAUSTED:return Fh.RESOURCE_EXHAUSTED;case Vv.INTERNAL:return Fh.INTERNAL;case Vv.UNAVAILABLE:return Fh.UNAVAILABLE;case Vv.UNAUTHENTICATED:return Fh.UNAUTHENTICATED;case Vv.INVALID_ARGUMENT:return Fh.INVALID_ARGUMENT;case Vv.NOT_FOUND:return Fh.NOT_FOUND;case Vv.ALREADY_EXISTS:return Fh.ALREADY_EXISTS;case Vv.PERMISSION_DENIED:return Fh.PERMISSION_DENIED;case Vv.FAILED_PRECONDITION:return Fh.FAILED_PRECONDITION;case Vv.ABORTED:return Fh.ABORTED;case Vv.OUT_OF_RANGE:return Fh.OUT_OF_RANGE;case Vv.UNIMPLEMENTED:return Fh.UNIMPLEMENTED;case Vv.DATA_LOSS:return Fh.DATA_LOSS;default:return Dh()}}(Uv=Vv||(Vv={}))[Uv.OK=0]="OK",Uv[Uv.CANCELLED=1]="CANCELLED",Uv[Uv.UNKNOWN=2]="UNKNOWN",Uv[Uv.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Uv[Uv.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Uv[Uv.NOT_FOUND=5]="NOT_FOUND",Uv[Uv.ALREADY_EXISTS=6]="ALREADY_EXISTS",Uv[Uv.PERMISSION_DENIED=7]="PERMISSION_DENIED",Uv[Uv.UNAUTHENTICATED=16]="UNAUTHENTICATED",Uv[Uv.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Uv[Uv.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Uv[Uv.ABORTED=10]="ABORTED",Uv[Uv.OUT_OF_RANGE=11]="OUT_OF_RANGE",Uv[Uv.UNIMPLEMENTED=12]="UNIMPLEMENTED",Uv[Uv.INTERNAL=13]="INTERNAL",Uv[Uv.UNAVAILABLE=14]="UNAVAILABLE",Uv[Uv.DATA_LOSS=15]="DATA_LOSS";var Kv=function(){function e(t,n){Vt(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return zt(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=go(n);try{for(i.s();!(r=i.n()).done;){var a=s(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Rd(this.inner,(function(t,n){var r,i=go(n);try{for(i.s();!(r=i.n()).done;){var a=s(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Dd(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Gv=new Md(ad.comparator);function $v(){return Gv}var Qv=new Md(ad.comparator);function Yv(){for(var e=Qv,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Xv(e){var t=Qv;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Jv(){return em()}function Zv(){return em()}function em(){return new Kv((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var tm=new Md(ad.comparator),nm=new jd(ad.comparator);function rm(){for(var e=nm,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var im=new jd(Yh);function am(){return im}var om=function(){function e(t,n,r,i,a){Vt(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return zt(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,um.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(ed.min(),r,am(),$v(),rm())}}]),e}(),um=function(){function e(t,n,r,i,a){Vt(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return zt(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Bd.EMPTY_BYTE_STRING,n,rm(),rm(),rm())}}]),e}(),sm=zt((function e(t,n,r,i){Vt(this,e),this.gt=t,this.removedTargetIds=n,this.key=r,this.yt=i})),cm=zt((function e(t,n){Vt(this,e),this.targetId=t,this.It=n})),lm=zt((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Bd.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Vt(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),fm=function(){function e(){Vt(this,e),this.Tt=0,this.Et=pm(),this.At=Bd.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}return zt(e,[{key:"current",get:function(){return this.Rt}},{key:"resumeToken",get:function(){return this.At}},{key:"Pt",get:function(){return 0!==this.Tt}},{key:"vt",get:function(){return this.bt}},{key:"Vt",value:function(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}},{key:"St",value:function(){var e=rm(),t=rm(),n=rm();return this.Et.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Dh()}})),new um(this.At,this.Rt,e,t,n)}},{key:"Dt",value:function(){this.bt=!1,this.Et=pm()}},{key:"Ct",value:function(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}},{key:"xt",value:function(e){this.bt=!0,this.Et=this.Et.remove(e)}},{key:"Nt",value:function(){this.Tt+=1}},{key:"kt",value:function(){this.Tt-=1}},{key:"Ot",value:function(){this.bt=!0,this.Rt=!0}}]),e}(),hm=function(){function e(t){Vt(this,e),this.Mt=t,this.Ft=new Map,this.$t=$v(),this.Bt=dm(),this.Lt=new jd(Yh)}return zt(e,[{key:"Ut",value:function(e){var t,n=go(e.gt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.yt&&e.yt.isFoundDocument()?this.qt(r,e.yt):this.Kt(r,e.key,e.yt)}}catch(u){n.e(u)}finally{n.f()}var i,a=go(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Kt(o,e.key,e.yt)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Gt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Qt(n);switch(e.state){case 0:t.jt(n)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||t.removeTarget(n);break;case 3:t.jt(n)&&(r.Ot(),r.Vt(e.resumeToken));break;case 4:t.jt(n)&&(t.Wt(n),r.Vt(e.resumeToken));break;default:Dh()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((function(e,r){n.jt(r)&&t(r)}))}},{key:"zt",value:function(e){var t=e.targetId,n=e.It.count,r=this.Ht(t);if(r){var i=r.target;if(Np(i))if(0===n){var a=new ad(i.path);this.Kt(t,a,_p.newNoDocument(a,ed.min()))}else Mh(1===n);else this.Jt(t)!==n&&(this.Wt(t),this.Lt=this.Lt.add(t))}}},{key:"Yt",value:function(e){var t=this,n=new Map;this.Ft.forEach((function(r,i){var a=t.Ht(i);if(a){if(r.current&&Np(a.target)){var o=new ad(a.target.path);null!==t.$t.get(o)||t.Xt(i,o)||t.Kt(i,o,_p.newNoDocument(o,e))}r.vt&&(n.set(i,r.St()),r.Dt())}}));var r=rm();this.Bt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Ht(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.$t.forEach((function(t,n){return n.setReadTime(e)}));var i=new om(e,n,this.Lt,this.$t,r);return this.$t=$v(),this.Bt=dm(),this.Lt=new jd(Yh),i}},{key:"qt",value:function(e,t){if(this.jt(e)){var n=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,n),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}}},{key:"Kt",value:function(e,t,n){if(this.jt(e)){var r=this.Qt(e);this.Xt(e,t)?r.Ct(t,1):r.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),n&&(this.$t=this.$t.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Ft.delete(e)}},{key:"Jt",value:function(e){var t=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Nt",value:function(e){this.Qt(e).Nt()}},{key:"Qt",value:function(e){var t=this.Ft.get(e);return t||(t=new fm,this.Ft.set(e,t)),t}},{key:"Zt",value:function(e){var t=this.Bt.get(e);return t||(t=new jd(Yh),this.Bt=this.Bt.insert(e,t)),t}},{key:"jt",value:function(e){var t=null!==this.Ht(e);return t||Ah("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Ht",value:function(e){var t=this.Ft.get(e);return t&&t.Pt?null:this.Mt.te(e)}},{key:"Wt",value:function(e){var t=this;this.Ft.set(e,new fm),this.Mt.getRemoteKeysForTarget(e).forEach((function(n){t.Kt(e,n,null)}))}},{key:"Xt",value:function(e,t){return this.Mt.getRemoteKeysForTarget(e).has(t)}}]),e}();function dm(){return new Md(ad.comparator)}function pm(){return new Md(ad.comparator)}var vm={asc:"ASCENDING",desc:"DESCENDING"},mm={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ym=zt((function e(t,n){Vt(this,e),this.databaseId=t,this.dt=n}));function gm(e,t){return e.dt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function bm(e,t){return e.dt?t.toBase64():t.toUint8Array()}function km(e,t){return gm(e,t.toTimestamp())}function wm(e){return Mh(!!e),ed.fromTimestamp(function(e){var t=Hd(e);return new Zh(t.seconds,t.nanos)}(e))}function xm(e,t){return function(e){return new nd(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Em(e){var t=nd.fromString(e);return Mh(Km(t)),t}function _m(e,t){return xm(e.databaseId,t.path)}function Sm(e,t){var n=Em(t);if(n.get(1)!==e.databaseId.projectId)throw new jh(Fh.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new jh(Fh.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ad(Nm(n))}function Im(e,t){return xm(e.databaseId,t)}function Tm(e){var t=Em(e);return 4===t.length?nd.emptyPath():Nm(t)}function Cm(e){return new nd(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Nm(e){return Mh(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Am(e,t,n){return{name:_m(e,t),fields:n.value.mapValue.fields}}function Om(e,t,n){var r=Sm(e,t.name),i=wm(t.updateTime),a=new xp({mapValue:{fields:t.fields}}),o=_p.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Pm(e,t){return"found"in t?function(e,t){Mh(!!t.found),t.found.name,t.found.updateTime;var n=Sm(e,t.found.name),r=wm(t.found.updateTime),i=new xp({mapValue:{fields:t.found.fields}});return _p.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Mh(!!t.missing),Mh(!!t.readTime);var n=Sm(e,t.missing),r=wm(t.readTime);return _p.newNoDocument(n,r)}(e,t):Dh()}function Rm(e,t){var n;if(t instanceof Dv)n={update:Am(e,t.key,t.value)};else if(t instanceof zv)n={delete:_m(e,t.key)};else if(t instanceof Mv)n={update:Am(e,t.key,t.data),updateMask:Wm(t.fieldMask)};else{if(!(t instanceof Bv))return Dh();n={verify:_m(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof mv)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof yv)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof bv)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof wv)return{fieldPath:t.field.canonicalString(),increment:n._t};throw Dh()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:km(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Dh()}(e,t.precondition)),n}function Dm(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Iv.updateTime(wm(e.updateTime)):void 0!==e.exists?Iv.exists(e.exists):Iv.none()}(t.currentDocument):Iv.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Mh("REQUEST_TIME"===t.setToServerValue),n=new mv;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new yv(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new bv(i)}else"increment"in t?n=new wv(e,t.increment):Dh();var a=id.fromServerFormat(t.fieldPath);return new _v(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Sm(e,t.update.name),a=new xp({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new zd(t.map((function(e){return id.fromServerFormat(e)})))}(t.updateMask);return new Mv(i,a,o,n,r)}return new Dv(i,a,n,r)}if(t.delete){var u=Sm(e,t.delete);return new zv(u,n)}if(t.verify){var s=Sm(e,t.verify);return new Bv(s,n)}return Dh()}function Mm(e,t){return{documents:[Im(e,t.path)]}}function Lm(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Im(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Im(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(pp(e.value))return{unaryFilter:{field:zm(e.field),op:"IS_NAN"}};if(dp(e.value))return{unaryFilter:{field:zm(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(pp(e.value))return{unaryFilter:{field:zm(e.field),op:"IS_NOT_NAN"}};if(dp(e.value))return{unaryFilter:{field:zm(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zm(e.field),op:Um(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:zm(e.field),direction:Vm(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.dt||Jd(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Fm(e){var t=Tm(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Mh(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=jm(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new qp(Bm(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Jd(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Bp(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Bp(n,t)}(n.endAt)),$p(t,i,u,o,s,"F",c,l)}function jm(e){return e?void 0!==e.unaryFilter?[Hm(e)]:void 0!==e.fieldFilter?[qm(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return jm(e)})).reduce((function(e,t){return e.concat(t)})):Dh():[]}function Vm(e){return vm[e]}function Um(e){return mm[e]}function zm(e){return{fieldPath:e.canonicalString()}}function Bm(e){return id.fromServerFormat(e.fieldPath)}function qm(e){return Rp.create(Bm(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Dh()}}(e.fieldFilter.op),e.fieldFilter.value)}function Hm(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Bm(e.unaryFilter.field);return Rp.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Bm(e.unaryFilter.field);return Rp.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Bm(e.unaryFilter.field);return Rp.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Bm(e.unaryFilter.field);return Rp.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Dh()}}function Wm(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Km(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Gm(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Qm(t)),t=$m(e.get(n),t);return Qm(t)}function $m(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Qm(e){return e+"\x01\x01"}function Ym(e){var t=e.length;if(Mh(t>=2),2===t)return Mh("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),nd.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Dh(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Dh()}a=o+2}return new nd(r)}var Xm=["userId","batchId"];function Jm(e,t){return[e,Gm(t)]}function Zm(e,t,n){return[e,Gm(t),n]}var ey={},ty=["prefixPath","collectionGroup","readTime","documentId"],ny=["prefixPath","collectionGroup","documentId"],ry=["collectionGroup","readTime","prefixPath","documentId"],iy=["canonicalId","targetId"],ay=["targetId","path"],oy=["path","targetId"],uy=["collectionId","parent"],sy=["indexId","uid"],cy=["uid","sequenceNumber"],ly=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],fy=["indexId","uid","orderedDocumentKey"],hy=["userId","collectionPath","documentId"],dy=["userId","collectionPath","largestBatchId"],py=["userId","collectionGroup","largestBatchId"],vy=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),my=[].concat(ln(vy),["documentOverlays"]),yy=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],gy=yy,by=[].concat(gy,["indexConfiguration","indexState","indexEntries"]),ky=function(e){Bt(n,e);var t=Gt(n);function n(e,r){var i;return Vt(this,n),(i=t.call(this)).ee=e,i.currentSequenceNumber=r,i}return zt(n)}(md);function wy(e,t){var n=Lh(e);return wd.N(n.ee,t)}var xy=function(){function e(t,n,r,i){Vt(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return zt(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Av(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=go(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Ov(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=go(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=Ov(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Zv();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=Nv(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(ed.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),rm())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Xh(this.mutations,e.mutations,(function(e,t){return Rv(e,t)}))&&Xh(this.baseMutations,e.baseMutations,(function(e,t){return Rv(e,t)}))}}]),e}(),Ey=function(){function e(t,n,r,i){Vt(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return zt(e,null,[{key:"from",value:function(t,n,r){Mh(t.mutations.length===r.length);for(var i=tm,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),_y=function(){function e(t,n){Vt(this,e),this.largestBatchId=t,this.mutation=n}return zt(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Sy=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ed.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ed.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Bd.EMPTY_BYTE_STRING;Vt(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return zt(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Iy=zt((function e(t){Vt(this,e),this.ne=t}));function Ty(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Cy(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:_m(e,t.key),fields:t.data.value.mapValue.fields,updateTime:gm(e,t.version.toTimestamp())}}(e.ne,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Ny(t.version)};else{if(!t.isUnknownDocument())return Dh();r.unknownDocument={path:n.path.toArray(),version:Ny(t.version)}}return r}function Cy(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Ny(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Ay(e){var t=new Zh(e.seconds,e.nanoseconds);return ed.fromTimestamp(t)}function Oy(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Dm(e.ne,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Dm(e.ne,t)})),u=Zh.fromMillis(t.localWriteTimeMs);return new xy(t.batchId,u,n,o)}function Py(e){var t,n,r=Ay(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Ay(e.lastLimboFreeSnapshotVersion):ed.min();return void 0!==e.query.documents?(Mh(1===(n=e.query).documents.length),t=ev(Qp(Tm(n.documents[0])))):t=function(e){return ev(Fm(e))}(e.query),new Sy(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Bd.fromBase64String(e.resumeToken))}function Ry(e,t){var n,r=Ny(t.snapshotVersion),i=Ny(t.lastLimboFreeSnapshotVersion);n=Np(t.target)?Mm(e.ne,t.target):Lm(e.ne,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Tp(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Dy(e){var t=Fm({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?tv(t,t.limit,"L"):t}function My(e,t){return new _y(t.largestBatchId,Dm(e.ne,t.overlayMutation))}function Ly(e,t){var n=t.path.lastSegment();return[e,Gm(t.path.popLast()),n]}function Fy(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Ny(r.readTime),documentKey:Gm(r.documentKey.path),largestBatchId:r.largestBatchId}}var jy=function(){function e(){Vt(this,e)}return zt(e,[{key:"getBundleMetadata",value:function(e,t){return Vy(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Ay(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Vy(e).put({bundleId:(n=t).id,createTime:Ny(wm(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Uy(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Dy(t.bundledQuery),readTime:Ay(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Uy(e).put(function(e){return{name:e.name,readTime:Ny(wm(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Vy(e){return wy(e,"bundles")}function Uy(e){return wy(e,"namedQueries")}var zy=function(){function e(t,n){Vt(this,e),this.wt=t,this.userId=n}return zt(e,[{key:"getOverlay",value:function(e,t){var n=this;return By(e).get(Ly(this.userId,t)).next((function(e){return e?My(n.wt,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=Jv();return bd.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new _y(t,a);i.push(r.ie(e,o))})),bd.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Gm(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(By(e).W("collectionPathOverlayIndex",i))})),bd.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Jv(),a=Gm(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return By(e).K("collectionPathOverlayIndex",o).next((function(e){var t,n=go(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=My(r.wt,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Jv(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return By(e).J({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=My(a.wt,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ie",value:function(e,t){return By(e).put(function(e,t,n){var r=s(Ly(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Rm(e.ne,n.mutation)}}(this.wt,this.userId,t))}}],[{key:"se",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function By(e){return wy(e,"documentOverlays")}var qy=function(){function e(){Vt(this,e)}return zt(e,[{key:"re",value:function(e,t){this.oe(e,t),t.ue()}},{key:"oe",value:function(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(Wd(e.integerValue));else if("doubleValue"in e){var n=Wd(e.doubleValue);isNaN(n)?this.ce(t,13):(this.ce(t,15),Zd(n)?t.ae(0):t.ae(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ce(t,20),"string"==typeof r?t.he(r):(t.he("".concat(r.seconds||"")),t.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(Kd(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ce(t,45),t.ae(i.latitude||0),t.ae(i.longitude||0)}else"mapValue"in e?yp(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):Dh()}},{key:"le",value:function(e,t){this.ce(t,25),this.ge(e,t)}},{key:"ge",value:function(e,t){t.he(e)}},{key:"we",value:function(e,t){var n=e.fields||{};this.ce(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.le(a,t),this.oe(n[a],t)}}},{key:"me",value:function(e,t){var n=e.values||[];this.ce(t,50);var r,i=go(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.oe(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"_e",value:function(e,t){var n=this;this.ce(t,37),ad.fromName(e).path.forEach((function(e){n.ce(t,60),n.ge(e,t)}))}},{key:"ce",value:function(e,t){e.ae(t)}},{key:"fe",value:function(e){e.ae(2)}}]),e}();function Hy(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Wy(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Hy(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}qy.ye=new qy;var Ky=function(){function e(){Vt(this,e),this.buffer=new Uint8Array(1024),this.position=0}return zt(e,[{key:"pe",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ie(n.value),n=t.next();this.Te()}},{key:"Ee",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ae(n.value),n=t.next();this.Re()}},{key:"be",value:function(e){var t,n=go(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ie(i);else if(i<2048)this.Ie(960|i>>>6),this.Ie(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ie(480|i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i);else{var a=r.codePointAt(0);this.Ie(240|a>>>18),this.Ie(128|63&a>>>12),this.Ie(128|63&a>>>6),this.Ie(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Te()}},{key:"Pe",value:function(e){var t,n=go(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{var a=r.codePointAt(0);this.Ae(240|a>>>18),this.Ae(128|63&a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Re()}},{key:"ve",value:function(e){var t=this.Ve(e),n=Wy(t);this.Se(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"De",value:function(e){var t=this.Ve(e),n=Wy(t);this.Se(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Ce",value:function(){this.xe(255),this.xe(255)}},{key:"Ne",value:function(){this.ke(255),this.ke(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Oe",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ve",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ie",value:function(e){var t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}},{key:"Ae",value:function(e){var t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}},{key:"Te",value:function(){this.xe(0),this.xe(1)}},{key:"Re",value:function(){this.ke(0),this.ke(1)}},{key:"xe",value:function(e){this.Se(1),this.buffer[this.position++]=e}},{key:"ke",value:function(e){this.Se(1),this.buffer[this.position++]=~e}},{key:"Se",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Gy=function(){function e(t){Vt(this,e),this.Me=t}return zt(e,[{key:"de",value:function(e){this.Me.pe(e)}},{key:"he",value:function(e){this.Me.be(e)}},{key:"ae",value:function(e){this.Me.ve(e)}},{key:"ue",value:function(){this.Me.Ce()}}]),e}(),$y=function(){function e(t){Vt(this,e),this.Me=t}return zt(e,[{key:"de",value:function(e){this.Me.Ee(e)}},{key:"he",value:function(e){this.Me.Pe(e)}},{key:"ae",value:function(e){this.Me.De(e)}},{key:"ue",value:function(){this.Me.Ne()}}]),e}(),Qy=function(){function e(){Vt(this,e),this.Me=new Ky,this.Fe=new Gy(this.Me),this.$e=new $y(this.Me)}return zt(e,[{key:"seed",value:function(e){this.Me.seed(e)}},{key:"Be",value:function(e){return 0===e?this.Fe:this.$e}},{key:"Oe",value:function(){return this.Me.Oe()}},{key:"reset",value:function(){this.Me.reset()}}]),e}(),Yy=function(){function e(t,n,r,i){Vt(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return zt(e,[{key:"Le",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Xy(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Jy(e.arrayValue,t.arrayValue))?n:0!==(n=Jy(e.directionalValue,t.directionalValue))?n:ad.comparator(e.documentKey,t.documentKey)}function Jy(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Zy=function(){function e(t){Vt(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ue=t.orderBy,this.qe=[];var n,r=go(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.ht()?this.Ke=i:this.qe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return zt(e,[{key:"Ge",value:function(e){var t=ud(e);if(void 0!==t&&!this.Qe(t))return!1;for(var n=sd(e),r=0,i=0;r<n.length&&this.Qe(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Ke){var a=n[r];if(!this.je(this.Ke,a)||!this.We(this.Ue[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ue.length||!this.We(this.Ue[i++],o))return!1}return!0}},{key:"Qe",value:function(e){var t,n=go(this.qe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.je(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"je",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"We",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),eg=function(){function e(){Vt(this,e),this.ze=new tg}return zt(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.ze.add(t),bd.resolve()}},{key:"getCollectionParents",value:function(e,t){return bd.resolve(this.ze.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return bd.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return bd.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return bd.resolve(null)}},{key:"getIndexType",value:function(e,t){return bd.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return bd.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return bd.resolve(null)}},{key:"getMinOffset",value:function(e,t){return bd.resolve(dd.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return bd.resolve(dd.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return bd.resolve()}},{key:"updateIndexEntries",value:function(e,t){return bd.resolve()}}]),e}(),tg=function(){function e(){Vt(this,e),this.index={}}return zt(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new jd(nd.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new jd(nd.comparator)).toArray()}}]),e}(),ng=new Uint8Array(0),rg=function(){function e(t,n){Vt(this,e),this.user=t,this.databaseId=n,this.He=new tg,this.Je=new Kv((function(e){return Tp(e)}),(function(e,t){return Cp(e,t)})),this.uid=t.uid||""}return zt(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.He.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.He.add(t)}));var a={collectionId:r,parent:Gm(i)};return ig(e).put(a)}return bd.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Jh(t),""],!1,!0);return ig(e).K(r).next((function(e){var r,i=go(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Ym(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=og(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=ug(e);return a.next((function(e){o.put(Fy(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=og(e),r=ug(e),i=ag(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=ag(e),i=!0,a=new Map;return bd.forEach(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=rm(),o=[];return bd.forEach(a,(function(i,a){var u;Ah("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(Tp(t)));var s=function(e,t){var n=ud(t);if(void 0===n)return null;var r,i=go(Ap(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=go(sd(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=go(Ap(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=go(sd(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Op(e,o.fieldPath,e.startAt):Pp(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Bp(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=go(sd(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Pp(e,o.fieldPath,e.endAt):Op(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Bp(r,i)}(a,i),h=n.Ze(i,a,l),d=n.Ze(i,a,f),p=n.tn(i,a,c),v=n.en(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return bd.forEach(v,(function(n){return r.j(n,t.limit).next((function(t){t.forEach((function(t){var n=ad.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return bd.resolve(null)}))}},{key:"Ye",value:function(e){var t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}},{key:"en",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.nn(t[s/c]):ng,h=u.sn(e,f,n[s%c],r),d=u.rn(e,f,i[s%c],a),p=o.map((function(t){return u.sn(e,f,t,!0)}));l.push.apply(l,ln(u.createRange(h,d,p)))},h=0;h<s;++h)f(h);return l}},{key:"sn",value:function(e,t,n,r){var i=new Yy(e,ad.empty(),t,n);return r?i:i.Le()}},{key:"rn",value:function(e,t,n,r){var i=new Yy(e,ad.empty(),t,n);return r?i.Le():i}},{key:"Xe",value:function(e,t){var n=new Zy(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=go(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.Ge(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return bd.forEach(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new jd(id.comparator),r=!1,i=go(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(c){i.e(c)}finally{i.f()}var o,u=go(e.orderBy);try{for(u.s();!(o=u.n()).done;){var s=o.value;s.field.isKeyField()||(n=n.add(s.field))}}catch(c){u.e(c)}finally{u.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"on",value:function(e,t){var n,r=new Qy,i=go(sd(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Be(a.kind);qy.ye.re(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Oe()}},{key:"nn",value:function(e){var t=new Qy;return qy.ye.re(e,t.Be(0)),t.Oe()}},{key:"un",value:function(e,t){var n=new Qy;return qy.ye.re(lp(this.databaseId,t),n.Be(function(e){var t=sd(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Oe()}},{key:"tn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Qy);var i,a=0,o=go(sd(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=go(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.cn(t,s.fieldPath)&&hp(c))r=this.an(r,s,c);else{var h=f.Be(s.kind);qy.ye.re(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.hn(r)}},{key:"Ze",value:function(e,t,n){return this.tn(e,t,n.position)}},{key:"hn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Oe();return t}},{key:"an",value:function(e,t,n){var r,i=ln(e),a=[],o=go(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=go(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new Qy;f.seed(l.Oe()),qy.ye.re(s,f.Be(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"cn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Rp&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=og(e),i=ug(e);return(t?r.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.K()).next((function(e){var t=[];return bd.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new ld(t.sequenceNumber,new dd(Ay(t.readTime),new ad(Ym(t.documentKey)),t.largestBatchId)):ld.empty(),r=e.fields.map((function(e){var t=s(e,2),n=t[0],r=t[1];return new cd(id.fromServerFormat(n),r)}));return new od(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Yh(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=og(e),a=ug(e);return this.ln(e).next((function(e){return i.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return bd.forEach(t,(function(t){return a.put(Fy(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return bd.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?bd.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),bd.forEach(a,(function(r){return n.fn(e,t,r).next((function(t){var a=n.dn(i,r);return t.isEqual(a)?bd.resolve():n._n(e,i,r,t,a)}))}))}))}))}},{key:"wn",value:function(e,t,n,r){return ag(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.un(n,t.key),documentKey:t.key.path.toArray()})}},{key:"mn",value:function(e,t,n,r){return ag(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.un(n,t.key),t.key.path.toArray()])}},{key:"fn",value:function(e,t,n){var r=ag(e),i=new jd(Xy);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.un(n,t)])},(function(e,r){i=i.add(new Yy(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"dn",value:function(e,t){var n=new jd(Xy),r=this.on(t,e);if(null==r)return n;var i=ud(t);if(null!=i){var a=e.data.field(i.fieldPath);if(hp(a)){var o,u=go(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new Yy(t.indexId,e.key,this.nn(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new Yy(t.indexId,e.key,ng,r));return n}},{key:"_n",value:function(e,t,n,r,i){var a=this;Ah("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Ud(a),s=Ud(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Ud(o)):l?(i(u),u=Ud(a)):(u=Ud(a),s=Ud(o))}}(r,i,Xy,(function(r){o.push(a.wn(e,t,n,r))}),(function(r){o.push(a.mn(e,t,n,r))})),bd.waitFor(o)}},{key:"ln",value:function(e){var t=1;return ug(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Xy(e,t)})).filter((function(e,t,n){return!t||0!==Xy(e,n[t-1])}));var r=[];r.push(e);var i,a=go(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=Xy(o,e),s=Xy(o,t);if(0===u)r[0]=e.Le();else if(u>0&&s<0)r.push(o),r.push(o.Le());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,ng,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,ng,[]]));return c}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(sg)}},{key:"getMinOffset",value:function(e,t){var n=this;return bd.mapArray(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){return e||Dh()}))})).next(sg)}}]),e}();function ig(e){return wy(e,"collectionParents")}function ag(e){return wy(e,"indexEntries")}function og(e){return wy(e,"indexConfiguration")}function ug(e){return wy(e,"indexState")}function sg(e){Mh(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;pd(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new dd(t.readTime,t.documentKey,n)}var cg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lg=function(){function e(t,n,r){Vt(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return zt(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function fg(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.J({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Mh(1===u)})));var c,l=[],f=go(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Zm(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return bd.waitFor(a).next((function(){return l}))}function hg(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Dh();t=e.noDocument}return JSON.stringify(t).length}lg.DEFAULT_COLLECTION_PERCENTILE=10,lg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,lg.DEFAULT=new lg(41943040,lg.DEFAULT_COLLECTION_PERCENTILE,lg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),lg.DISABLED=new lg(-1,0,0);var dg=function(){function e(t,n,r,i){Vt(this,e),this.userId=t,this.wt=n,this.indexManager=r,this.referenceDelegate=i,this.gn={}}return zt(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return vg(e).J({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=mg(e),o=vg(e);return o.add({}).next((function(u){Mh("number"==typeof u);var s,c=new xy(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Rm(e.ne,t)})),i=n.mutations.map((function(t){return Rm(e.ne,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.wt,i.userId,c),f=[],h=new jd((function(e,t){return Yh(e.canonicalString(),t.canonicalString())})),d=go(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=Zm(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,ey))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.gn[u]=c.keys()})),bd.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return vg(e).get(t).next((function(e){return e?(Mh(e.userId===n.userId),Oy(n.wt,e)):null}))}},{key:"yn",value:function(e,t){var n=this;return this.gn[t]?bd.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.gn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return vg(e).J({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Mh(t.batchId>=r),a=Oy(n.wt,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return vg(e).J({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return vg(e).K("userMutationsIndex",n).next((function(e){return e.map((function(e){return Oy(t.wt,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Jm(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return mg(e).J({range:i},(function(r,i,o){var u=s(r,3),c=u[0],l=u[1],f=u[2],h=Ym(l);if(c===n.userId&&t.path.isEqual(h))return vg(e).get(f).next((function(e){if(!e)throw Dh();Mh(e.userId===n.userId),a.push(Oy(n.wt,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new jd(Yh),i=[];return t.forEach((function(t){var a=Jm(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=mg(e).J({range:o},(function(e,i,a){var o=s(e,3),u=o[0],c=o[1],l=o[2],f=Ym(c);u===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(u)})),bd.waitFor(i).next((function(){return n.pn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Jm(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new jd(Yh);return mg(e).J({range:o},(function(e,t,a){var o=s(e,3),c=o[0],l=o[1],f=o[2],h=Ym(l);c===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.pn(e,u)}))}},{key:"pn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(vg(e).get(t).next((function(e){if(null===e)throw Dh();Mh(e.userId===n.userId),r.push(Oy(n.wt,e))})))})),bd.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return fg(e.ee,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.In(t.batchId)})),bd.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"In",value:function(e){delete this.gn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return bd.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return mg(e).J({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Ym(e[1]);i.push(a)}else r.done()})).next((function(){Mh(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return pg(e,this.userId,t)}},{key:"Tn",value:function(e){var t=this;return yg(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"se",value:function(t,n,r,i){return Mh(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function pg(e,t,n){var r=Jm(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return mg(e).J({range:a,H:!0},(function(e,n,r){var a=s(e,3),u=a[0],c=a[1];a[2];u===t&&c===i&&(o=!0),r.done()})).next((function(){return o}))}function vg(e){return wy(e,"mutations")}function mg(e){return wy(e,"documentMutations")}function yg(e){return wy(e,"mutationQueues")}var gg=function(){function e(t){Vt(this,e),this.En=t}return zt(e,[{key:"next",value:function(){return this.En+=2,this.En}}],[{key:"An",value:function(){return new e(0)}},{key:"Rn",value:function(){return new e(-1)}}]),e}(),bg=function(){function e(t,n){Vt(this,e),this.referenceDelegate=t,this.wt=n}return zt(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.bn(e).next((function(n){var r=new gg(n.highestTargetId);return n.highestTargetId=r.next(),t.Pn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.bn(e).next((function(e){return ed.fromTimestamp(new Zh(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.bn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.bn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Pn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.vn(e,t).next((function(){return n.bn(e).next((function(r){return r.targetCount+=1,n.Vn(t,r),n.Pn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.vn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return kg(e).delete(t.targetId)})).next((function(){return n.bn(e)})).next((function(t){return Mh(t.targetCount>0),t.targetCount-=1,n.Pn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return kg(e).J((function(o,u){var s=Py(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return bd.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return kg(e).J((function(e,n){var r=Py(n);t(r)}))}},{key:"bn",value:function(e){return wg(e).get("targetGlobalKey").next((function(e){return Mh(null!==e),e}))}},{key:"Pn",value:function(e,t){return wg(e).put("targetGlobalKey",t)}},{key:"vn",value:function(e,t){return kg(e).put(Ry(this.wt,t))}},{key:"Vn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.bn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Tp(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return kg(e).J({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Py(n);Cp(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=xg(e);return t.forEach((function(t){var o=Gm(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),bd.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=xg(e);return bd.forEach(t,(function(t){var a=Gm(t.path);return bd.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=xg(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=xg(e),i=rm();return r.J({range:n,H:!0},(function(e,t,n){var r=Ym(e[1]),a=new ad(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Gm(t.path),r=IDBKeyRange.bound([n],[Jh(n)],!1,!0),i=0;return xg(e).J({index:"documentTargetsIndex",H:!0,range:r},(function(e,t,n){var r=s(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"te",value:function(e,t){return kg(e).get(t).next((function(e){return e?Py(e):null}))}}]),e}();function kg(e){return wy(e,"targets")}function wg(e){return wy(e,"targetGlobal")}function xg(e){return wy(e,"targetDocuments")}function Eg(e,t){var n=s(e,2),r=n[0],i=n[1],a=s(t,2),o=a[0],u=a[1],c=Yh(r,o);return 0===c?Yh(i,u):c}var _g=function(){function e(t){Vt(this,e),this.Sn=t,this.buffer=new jd(Eg),this.Dn=0}return zt(e,[{key:"Cn",value:function(){return++this.Dn}},{key:"xn",value:function(e){var t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Eg(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Sg=function(){function e(t,n,r){Vt(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Nn=null}return zt(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}},{key:"stop",value:function(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}},{key:"started",get:function(){return null!==this.Nn}},{key:"kn",value:function(e){var t=this;Ah("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,Jn(Yn().mark((function e(){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Nn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!_d(e.t0)){e.next=12;break}Ah("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,yd(e.t0);case 14:return e.next=16,t.kn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),Ig=function(){function e(t,n){Vt(this,e),this.On=t,this.params=n}return zt(e,[{key:"calculateTargetCount",value:function(e,t){return this.On.Mn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return bd.resolve(Od.ot);var r=new _g(t);return this.On.forEachTarget(e,(function(e){return r.xn(e.sequenceNumber)})).next((function(){return n.On.Fn(e,(function(e){return r.xn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.On.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.On.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Ah("LruGarbageCollector","Garbage collection skipped; disabled"),bd.resolve(cg)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Ah("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),cg):n.$n(e,t)}))}},{key:"getCacheSize",value:function(e){return this.On.getCacheSize(e)}},{key:"$n",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Ah("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Nh()<=Zo.DEBUG&&Ah("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),bd.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),Tg=function(){function e(t,n){Vt(this,e),this.db=t,this.garbageCollector=function(e,t){return new Ig(e,t)}(this,n)}return zt(e,[{key:"Mn",value:function(e){var t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Bn",value:function(e){var t=0;return this.Fn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Fn",value:function(e,t){return this.Ln(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Cg(e,n)}},{key:"removeReference",value:function(e,t,n){return Cg(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Cg(e,t)}},{key:"Un",value:function(e,t){return function(e,t){var n=!1;return yg(e).Y((function(r){return pg(e,r,t).next((function(e){return e&&(n=!0),bd.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Ln(e,(function(o,u){if(u<=t){var s=n.Un(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,ed.min()),xg(e).delete([0,Gm(o.path)])}))}));i.push(s)}})).next((function(){return bd.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Cg(e,t)}},{key:"Ln",value:function(e,t){var n,r=xg(e),i=Od.ot;return r.J({index:"documentTargetsIndex"},(function(e,r){var a=s(e,2),o=a[0],u=(a[1],r.path),c=r.sequenceNumber;0===o?(i!==Od.ot&&t(new ad(Ym(n)),i),i=c,n=u):i=Od.ot})).next((function(){i!==Od.ot&&t(new ad(Ym(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Cg(e,t){return xg(e).put(function(e,t){return{targetId:0,path:Gm(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Ng=function(){function e(){Vt(this,e),this.changes=new Kv((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return zt(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,_p.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?bd.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Ag=function(){function e(t){Vt(this,e),this.wt=t}return zt(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Dg(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Dg(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Cy(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=_p.newInvalidDocument(t);return Dg(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Mg(t))},(function(e,i){r=n.Kn(t,i)})).next((function(){return r}))}},{key:"Gn",value:function(e,t){var n=this,r={size:0,document:_p.newInvalidDocument(t)};return Dg(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Mg(t))},(function(e,i){r={document:n.Kn(t,i),size:hg(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=$v();return this.Qn(e,t,(function(e,t){var i=n.Kn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"jn",value:function(e,t){var n=this,r=$v(),i=new Md(ad.comparator);return this.Qn(e,t,(function(e,t){var a=n.Kn(e,t);r=r.insert(e,a),i=i.insert(e,hg(t))})).next((function(){return{documents:r,Wn:i}}))}},{key:"Qn",value:function(e,t,n){if(t.isEmpty())return bd.resolve();var r=new jd(Fg);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(Mg(r.first()),Mg(r.last())),a=r.getIterator(),o=a.getNext();return Dg(e).J({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=ad.fromSegments([].concat(ln(t.prefixPath),[t.collectionGroup,t.documentId]));o&&Fg(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.q(Mg(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),Cy(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Dg(e).K(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=$v(),i=go(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.Kn(ad.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=$v(),o=Lg(t,n),u=Lg(t,dd.max());return Dg(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.Kn(ad.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new Pg(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Rg(e).get("remoteDocumentGlobalKey").next((function(e){return Mh(!!e),e}))}},{key:"qn",value:function(e,t){return Rg(e).put("remoteDocumentGlobalKey",t)}},{key:"Kn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=Om(e.ne,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=ad.fromSegments(t.noDocument.path),i=Ay(t.noDocument.readTime);n=_p.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Dh();var a=ad.fromSegments(t.unknownDocument.path),o=Ay(t.unknownDocument.version);n=_p.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Zh(e[0],e[1]);return ed.fromTimestamp(t)}(t.readTime)),n}(this.wt,t);if(!n.isNoDocument()||!n.version.isEqual(ed.min()))return n}return _p.newInvalidDocument(e)}}]),e}();function Og(e){return new Ag(e)}var Pg=function(e){Bt(n,e);var t=Gt(n);function n(e,r){var i;return Vt(this,n),(i=t.call(this)).zn=e,i.trackRemovals=r,i.Hn=new Kv((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return zt(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new jd((function(e,t){return Yh(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Hn.get(a);if(n.push(t.zn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=Ty(t.zn.wt,o);i=i.add(a.path.popLast());var c=hg(s);r+=c-u.size,n.push(t.zn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=Ty(t.zn.wt,o.convertToNoDocument(ed.min()));n.push(t.zn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.zn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.zn.updateMetadata(e,r)),bd.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.zn.Gn(e,t).next((function(e){return n.Hn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.zn.jn(e,t).next((function(e){var t=e.documents;return e.Wn.forEach((function(e,r){n.Hn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(Ng);function Rg(e){return wy(e,"remoteDocumentGlobal")}function Dg(e){return wy(e,"remoteDocumentsV14")}function Mg(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Lg(e,t){var n=t.documentKey.path.toArray();return[e,Cy(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Fg(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Yh(n[a],r[a]))return i;return(i=Yh(n.length,r.length))||((i=Yh(n[n.length-2],r[r.length-2]))||Yh(n[n.length-1],r[r.length-1]))}var jg=zt((function e(t,n){Vt(this,e),this.overlayedDocument=t,this.mutatedFields=n})),Vg=function(){function e(t,n,r,i){Vt(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return zt(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&Ov(r.mutation,e,zd.empty(),Zh.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,rm()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rm(),i=Jv();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Yv();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Jv();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,rm())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=$v(),a=em(),o=em();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Mv)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),Ov(o.mutation,t,o.mutation.getFieldMask(),Zh.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new jg(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=em(),i=new Md((function(e,t){return e-t})),a=rm();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=go(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||zd.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||rm()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=Zv();c.forEach((function(e){if(!a.has(e)){var n=Nv(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return bd.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return ad.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Jp(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):bd.resolve(Jv()),u=-1,s=a;return o.next((function(t){return bd.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?bd.resolve():i.getBaseDocument(e,t,n).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,rm())})).next((function(e){return{batchId:u,changes:Xv(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new ad(t)).next((function(e){var t=Yv();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Yv();return this.indexManager.getCollectionParents(e,i).next((function(o){return bd.forEach(o,(function(o){var u=function(e,t){return new Gp(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,_p.newInvalidDocument(n)))}));var n=Yv();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&Ov(a.mutation,i,zd.empty(),Zh.now()),av(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):bd.resolve(_p.newInvalidDocument(t))}}]),e}(),Ug=function(){function e(t){Vt(this,e),this.wt=t,this.Jn=new Map,this.Yn=new Map}return zt(e,[{key:"getBundleMetadata",value:function(e,t){return bd.resolve(this.Jn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Jn.set(t.id,{id:(n=t).id,version:n.version,createTime:wm(n.createTime)}),bd.resolve()}},{key:"getNamedQuery",value:function(e,t){return bd.resolve(this.Yn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Yn.set(t.name,function(e){return{name:e.name,query:Dy(e.bundledQuery),readTime:wm(e.readTime)}}(t)),bd.resolve()}}]),e}(),zg=function(){function e(){Vt(this,e),this.overlays=new Md(ad.comparator),this.Xn=new Map}return zt(e,[{key:"getOverlay",value:function(e,t){return bd.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Jv();return bd.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ie(e,t,i)})),bd.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Xn.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Xn.delete(n)),bd.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Jv(),i=t.length+1,a=new ad(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return bd.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Md((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Jv(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Jv(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return bd.resolve(s)}},{key:"ie",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.Xn.get(r.largestBatchId).delete(n.key);this.Xn.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new _y(t,n));var a=this.Xn.get(t);void 0===a&&(a=rm(),this.Xn.set(t,a)),this.Xn.set(t,a.add(n.key))}}]),e}(),Bg=function(){function e(){Vt(this,e),this.Zn=new jd(qg.ts),this.es=new jd(qg.ns)}return zt(e,[{key:"isEmpty",value:function(){return this.Zn.isEmpty()}},{key:"addReference",value:function(e,t){var n=new qg(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}},{key:"ss",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.rs(new qg(e,t))}},{key:"os",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new ad(new nd([])),r=new qg(n,e),i=new qg(n,e+1),a=[];return this.es.forEachInRange([r,i],(function(e){t.rs(e),a.push(e.key)})),a}},{key:"cs",value:function(){var e=this;this.Zn.forEach((function(t){return e.rs(t)}))}},{key:"rs",value:function(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}},{key:"hs",value:function(e){var t=new ad(new nd([])),n=new qg(t,e),r=new qg(t,e+1),i=rm();return this.es.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new qg(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),qg=function(){function e(t,n){Vt(this,e),this.key=t,this.ls=n}return zt(e,null,[{key:"ts",value:function(e,t){return ad.comparator(e.key,t.key)||Yh(e.ls,t.ls)}},{key:"ns",value:function(e,t){return Yh(e.ls,t.ls)||ad.comparator(e.key,t.key)}}]),e}(),Hg=function(){function e(t,n){Vt(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.fs=1,this.ds=new jd(qg.ts)}return zt(e,[{key:"checkEmpty",value:function(e){return bd.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.fs;this.fs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new xy(i,t,n,r);this.mutationQueue.push(a);var o,u=go(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.ds=this.ds.add(new qg(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return bd.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return bd.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ws(n),i=r<0?0:r;return bd.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return bd.resolve(0===this.mutationQueue.length?-1:this.fs-1)}},{key:"getAllMutationBatches",value:function(e){return bd.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new qg(t,0),i=new qg(t,Number.POSITIVE_INFINITY),a=[];return this.ds.forEachInRange([r,i],(function(e){var t=n._s(e.ls);a.push(t)})),bd.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new jd(Yh);return t.forEach((function(e){var t=new qg(e,0),i=new qg(e,Number.POSITIVE_INFINITY);n.ds.forEachInRange([t,i],(function(e){r=r.add(e.ls)}))})),bd.resolve(this.gs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;ad.isDocumentKey(i)||(i=i.child(""));var a=new qg(new ad(i),0),o=new jd(Yh);return this.ds.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ls)),!0)}),a),bd.resolve(this.gs(o))}},{key:"gs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Mh(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();var r=this.ds;return bd.forEach(t.mutations,(function(i){var a=new qg(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ds=r}))}},{key:"In",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new qg(t,0),r=this.ds.firstAfterOrEqual(n);return bd.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,bd.resolve()}},{key:"ys",value:function(e,t){return this.ws(e)}},{key:"ws",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"_s",value:function(e){var t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Wg=function(){function e(t){Vt(this,e),this.ps=t,this.docs=new Md(ad.comparator),this.size=0}return zt(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ps(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return bd.resolve(n?n.document.mutableCopy():_p.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=$v();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():_p.newInvalidDocument(e))})),bd.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=$v(),i=new ad(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||pd(hd(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return bd.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Dh()}},{key:"Is",value:function(e,t){return bd.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Kg(this)}},{key:"getSize",value:function(e){return bd.resolve(this.size)}}]),e}(),Kg=function(e){Bt(n,e);var t=Gt(n);function n(e){var r;return Vt(this,n),(r=t.call(this)).zn=e,r}return zt(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.zn.addEntry(e,i)):t.zn.removeEntry(r)})),bd.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.zn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.zn.getEntries(e,t)}}]),n}(Ng),Gg=function(){function e(t){Vt(this,e),this.persistence=t,this.Ts=new Kv((function(e){return Tp(e)}),Cp),this.lastRemoteSnapshotVersion=ed.min(),this.highestTargetId=0,this.Es=0,this.As=new Bg,this.targetCount=0,this.Rs=gg.An()}return zt(e,[{key:"forEachTarget",value:function(e,t){return this.Ts.forEach((function(e,n){return t(n)})),bd.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return bd.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return bd.resolve(this.Es)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Rs.next(),bd.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Es&&(this.Es=t),bd.resolve()}},{key:"vn",value:function(e){this.Ts.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Rs=new gg(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.vn(t),this.targetCount+=1,bd.resolve()}},{key:"updateTargetData",value:function(e,t){return this.vn(t),bd.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,bd.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Ts.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Ts.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),bd.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return bd.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Ts.get(t)||null;return bd.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.As.ss(t,n),bd.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.As.os(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),bd.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.As.us(t),bd.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.As.hs(t);return bd.resolve(n)}},{key:"containsKey",value:function(e,t){return bd.resolve(this.As.containsKey(t))}}]),e}(),$g=function(){function e(t,n){var r=this;Vt(this,e),this.bs={},this.overlays={},this.Ps=new Od(0),this.vs=!1,this.vs=!0,this.referenceDelegate=t(this),this.Vs=new Gg(this),this.indexManager=new eg,this.remoteDocumentCache=new Wg((function(e){return r.referenceDelegate.Ss(e)})),this.wt=new Iy(n),this.Ds=new Ug(this.wt)}return zt(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.vs=!1,Promise.resolve()}},{key:"started",get:function(){return this.vs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new zg,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.bs[e.toKey()];return n||(n=new Hg(t,this.referenceDelegate),this.bs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(e,t,n){var r=this;Ah("MemoryPersistence","Starting transaction:",e);var i=new Qg(this.Ps.next());return this.referenceDelegate.Cs(),n(i).next((function(e){return r.referenceDelegate.xs(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ns",value:function(e,t){return bd.or(Object.values(this.bs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Qg=function(e){Bt(n,e);var t=Gt(n);function n(e){var r;return Vt(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return zt(n)}(md),Yg=function(){function e(t){Vt(this,e),this.persistence=t,this.ks=new Bg,this.Os=null}return zt(e,[{key:"Fs",get:function(){if(this.Os)return this.Os;throw Dh()}},{key:"addReference",value:function(e,t,n){return this.ks.addReference(n,t),this.Fs.delete(n.toString()),bd.resolve()}},{key:"removeReference",value:function(e,t,n){return this.ks.removeReference(n,t),this.Fs.add(n.toString()),bd.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Fs.add(t.toString()),bd.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.ks.us(t.targetId).forEach((function(e){return n.Fs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Fs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Cs",value:function(){this.Os=new Set}},{key:"xs",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return bd.forEach(this.Fs,(function(r){var i=ad.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i,ed.min())}))})).next((function(){return t.Os=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.Fs.delete(t.toString()):n.Fs.add(t.toString())}))}},{key:"Ss",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return bd.or([function(){return bd.resolve(n.ks.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ns(e,t)}])}}],[{key:"Ms",value:function(t){return new e(t)}}]),e}(),Xg=function(){function e(t){Vt(this,e),this.wt=t}return zt(e,[{key:"O",value:function(e,t,n,r){var i=this,a=new kd("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Xm,{unique:!0}),e.createObjectStore("documentMutations")}(e),Jg(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=bd.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Jg(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ed.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").K().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Xm,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return bd.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Bs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ls(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Us(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Ks(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:hy});t.createIndex("collectionPathOverlayIndex",dy,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",py,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:ty});t.createIndex("documentKeyIndex",ny),t.createIndex("collectionGroupIndex",ry)}(e)})).next((function(){return i.Gs(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.Qs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:sy}).createIndex("sequenceNumberIndex",cy,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:ly}).createIndex("documentKeyIndex",fy,{unique:!1})}(e)}))),o}},{key:"Ls",value:function(e){var t=0;return e.store("remoteDocuments").J((function(e,n){t+=hg(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Bs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.K().next((function(n){return bd.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.K("userMutationsIndex",i).next((function(r){return bd.forEach(r,(function(r){Mh(r.userId===n.userId);var i=Oy(t.wt,r);return fg(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Us",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.J((function(n,i){var a=new nd(n),o=function(e){return[0,Gm(e)]}(a);r.push(t.get(o).next((function(n){return n?bd.resolve():function(n){return t.put({targetId:0,path:Gm(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return bd.waitFor(r)}))}))}},{key:"qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:uy});var n=t.store("collectionParents"),r=new tg,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Gm(i)})}};return t.store("remoteDocuments").J({H:!0},(function(e,t){var n=new nd(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").J({H:!0},(function(e,t){var n=s(e,3),r=(n[0],n[1]),a=(n[2],Ym(r));return i(a.popLast())}))}))}},{key:"Ks",value:function(e){var t=this,n=e.store("targets");return n.J((function(e,r){var i=Py(r),a=Ry(t.wt,i);return n.put(a)}))}},{key:"Gs",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.J((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new ad(nd.fromString(i.document.name).popFirst(5)):i.noDocument?ad.fromSegments(i.noDocument.path):i.unknownDocument?ad.fromSegments(i.unknownDocument.path):Dh()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return bd.waitFor(r)}))}},{key:"Qs",value:function(e,t){var n=this,r=t.store("mutations"),i=Og(this.wt),a=new $g(Yg.Ms,this.wt.ne);return r.K().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:rm();Oy(n.wt,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),bd.forEach(r,(function(e,r){var o=new Ih(r),u=zy.se(n.wt,o),s=a.getIndexManager(o),c=dg.se(o,n.wt,s,a.referenceDelegate);return new Vg(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new ky(t,Od.ot),e).next()}))}))}}]),e}();function Jg(e){e.createObjectStore("targetDocuments",{keyPath:ay}).createIndex("documentTargetsIndex",oy,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",iy,{unique:!0}),e.createObjectStore("targetGlobal")}var Zg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",eb=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:14;if(Vt(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.js=a,this.window=o,this.document=u,this.Ws=c,this.zs=l,this.Hs=f,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=function(e){return Promise.resolve()},!e.V())throw new jh(Fh.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Tg(this,i),this.ei=n+"main",this.wt=new Iy(s),this.ni=new wd(this.ei,this.Hs,new Xg(this.wt)),this.Vs=new bg(this.referenceDelegate,this.wt),this.remoteDocumentCache=Og(this.wt),this.Ds=new jy,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===l&&Oh("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return zt(e,[{key:"start",value:function(){var e=this;return this.ii().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new jh(Fh.FAILED_PRECONDITION,Zg);return e.ri(),e.oi(),e.ui(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Vs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ps=new Od(t,e.Ws)})).then((function(){e.vs=!0})).catch((function(t){return e.ni&&e.ni.close(),Promise.reject(t)}))}},{key:"ci",value:function(e){var t=this;return this.ti=function(){var n=Jn(Yn().mark((function n(r){return Yn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ni.F(function(){var t=Jn(Yn().mark((function t(n){return Yn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget(Jn(Yn().mark((function e(){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ii();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ii",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return nb(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.ai(t).next((function(t){t||(e.isPrimary=!1,e.js.enqueueRetryable((function(){return e.ti(!1)})))}))})).next((function(){return e.hi(t)})).next((function(n){return e.isPrimary&&!n?e.li(t).next((function(){return!1})):!!n&&e.fi(t).next((function(){return!0}))}))})).catch((function(t){if(_d(t))return Ah("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Ah("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.js.enqueueRetryable((function(){return e.ti(t)})),e.isPrimary=t}))}},{key:"ai",value:function(e){var t=this;return tb(e).get("owner").next((function(e){return bd.resolve(t.di(e))}))}},{key:"_i",value:function(e){return nb(e).delete(this.clientId)}},{key:"wi",value:function(){var e=Jn(Yn().mark((function e(){var t,n,r,i,a=this;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.mi(this.Zs,18e5)){e.next=6;break}return this.Zs=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=wy(e,"clientMetadata");return t.K().next((function(e){var n=a.gi(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return bd.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.si){n=go(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.si.removeItem(this.yi(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ui",value:function(){var e=this;this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ii().then((function(){return e.wi()})).then((function(){return e.ui()}))}))}},{key:"di",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"hi",value:function(e){var t=this;return this.zs?bd.resolve(!0):tb(e).get("owner").next((function(n){if(null!==n&&t.mi(n.leaseTimestampMs,5e3)&&!t.pi(n.ownerId)){if(t.di(n)&&t.networkEnabled)return!0;if(!t.di(n)){if(!n.allowTabSynchronization)throw new jh(Fh.FAILED_PRECONDITION,Zg);return!1}}return!(!t.networkEnabled||!t.inForeground)||nb(e).K().next((function(e){return void 0===t.gi(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Ah("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Jn(Yn().mark((function e(){var t=this;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.vs=!1,this.Ii(),this.Xs&&(this.Xs.cancel(),this.Xs=null),this.Ti(),this.Ei(),e.next=7,this.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new ky(e,Od.ot);return t.li(n).next((function(){return t._i(n)}))}));case 7:this.ni.close(),this.Ai();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"gi",value:function(e,t){var n=this;return e.filter((function(e){return n.mi(e.updateTimeMs,t)&&!n.pi(e.clientId)}))}},{key:"Ri",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return nb(t).K().next((function(t){return e.gi(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.vs}},{key:"getMutationQueue",value:function(e,t){return dg.se(e,this.wt,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new rg(e,this.wt.ne.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return zy.se(this.wt,e)}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(e,t,n){var r=this;Ah("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.Hs)?by:14===i?gy:13===i?yy:12===i?my:11===i?vy:void Dh();return this.ni.runTransaction(e,o,u,(function(i){return a=new ky(i,r.Ps?r.Ps.next():Od.ot),"readwrite-primary"===t?r.ai(a).next((function(e){return!!e||r.hi(a)})).next((function(t){if(!t)throw Oh("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.js.enqueueRetryable((function(){return r.ti(!1)})),new jh(Fh.FAILED_PRECONDITION,vd);return n(a)})).next((function(e){return r.fi(a).next((function(){return e}))})):r.bi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"bi",value:function(e){var t=this;return tb(e).get("owner").next((function(e){if(null!==e&&t.mi(e.leaseTimestampMs,5e3)&&!t.pi(e.ownerId)&&!t.di(e)&&!(t.zs||t.allowTabSynchronization&&e.allowTabSynchronization))throw new jh(Fh.FAILED_PRECONDITION,Zg)}))}},{key:"fi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return tb(e).put("owner",t)}},{key:"li",value:function(e){var t=this,n=tb(e);return n.get("owner").next((function(e){return t.di(e)?(Ah("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):bd.resolve()}))}},{key:"mi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Oh("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ri",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=function(){e.js.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ii()}))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ti",value:function(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}},{key:"oi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=function(){t.Ii(),!Ao()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.js.enterRestrictedMode(!0),t.js.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Js))}},{key:"Ei",value:function(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}},{key:"pi",value:function(e){var t;try{var n=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return Ah("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Oh("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ii",value:function(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(Ss){Oh("Failed to set zombie client id.",Ss)}}},{key:"Ai",value:function(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch(Ss){}}},{key:"yi",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"V",value:function(){return wd.V()}}]),e}();function tb(e){return wy(e,"owner")}function nb(e){return wy(e,"clientMetadata")}function rb(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var ib=function(){function e(t,n,r,i){Vt(this,e),this.targetId=t,this.fromCache=n,this.Pi=r,this.vi=i}return zt(e,null,[{key:"Vi",value:function(t,n){var r,i=rm(),a=rm(),o=go(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),ab=function(){function e(){Vt(this,e),this.Si=!1}return zt(e,[{key:"initialize",value:function(e,t){this.Di=e,this.indexManager=t,this.Si=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ci(e,t).next((function(a){return a||i.xi(e,t,r,n)})).next((function(n){return n||i.Ni(e,t)}))}},{key:"Ci",value:function(e,t){return bd.resolve(null)}},{key:"xi",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||r.isEqual(ed.min())?this.Ni(e,t):this.Di.getDocuments(e,n).next((function(a){var o=i.ki(t,a);return i.Oi(t,o,n,r)?i.Ni(e,t):(Nh()<=Zo.DEBUG&&Ah("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),iv(t)),i.Mi(e,o,t,fd(r,-1)))}))}},{key:"ki",value:function(e,t){var n=new jd(uv(e));return t.forEach((function(t,r){av(e,r)&&(n=n.add(r))})),n}},{key:"Oi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Ni",value:function(e,t){return Nh()<=Zo.DEBUG&&Ah("QueryEngine","Using full collection scan to execute query:",iv(t)),this.Di.getDocumentsMatchingQuery(e,t,dd.min())}},{key:"Mi",value:function(e,t,n,r){return this.Di.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),ob=function(){function e(t,n,r,i){Vt(this,e),this.persistence=t,this.Fi=n,this.wt=i,this.$i=new Md(Yh),this.Bi=new Kv((function(e){return Tp(e)}),Cp),this.Li=new Map,this.Ui=t.getRemoteDocumentCache(),this.Vs=t.getTargetCache(),this.Ds=t.getBundleCache(),this.qi(r)}return zt(e,[{key:"qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Vg(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.$i)}))}}]),e}();function ub(e,t,n,r){return new ob(e,t,n,r)}function sb(e,t){return cb.apply(this,arguments)}function cb(){return cb=Jn(Yn().mark((function e(t,n){var r;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Lh(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=rm(),s=go(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=go(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){s.e(b)}finally{s.f()}var d,p=go(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=go(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(b){y.e(b)}finally{y.f()}}}catch(b){p.e(b)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{Ki:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),cb.apply(this,arguments)}function lb(e,t){var n=Lh(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Ui.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=bd.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Mh(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=rm(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function fb(e){var t=Lh(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Vs.getLastRemoteSnapshotVersion(e)}))}function hb(e,t){var n=Lh(e),r=t.snapshotVersion,i=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Ui.newChangeBuffer({trackRemovals:!0});i=n.$i;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Vs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Vs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(Bd.EMPTY_BYTE_STRING,ed.min()).withLastLimboFreeSnapshotVersion(ed.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Vs.updateTargetData(e,c))}}));var u=$v(),s=rm();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(db(e,a,t.documentUpdates).next((function(e){u=e.Gi,s=e.Qi}))),!r.isEqual(ed.min())){var c=n.Vs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Vs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return bd.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.$i=i,e}))}function db(e,t,n){var r=rm(),i=rm();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=$v();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(ed.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Ah("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Gi:r,Qi:i}}))}function pb(e,t){var n=Lh(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function vb(e,t){var n=Lh(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Vs.getTargetData(e,t).next((function(i){return i?(r=i,bd.resolve(r)):n.Vs.allocateTargetId(e).next((function(i){return r=new Sy(t,i,0,e.currentSequenceNumber),n.Vs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.$i.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.$i=n.$i.insert(e.targetId,e),n.Bi.set(t,e.targetId)),e}))}function mb(e,t,n){return yb.apply(this,arguments)}function yb(){return yb=Jn(Yn().mark((function e(t,n,r){var i,a,o;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Lh(t),a=i.$i.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),_d(e.t1)){e.next=12;break}throw e.t1;case 12:Ah("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.$i=i.$i.remove(n),i.Bi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),yb.apply(this,arguments)}function gb(e,t,n){var r=Lh(e),i=ed.min(),a=rm();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Lh(e),i=r.Bi.get(n);return void 0!==i?bd.resolve(r.$i.get(i)):r.Vs.getTargetData(t,n)}(r,e,ev(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Fi.getDocumentsMatchingQuery(e,t,n?i:ed.min(),n?a:rm())})).next((function(e){return wb(r,ov(t),e),{documents:e,ji:a}}))}))}function bb(e,t){var n=Lh(e),r=Lh(n.Vs),i=n.$i.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.te(e,t).next((function(e){return e?e.target:null}))}))}function kb(e,t){var n=Lh(e),r=n.Li.get(t)||ed.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Ui.getAllFromCollectionGroup(e,t,fd(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return wb(n,t,e),e}))}function wb(e,t,n){var r=ed.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Li.set(t,r)}function xb(e,t,n,r){return Eb.apply(this,arguments)}function Eb(){return Eb=Jn(Yn().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Lh(t),o=rm(),u=$v(),s=go(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Wi(l.metadata.name),l.document&&(o=o.add(f)),(h=n.zi(l)).setReadTime(n.Hi(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.Ui.newChangeBuffer({trackRemovals:!0}),e.next=7,vb(a,function(e){return ev(Qp(nd.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return db(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Vs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Vs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Gi,t.Qi)})).next((function(){return t.Gi}))}))})));case 9:case"end":return e.stop()}}),e)}))),Eb.apply(this,arguments)}function _b(e,t){return Sb.apply(this,arguments)}function Sb(){return Sb=Jn(Yn().mark((function e(t,n){var r,i,a,o=arguments;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:rm(),e.next=3,vb(t,ev(Dy(n.bundledQuery)));case 3:return i=e.sent,a=Lh(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=wm(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ds.saveNamedQuery(e,n);var o=i.withResumeToken(Bd.EMPTY_BYTE_STRING,t);return a.$i=a.$i.insert(o.targetId,o),a.Vs.updateTargetData(e,o).next((function(){return a.Vs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Vs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ds.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),Sb.apply(this,arguments)}function Ib(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Tb(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Cb(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Nb=function(){function e(t,n,r,i){Vt(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return zt(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new jh(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Oh("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Ab=function(){function e(t,n,r){Vt(this,e),this.targetId=t,this.state=n,this.error=r}return zt(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new jh(i.error.code,i.error.message))),a?new e(t,i.state,r):(Oh("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Ob=function(){function e(t,n){Vt(this,e),this.clientId=t,this.activeTargetIds=n}return zt(e,null,[{key:"Ji",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=am(),o=0;i&&o<r.activeTargetIds.length;++o)i=ep(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Oh("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Pb=function(){function e(t,n){Vt(this,e),this.clientId=t,this.onlineState=n}return zt(e,null,[{key:"Ji",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Oh("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Rb=function(){function e(){Vt(this,e),this.activeTargetIds=am()}return zt(e,[{key:"Xi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Yi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Db=function(){function e(t,n,r,i,a){Vt(this,e),this.window=t,this.js=n,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Md(Yh),this.started=!1,this.ir=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=Ib(this.persistenceKey,this.tr),this.ur=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.sr=this.sr.insert(this.tr,new Rb),this.cr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.ar=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.hr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.lr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.dr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.er)}return zt(e,[{key:"start",value:function(){var e=Jn(Yn().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Ri();case 2:t=e.sent,n=go(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.tr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Ib(this.persistenceKey,i)))&&(o=Ob.Ji(i,a))&&(this.sr=this.sr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this._r(),(u=this.storage.getItem(this.lr))&&(s=this.wr(u))&&this.mr(s),c=go(this.ir);try{for(c.s();!(l=c.n()).done;)f=l.value,this.nr(f)}catch(d){c.e(d)}finally{c.f()}this.ir=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ur,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.gr(this.sr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.sr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.yr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.yr(e,t,n),this.pr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Cb(this.persistenceKey,e));if(n){var r=Ab.Ji(e,n);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ir.Zi(e),this._r()}},{key:"isLocalQueryTarget",value:function(e){return this.Ir.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Cb(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Tr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.pr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Er(e)}},{key:"notifyBundleLoaded",value:function(e){this.Ar(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Ah("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Ah("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Ah("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"nr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Ah("SharedClientState","EVENT",n.key,n.newValue),n.key===this.rr)return void Oh("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable(Jn(Yn().mark((function e(){var r,i,a,o,u,s,c;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.cr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Rr(n.key),e.abrupt("return",t.br(r,null));case 6:if(!(i=t.Pr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.br(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.ar.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.vr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Vr(a));case 16:e.next=41;break;case 18:if(!t.hr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Sr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Dr(o));case 23:e.next=41;break;case 25:if(n.key!==t.lr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.wr(n.newValue))){e.next=30;break}return e.abrupt("return",t.mr(u));case 30:e.next=41;break;case 32:if(n.key!==t.ur){e.next=37;break}s=function(e){var t=Od.ot;if(null!=e)try{var n=JSON.parse(e);Mh("number"==typeof n),t=n}catch(e){Oh("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Od.ot&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.dr){e.next=41;break}return c=t.Cr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Nr(e)})));case 41:e.next=44;break;case 43:t.ir.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ir",get:function(){return this.sr.get(this.tr)}},{key:"_r",value:function(){this.setItem(this.rr,this.Ir.Yi())}},{key:"yr",value:function(e,t,n){var r=new Nb(this.currentUser,e,t,n),i=Tb(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Yi())}},{key:"pr",value:function(e){var t=Tb(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Er",value:function(e){var t={clientId:this.tr,onlineState:e};this.storage.setItem(this.lr,JSON.stringify(t))}},{key:"Tr",value:function(e,t,n){var r=Cb(this.persistenceKey,e),i=new Ab(e,t,n);this.setItem(r,i.Yi())}},{key:"Ar",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}},{key:"Rr",value:function(e){var t=this.cr.exec(e);return t?t[1]:null}},{key:"Pr",value:function(e,t){var n=this.Rr(e);return Ob.Ji(n,t)}},{key:"vr",value:function(e,t){var n=this.ar.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Nb.Ji(new Ih(i),r,t)}},{key:"Sr",value:function(e,t){var n=this.hr.exec(e),r=Number(n[1]);return Ab.Ji(r,t)}},{key:"wr",value:function(e){return Pb.Ji(e)}},{key:"Cr",value:function(e){return JSON.parse(e)}},{key:"Vr",value:function(){var e=Jn(Yn().mark((function e(t){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.kr(t.batchId,t.state,t.error));case 2:Ah("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dr",value:function(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}},{key:"br",value:function(e,t){var n=this,r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),a=this.gr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Mr(o,u).then((function(){n.sr=r}))}},{key:"mr",value:function(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"gr",value:function(e){var t=am();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"V",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Mb=function(){function e(){Vt(this,e),this.Fr=new Rb,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return zt(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.$r[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Fr.Zi(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.$r[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Fr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Fr=new Rb,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Lb=function(){function e(){Vt(this,e)}return zt(e,[{key:"Br",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Fb=function(){function e(){var t=this;Vt(this,e),this.Lr=function(){return t.Ur()},this.qr=function(){return t.Kr()},this.Gr=[],this.Qr()}return zt(e,[{key:"Br",value:function(e){this.Gr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}},{key:"Qr",value:function(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}},{key:"Ur",value:function(){Ah("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=go(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Kr",value:function(){Ah("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=go(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"V",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),jb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Vb=function(){function e(t){Vt(this,e),this.jr=t.jr,this.Wr=t.Wr}return zt(e,[{key:"zr",value:function(e){this.Hr=e}},{key:"Jr",value:function(e){this.Yr=e}},{key:"onMessage",value:function(e){this.Xr=e}},{key:"close",value:function(){this.Wr()}},{key:"send",value:function(e){this.jr(e)}},{key:"Zr",value:function(){this.Hr()}},{key:"eo",value:function(e){this.Yr(e)}},{key:"no",value:function(e){this.Xr(e)}}]),e}(),Ub=function(e){Bt(n,e);var t=Gt(n);function n(e){var r;return Vt(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return zt(n,[{key:"co",value:function(e,t,n,r){return new Promise((function(i,a){var o=new _h;o.listenOnce(bh.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case gh.NO_ERROR:var t=o.getResponseJson();Ah("Connection","XHR received:",JSON.stringify(t)),i(t);break;case gh.TIMEOUT:Ah("Connection",'RPC "'+e+'" timed out'),a(new jh(Fh.DEADLINE_EXCEEDED,"Request time out"));break;case gh.HTTP_ERROR:var n=o.getStatus();if(Ah("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Fh).indexOf(t)>=0?t:Fh.UNKNOWN}(r.status);a(new jh(u,r.message))}else a(new jh(Fh.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new jh(Fh.UNAVAILABLE,"Connection failed."));break;default:Dh()}}finally{Ah("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"ho",value:function(e,t,n){var r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=mh(),a=yh(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new xh({})),this.uo(o.initMessageHeaders,t,n),No()||Po()||Co().indexOf("Electron/")>=0||Ro()||Co().indexOf("MSAppHost/")>=0||Oo()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");Ah("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new Vb({jr:function(e){l?Ah("Connection","Not sending because WebChannel is closed:",e):(c||(Ah("Connection","Opening WebChannel transport."),s.open(),c=!0),Ah("Connection","WebChannel sending:",e),s.send(e))},Wr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,Eh.EventType.OPEN,(function(){l||Ah("Connection","WebChannel transport opened.")})),h(s,Eh.EventType.CLOSE,(function(){l||(l=!0,Ah("Connection","WebChannel transport closed"),f.eo())})),h(s,Eh.EventType.ERROR,(function(e){l||(l=!0,Ph("Connection","WebChannel transport errored:",e),f.eo(new jh(Fh.UNAVAILABLE,"The operation could not be completed")))})),h(s,Eh.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Mh(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Ah("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Vv[e];if(void 0!==t)return Wv(t)}(a),u=i.message;void 0===o&&(o=Fh.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.eo(new jh(o,u)),s.close()}else Ah("Connection","WebChannel received:",n),f.no(n)}})),h(a,kh.STAT_EVENT,(function(e){e.stat===wh.PROXY?Ah("Connection","Detected buffering proxy"):e.stat===wh.NOPROXY&&Ah("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Zr()}),0),f}}]),n}(function(){function e(t){Vt(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.so=n+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return zt(e,[{key:"ro",value:function(e,t,n,r,i){var a=this.oo(e,t);Ah("RestConnection","Sending: ",a,n);var o={};return this.uo(o,r,i),this.co(e,a,o,n).then((function(e){return Ah("RestConnection","Received: ",e),e}),(function(t){throw Ph("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ao",value:function(e,t,n,r,i,a){return this.ro(e,t,n,r,i)}},{key:"uo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Th,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"oo",value:function(e,t){var n=jb[e];return"".concat(this.so,"/v1/").concat(t,":").concat(n)}}]),e}());function zb(){return"undefined"!=typeof window?window:null}function Bb(){return"undefined"!=typeof document?document:null}function qb(e){return new ym(e,!0)}var Hb=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Vt(this,e),this.js=t,this.timerId=n,this.lo=r,this.fo=i,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}return zt(e,[{key:"reset",value:function(){this.wo=0}},{key:"po",value:function(){this.wo=this._o}},{key:"Io",value:function(e){var t=this;this.cancel();var n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,n-r);i>0&&Ah("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.wo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.mo=this.js.enqueueAfterDelay(this.timerId,i,(function(){return t.yo=Date.now(),e()})),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}},{key:"Eo",value:function(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}},{key:"cancel",value:function(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}},{key:"To",value:function(){return(Math.random()-.5)*this.wo}}]),e}(),Wb=function(){function e(t,n,r,i,a,o,u,s){Vt(this,e),this.js=t,this.Ao=r,this.Ro=i,this.bo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new Hb(t,n)}return zt(e,[{key:"Do",value:function(){return 1===this.state||5===this.state||this.Co()}},{key:"Co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.xo()}},{key:"stop",value:function(){var e=Jn(Yn().mark((function e(){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Do(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"No",value:function(){this.state=0,this.So.reset()}},{key:"ko",value:function(){var e=this;this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,(function(){return e.Oo()})))}},{key:"Mo",value:function(e){this.Fo(),this.stream.send(e)}},{key:"Oo",value:function(){var e=Jn(Yn().mark((function e(){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"$o",value:function(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}},{key:"close",value:function(){var e=Jn(Yn().mark((function e(t,n){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fo(),this.$o(),this.So.cancel(),this.Po++,4!==t?this.So.reset():n&&n.code===Fh.RESOURCE_EXHAUSTED?(Oh(n.toString()),Oh("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===Fh.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Bo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Jr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Bo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=s(t,2),i=r[0],a=r[1];e.Po===n&&e.Uo(i,a)}),(function(n){t((function(){var t=new jh(Fh.UNKNOWN,"Fetching auth token failed: "+n.message);return e.qo(t)}))}))}},{key:"Uo",value:function(e,t){var n=this,r=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr((function(){r((function(){return n.state=2,n.Vo=n.js.enqueueAfterDelay(n.Ro,1e4,(function(){return n.Co()&&(n.state=3),Promise.resolve()})),n.listener.zr()}))})),this.stream.Jr((function(e){r((function(){return n.qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"xo",value:function(){var e=this;this.state=5,this.So.Io(Jn(Yn().mark((function t(){return Yn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"qo",value:function(e){return Ah("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Lo",value:function(e){var t=this;return function(n){t.js.enqueueAndForget((function(){return t.Po===e?n():(Ah("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Kb=function(e){Bt(n,e);var t=Gt(n);function n(e,r,i,a,o,u){var s;return Vt(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).wt=o,s}return zt(n,[{key:"Ko",value:function(e,t){return this.bo.ho("Listen",e,t)}},{key:"onMessage",value:function(e){this.So.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Dh()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.dt?(Mh(void 0===t||"string"==typeof t),Bd.fromBase64String(t||"")):(Mh(void 0===t||t instanceof Uint8Array),Bd.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Fh.UNKNOWN:Wv(e.code);return new jh(t,e.message||"")}(o);n=new lm(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=Sm(e,s.document.name),l=wm(s.document.updateTime),f=new xp({mapValue:{fields:s.document.fields}}),h=_p.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new sm(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=Sm(e,v.document),y=v.readTime?wm(v.readTime):ed.min(),g=_p.newNoDocument(m,y),b=v.removedTargetIds||[];n=new sm([],b,g.key,g)}else if("documentRemove"in t){t.documentRemove;var k=t.documentRemove;k.document;var w=Sm(e,k.document),x=k.removedTargetIds||[];n=new sm([],x,w,null)}else{if(!("filter"in t))return Dh();t.filter;var E=t.filter;E.targetId;var _=E.count||0,S=new qv(_),I=E.targetId;n=new cm(I,S)}return n}(this.wt,e),n=function(e){if(!("targetChange"in e))return ed.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?ed.min():t.readTime?wm(t.readTime):ed.min()}(e);return this.listener.Go(t,n)}},{key:"Qo",value:function(e){var t={};t.database=Cm(this.wt),t.addTarget=function(e,t){var n,r=t.target;return(n=Np(r)?{documents:Mm(e,r)}:{query:Lm(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=bm(e,t.resumeToken):t.snapshotVersion.compareTo(ed.min())>0&&(n.readTime=gm(e,t.snapshotVersion.toTimestamp())),n}(this.wt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Dh()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.wt,e);n&&(t.labels=n),this.Mo(t)}},{key:"jo",value:function(e){var t={};t.database=Cm(this.wt),t.removeTarget=e,this.Mo(t)}}]),n}(Wb),Gb=function(e){Bt(n,e);var t=Gt(n);function n(e,r,i,a,o,u){var s;return Vt(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).wt=o,s.Wo=!1,s}return zt(n,[{key:"zo",get:function(){return this.Wo}},{key:"start",value:function(){this.Wo=!1,this.lastStreamToken=void 0,yo(qt(n.prototype),"start",this).call(this)}},{key:"Bo",value:function(){this.Wo&&this.Ho([])}},{key:"Ko",value:function(e,t){return this.bo.ho("Write",e,t)}},{key:"onMessage",value:function(e){if(Mh(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();var t=function(e,t){return e&&e.length>0?(Mh(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?wm(e.updateTime):wm(t);return n.isEqual(ed.min())&&(n=wm(t)),new Sv(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=wm(e.commitTime);return this.listener.Jo(n,t)}return Mh(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}},{key:"Xo",value:function(){var e={};e.database=Cm(this.wt),this.Mo(e)}},{key:"Ho",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Rm(t.wt,e)}))};this.Mo(n)}}]),n}(Wb),$b=function(e){Bt(n,e);var t=Gt(n);function n(e,r,i,a){var o;return Vt(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.bo=i,o.wt=a,o.Zo=!1,o}return zt(n,[{key:"tu",value:function(){if(this.Zo)throw new jh(Fh.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ro",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=s(i,2),o=a[0],u=a[1];return r.bo.ro(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Fh.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new jh(Fh.UNKNOWN,e.toString())}))}},{key:"ao",value:function(e,t,n,r){var i=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=s(a,2),u=o[0],c=o[1];return i.bo.ao(e,t,n,u,c,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Fh.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new jh(Fh.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Zo=!0}}]),n}(function(){return zt((function e(){Vt(this,e)}))}()),Qb=function(){function e(t,n){Vt(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}return zt(e,[{key:"iu",value:function(){var e=this;0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.nu=null,e.ou("Backend didn't respond within 10 seconds."),e.ru("Offline"),Promise.resolve()})))}},{key:"uu",value:function(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ru("Offline")))}},{key:"set",value:function(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}},{key:"ru",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"ou",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.su?(Oh(t),this.su=!1):Ah("OnlineStateTracker",t)}},{key:"cu",value:function(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}]),e}(),Yb=zt((function e(t,n,r,i,a){var o=this;Vt(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br((function(e){r.enqueueAndForget(Jn(Yn().mark((function e(){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=uk(o),!e.t0){e.next=5;break}return Ah("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Jn(Yn().mark((function e(t){var n;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Lh(t)).lu.add(4),e.next=4,Zb(n);case 4:return n._u.set("Unknown"),n.lu.delete(4),e.next=8,Xb(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this._u=new Qb(r,i)}));function Xb(e){return Jb.apply(this,arguments)}function Jb(){return Jb=Jn(Yn().mark((function e(t){var n,r,i;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!uk(t)){e.next=18;break}n=go(t.fu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Jb.apply(this,arguments)}function Zb(e){return ek.apply(this,arguments)}function ek(){return ek=Jn(Yn().mark((function e(t){var n,r,i;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=go(t.fu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),ek.apply(this,arguments)}function tk(e,t){var n=Lh(e);n.hu.has(t.targetId)||(n.hu.set(t.targetId,t),ok(n)?ak(n):Lk(n).Co()&&rk(n,t))}function nk(e,t){var n=Lh(e),r=Lk(n);n.hu.delete(t),r.Co()&&ik(n,t),0===n.hu.size&&(r.Co()?r.ko():uk(n)&&n._u.set("Unknown"))}function rk(e,t){e.wu.Nt(t.targetId),Lk(e).Qo(t)}function ik(e,t){e.wu.Nt(t),Lk(e).jo(t)}function ak(e){e.wu=new hm({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},te:function(t){return e.hu.get(t)||null}}),Lk(e).start(),e._u.iu()}function ok(e){return uk(e)&&!Lk(e).Do()&&e.hu.size>0}function uk(e){return 0===Lh(e).lu.size}function sk(e){e.wu=void 0}function ck(e){return lk.apply(this,arguments)}function lk(){return lk=Jn(Yn().mark((function e(t){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.hu.forEach((function(e,n){rk(t,e)}));case 1:case"end":return e.stop()}}),e)}))),lk.apply(this,arguments)}function fk(e,t){return hk.apply(this,arguments)}function hk(){return hk=Jn(Yn().mark((function e(t,n){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:sk(t),ok(t)?(t._u.uu(n),ak(t)):t._u.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),hk.apply(this,arguments)}function dk(e,t,n){return pk.apply(this,arguments)}function pk(){return pk=Jn(Yn().mark((function e(t,n,r){var i;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._u.set("Online"),!(n instanceof lm&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Jn(Yn().mark((function e(t,n){var r,i,a,o;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=go(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.hu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.hu.delete(o),t.wu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Ah("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,vk(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof sm?t.wu.Ut(n):n instanceof cm?t.wu.zt(n):t.wu.Gt(n),r.isEqual(ed.min())){e.next=29;break}return e.prev=14,e.next=17,fb(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.wu.Yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.hu.get(r);i&&e.hu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.hu.get(t);if(n){e.hu.set(t,n.withResumeToken(Bd.EMPTY_BYTE_STRING,n.snapshotVersion)),ik(e,t);var r=new Sy(n.target,t,1,n.sequenceNumber);rk(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Ah("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,vk(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),pk.apply(this,arguments)}function vk(e,t,n){return mk.apply(this,arguments)}function mk(){return mk=Jn(Yn().mark((function e(t,n,r){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_d(n)){e.next=2;break}throw n;case 2:return t.lu.add(1),e.next=5,Zb(t);case 5:t._u.set("Offline"),r||(r=function(){return fb(t.localStore)}),t.asyncQueue.enqueueRetryable(Jn(Yn().mark((function e(){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ah("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.lu.delete(1),e.next=6,Xb(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),mk.apply(this,arguments)}function yk(e,t){return t().catch((function(n){return vk(e,n,t)}))}function gk(e){return bk.apply(this,arguments)}function bk(){return bk=Jn(Yn().mark((function e(t){var n,r,i,a;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Lh(t),r=Fk(n),i=n.au.length>0?n.au[n.au.length-1].batchId:-1;case 2:if(!kk(n)){e.next=19;break}return e.prev=3,e.next=6,pb(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.au.length&&r.ko(),e.abrupt("break",19);case 10:i=a.batchId,wk(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,vk(n,e.t0);case 17:e.next=2;break;case 19:xk(n)&&Ek(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),bk.apply(this,arguments)}function kk(e){return uk(e)&&e.au.length<10}function wk(e,t){e.au.push(t);var n=Fk(e);n.Co()&&n.zo&&n.Ho(t.mutations)}function xk(e){return uk(e)&&!Fk(e).Do()&&e.au.length>0}function Ek(e){Fk(e).start()}function _k(e){return Sk.apply(this,arguments)}function Sk(){return Sk=Jn(Yn().mark((function e(t){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Fk(t).Xo();case 1:case"end":return e.stop()}}),e)}))),Sk.apply(this,arguments)}function Ik(e){return Tk.apply(this,arguments)}function Tk(){return Tk=Jn(Yn().mark((function e(t){var n,r,i,a;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Fk(t),r=go(t.au);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Ho(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Tk.apply(this,arguments)}function Ck(e,t,n){return Nk.apply(this,arguments)}function Nk(){return Nk=Jn(Yn().mark((function e(t,n,r){var i,a;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.au.shift(),a=Ey.from(i,n,r),e.next=3,yk(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,gk(t);case 5:case"end":return e.stop()}}),e)}))),Nk.apply(this,arguments)}function Ak(e,t){return Ok.apply(this,arguments)}function Ok(){return Ok=Jn(Yn().mark((function e(t,n){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Fk(t).zo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Jn(Yn().mark((function e(t,n){var r,i;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Hv(i=n.code)||i===Fh.ABORTED){e.next=7;break}return r=t.au.shift(),Fk(t).No(),e.next=5,yk(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,gk(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:xk(t)&&Ek(t);case 5:case"end":return e.stop()}}),e)}))),Ok.apply(this,arguments)}function Pk(e,t){return Rk.apply(this,arguments)}function Rk(){return Rk=Jn(Yn().mark((function e(t,n){var r,i;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Lh(t)).asyncQueue.verifyOperationInProgress(),Ah("RemoteStore","RemoteStore received new credentials"),i=uk(r),r.lu.add(3),e.next=6,Zb(r);case 6:return i&&r._u.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.lu.delete(3),e.next=12,Xb(r);case 12:case"end":return e.stop()}}),e)}))),Rk.apply(this,arguments)}function Dk(e,t){return Mk.apply(this,arguments)}function Mk(){return Mk=Jn(Yn().mark((function e(t,n){var r;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Lh(t),!n){e.next=7;break}return r.lu.delete(2),e.next=5,Xb(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.lu.add(2),e.next=12,Zb(r);case 12:r._u.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),Mk.apply(this,arguments)}function Lk(e){return e.mu||(e.mu=function(e,t,n){var r=Lh(e);return r.tu(),new Kb(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:ck.bind(null,e),Jr:fk.bind(null,e),Go:dk.bind(null,e)}),e.fu.push(function(){var t=Jn(Yn().mark((function t(n){return Yn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.mu.No(),ok(e)?ak(e):e._u.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.mu.stop();case 6:sk(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.mu}function Fk(e){return e.gu||(e.gu=function(e,t,n){var r=Lh(e);return r.tu(),new Gb(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:_k.bind(null,e),Jr:Ak.bind(null,e),Yo:Ik.bind(null,e),Jo:Ck.bind(null,e)}),e.fu.push(function(){var t=Jn(Yn().mark((function t(n){return Yn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.gu.No(),t.next=4,gk(e);case 4:t.next=9;break;case 6:return t.next=8,e.gu.stop();case 8:e.au.length>0&&(Ah("RemoteStore","Stopping write stream with ".concat(e.au.length," pending writes")),e.au=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.gu}var jk=function(){function e(t,n,r,i,a){Vt(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Vh,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return zt(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new jh(Fh.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Vk(e,t){if(Oh("AsyncQueue","".concat(t,": ").concat(e)),_d(e))return new jh(Fh.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Uk=function(){function e(t){Vt(this,e),this.comparator=t?function(e,n){return t(e,n)||ad.comparator(e.key,n.key)}:function(e,t){return ad.comparator(e.key,t.key)},this.keyedMap=Yv(),this.sortedSet=new Md(this.comparator)}return zt(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),zk=function(){function e(){Vt(this,e),this.yu=new Md(ad.comparator)}return zt(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.yu.get(t);n?0!==e.type&&3===n.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==n.type?this.yu=this.yu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.yu=this.yu.remove(t):1===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):Dh():this.yu=this.yu.insert(t,e)}},{key:"pu",value:function(){var e=[];return this.yu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Bk=function(){function e(t,n,r,i,a,o,u,s){Vt(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return zt(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,Uk.emptySet(n),a,r,i,!0,!1)}}]),e}(),qk=zt((function e(){Vt(this,e),this.Iu=void 0,this.listeners=[]})),Hk=zt((function e(){Vt(this,e),this.queries=new Kv((function(e){return rv(e)}),nv),this.onlineState="Unknown",this.Tu=new Set}));function Wk(e,t){return Kk.apply(this,arguments)}function Kk(){return Kk=Jn(Yn().mark((function e(t,n){var r,i,a,o,u;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Lh(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new qk),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Iu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=Vk(e.t0,"Initialization of query '".concat(iv(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Eu(r.onlineState),o.Iu&&n.Au(o.Iu)&&Xk(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Kk.apply(this,arguments)}function Gk(e,t){return $k.apply(this,arguments)}function $k(){return $k=Jn(Yn().mark((function e(t,n){var r,i,a,o,u;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Lh(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),$k.apply(this,arguments)}function Qk(e,t){var n,r=Lh(e),i=!1,a=go(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=go(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Au(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Iu=o}}}catch(f){a.e(f)}finally{a.f()}i&&Xk(r)}function Yk(e,t,n){var r=Lh(e),i=r.queries.get(t);if(i){var a,o=go(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function Xk(e){e.Tu.forEach((function(e){e.next()}))}var Jk=function(){function e(t,n,r){Vt(this,e),this.query=t,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}return zt(e,[{key:"Au",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=go(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Bk(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),a=!0):this.Vu(e,this.onlineState)&&(this.Su(e),a=!0),this.Pu=e,a}},{key:"onError",value:function(e){this.Ru.error(e)}},{key:"Eu",value:function(e){this.onlineState=e;var t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}},{key:"Vu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Du||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Su",value:function(e){e=Bk.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}]),e}(),Zk=function(){function e(t,n){Vt(this,e),this.payload=t,this.byteLength=n}return zt(e,[{key:"Cu",value:function(){return"metadata"in this.payload}}]),e}(),ew=function(){function e(t){Vt(this,e),this.wt=t}return zt(e,[{key:"Wi",value:function(e){return Sm(this.wt,e)}},{key:"zi",value:function(e){return e.metadata.exists?Om(this.wt,e.document,!1):_p.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}},{key:"Hi",value:function(e){return wm(e)}}]),e}(),tw=function(){function e(t,n,r){Vt(this,e),this.xu=t,this.localStore=n,this.wt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=nw(t)}return zt(e,[{key:"Nu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=nd.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"ku",value:function(e){var t,n=new Map,r=new ew(this.wt),i=go(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Wi(a.metadata.name),s=go(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||rm()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Jn(Yn().mark((function e(){var t,n,r,i,a;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xb(this.localStore,new ew(this.wt),this.documents,this.xu.id);case 2:t=e.sent,n=this.ku(this.documents),r=go(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,_b(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Ou:this.collectionGroups,Mu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function nw(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var rw=zt((function e(t){Vt(this,e),this.key=t})),iw=zt((function e(t){Vt(this,e),this.key=t})),aw=function(){function e(t,n){Vt(this,e),this.query=t,this.Fu=n,this.$u=null,this.current=!1,this.Bu=rm(),this.mutatedKeys=rm(),this.Lu=uv(t),this.Uu=new Uk(this.Lu)}return zt(e,[{key:"qu",get:function(){return this.Fu}},{key:"Ku",value:function(e,t){var n=this,r=t?t.Gu:new zk,i=t?t.Uu:this.Uu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=av(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Qu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Lu(f,s)>0||c&&n.Lu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Uu:o,Gu:r,Oi:u,mutatedKeys:a}}},{key:"Qu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;var a=e.Gu.pu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Dh()}};return n(e)-n(t)}(e.type,t.type)||r.Lu(e.doc,t.doc)})),this.ju(n);var o=t?this.Wu():[],u=0===this.Bu.size&&this.current?1:0,s=u!==this.$u;return this.$u=u,0!==a.length||s?{snapshot:new Bk(this.query,e.Uu,i,a,e.mutatedKeys,0===u,s,!1),zu:o}:{zu:o}}},{key:"Eu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new zk,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}},{key:"Hu",value:function(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}},{key:"ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Fu=t.Fu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Fu=t.Fu.delete(e)})),this.current=e.current)}},{key:"Wu",value:function(){var e=this;if(!this.current)return[];var t=this.Bu;this.Bu=rm(),this.Uu.forEach((function(t){e.Hu(t.key)&&(e.Bu=e.Bu.add(t.key))}));var n=[];return t.forEach((function(t){e.Bu.has(t)||n.push(new iw(t))})),this.Bu.forEach((function(e){t.has(e)||n.push(new rw(e))})),n}},{key:"Ju",value:function(e){this.Fu=e.ji,this.Bu=rm();var t=this.Ku(e.documents);return this.applyChanges(t,!0)}},{key:"Yu",value:function(){return Bk.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}]),e}(),ow=zt((function e(t,n,r){Vt(this,e),this.query=t,this.targetId=n,this.view=r})),uw=zt((function e(t){Vt(this,e),this.key=t,this.Xu=!1})),sw=function(){function e(t,n,r,i,a,o){Vt(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Zu={},this.tc=new Kv((function(e){return rv(e)}),nv),this.ec=new Map,this.nc=new Set,this.sc=new Md(ad.comparator),this.ic=new Map,this.rc=new Bg,this.oc={},this.uc=new Map,this.cc=gg.Rn(),this.onlineState="Unknown",this.ac=void 0}return zt(e,[{key:"isPrimaryClient",get:function(){return!0===this.ac}}]),e}();function cw(e,t){return lw.apply(this,arguments)}function lw(){return lw=Jn(Yn().mark((function e(t,n){var r,i,a,o,u,s;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=nx(t),!(o=r.tc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Yu(),e.next=15;break;case 6:return e.next=8,vb(r.localStore,ev(n));case 8:return u=e.sent,r.isPrimaryClient&&tk(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,fw(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),lw.apply(this,arguments)}function fw(e,t,n,r){return hw.apply(this,arguments)}function hw(){return hw=Jn(Yn().mark((function e(t,n,r,i){var a,o,u,s,c,l;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.hc=function(e,n,r){return function(){var e=Jn(Yn().mark((function e(t,n,r,i){var a,o,u;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Ku(r),e.t0=a.Oi,!e.t0){e.next=6;break}return e.next=5,gb(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Ku(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(Pw(t,n.targetId,u.zu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,gb(t.localStore,n,!0);case 3:return a=e.sent,o=new aw(n,a.ji),u=o.Ku(a.documents),s=um.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),Pw(t,r,c.zu),l=new ow(n,r,o),e.abrupt("return",(t.tc.set(n,l),t.ec.has(r)?t.ec.get(r).push(n):t.ec.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),hw.apply(this,arguments)}function dw(e,t){return pw.apply(this,arguments)}function pw(){return pw=Jn(Yn().mark((function e(t,n){var r,i,a;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Lh(t),i=r.tc.get(n),!((a=r.ec.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ec.set(i.targetId,a.filter((function(e){return!nv(e,n)}))),void r.tc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,mb(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),nk(r.remoteStore,i.targetId),Aw(r,i.targetId)})).catch(yd);case 9:e.next=14;break;case 11:return Aw(r,i.targetId),e.next=14,mb(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),pw.apply(this,arguments)}function vw(e,t,n){return mw.apply(this,arguments)}function mw(){return mw=Jn(Yn().mark((function e(t,n,r){var i,a,o;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=rx(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Lh(e),a=Zh.now(),o=t.reduce((function(e,t){return e.add(t.key)}),rm());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=$v(),s=rm();return i.Ui.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=go(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Pv(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new Mv(c.key,l,Ep(l.value.mapValue),Iv.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Xv(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.oc[e.currentUser.toKey()];r||(r=new Md(Yh)),r=r.insert(t,n),e.oc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Mw(i,a.changes);case 9:return e.next=11,gk(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Vk(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),mw.apply(this,arguments)}function yw(e,t){return gw.apply(this,arguments)}function gw(){return gw=Jn(Yn().mark((function e(t,n){var r,i;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Lh(t),e.prev=1,e.next=4,hb(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ic.get(t);n&&(Mh(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Xu=!0:e.modifiedDocuments.size>0?Mh(n.Xu):e.removedDocuments.size>0&&(Mh(n.Xu),n.Xu=!1))})),e.next=8,Mw(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,yd(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),gw.apply(this,arguments)}function bw(e,t,n){var r=Lh(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.tc.forEach((function(e,n){var r=n.view.Eu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Lh(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=go(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Eu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Xk(n)}(r.eventManager,t),i.length&&r.Zu.Go(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function kw(e,t,n){return ww.apply(this,arguments)}function ww(){return ww=Jn(Yn().mark((function e(t,n,r){var i,a,o,u,s,c;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Lh(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ic.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Md(ad.comparator)).insert(o,_p.newNoDocument(o,ed.min())),s=rm().add(o),c=new om(ed.min(),new Map,new jd(Yh),u,s),e.next=9,yw(i,c);case 9:i.sc=i.sc.remove(o),i.ic.delete(n),Dw(i),e.next=16;break;case 14:return e.next=16,mb(i.localStore,n,!1).then((function(){return Aw(i,n,r)})).catch(yd);case 16:case"end":return e.stop()}}),e)}))),ww.apply(this,arguments)}function xw(e,t){return Ew.apply(this,arguments)}function Ew(){return Ew=Jn(Yn().mark((function e(t,n){var r,i,a;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Lh(t),i=n.batch.batchId,e.prev=1,e.next=4,lb(r.localStore,n);case 4:return a=e.sent,Nw(r,i,null),Cw(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Mw(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,yd(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Ew.apply(this,arguments)}function _w(e,t,n){return Sw.apply(this,arguments)}function Sw(){return Sw=Jn(Yn().mark((function e(t,n,r){var i,a;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Lh(t),e.prev=1,e.next=4,function(e,t){var n=Lh(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Mh(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Nw(i,n,r),Cw(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Mw(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,yd(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Sw.apply(this,arguments)}function Iw(e,t){return Tw.apply(this,arguments)}function Tw(){return Tw=Jn(Yn().mark((function e(t,n){var r,i,a,o;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return uk((r=Lh(t)).remoteStore)||Ah("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Lh(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.uc.get(i)||[]).push(n),r.uc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=Vk(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),Tw.apply(this,arguments)}function Cw(e,t){(e.uc.get(t)||[]).forEach((function(e){e.resolve()})),e.uc.delete(t)}function Nw(e,t,n){var r=Lh(e),i=r.oc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.oc[r.currentUser.toKey()]=i}}function Aw(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=go(e.ec.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.tc.delete(a),n&&e.Zu.lc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ec.delete(t),e.isPrimaryClient&&e.rc.us(t).forEach((function(t){e.rc.containsKey(t)||Ow(e,t)}))}function Ow(e,t){e.nc.delete(t.path.canonicalString());var n=e.sc.get(t);null!==n&&(nk(e.remoteStore,n),e.sc=e.sc.remove(t),e.ic.delete(n),Dw(e))}function Pw(e,t,n){var r,i=go(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof rw?(e.rc.addReference(a.key,t),Rw(e,a)):a instanceof iw?(Ah("SyncEngine","Document no longer in limbo: "+a.key),e.rc.removeReference(a.key,t),e.rc.containsKey(a.key)||Ow(e,a.key)):Dh()}}catch(o){i.e(o)}finally{i.f()}}function Rw(e,t){var n=t.key,r=n.path.canonicalString();e.sc.get(n)||e.nc.has(r)||(Ah("SyncEngine","New document in limbo: "+n),e.nc.add(r),Dw(e))}function Dw(e){for(;e.nc.size>0&&e.sc.size<e.maxConcurrentLimboResolutions;){var t=e.nc.values().next().value;e.nc.delete(t);var n=new ad(nd.fromString(t)),r=e.cc.next();e.ic.set(r,new uw(n)),e.sc=e.sc.insert(n,r),tk(e.remoteStore,new Sy(ev(Qp(n.path)),r,2,Od.ot))}}function Mw(e,t,n){return Lw.apply(this,arguments)}function Lw(){return Lw=Jn(Yn().mark((function e(t,n,r){var i,a,o,u;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Lh(t),a=[],o=[],u=[],e.t0=i.tc.isEmpty(),e.t0){e.next=9;break}return i.tc.forEach((function(e,t){u.push(i.hc(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=ib.Vi(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Zu.Go(a),e.next=9,function(){var e=Jn(Yn().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Lh(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return bd.forEach(n,(function(t){return bd.forEach(t.Pi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return bd.forEach(t.vi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),_d(e.t0)){e.next=10;break}throw e.t0;case 10:Ah("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=go(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.$i.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.$i=r.$i.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),Lw.apply(this,arguments)}function Fw(e,t){return jw.apply(this,arguments)}function jw(){return jw=Jn(Yn().mark((function e(t,n){var r,i;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Lh(t)).currentUser.isEqual(n)){e.next=11;break}return Ah("SyncEngine","User change. New user:",n.toKey()),e.next=5,sb(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.uc.forEach((function(e){e.forEach((function(e){e.reject(new jh(Fh.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.uc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Mw(r,i.Ki);case 11:case"end":return e.stop()}}),e)}))),jw.apply(this,arguments)}function Vw(e,t){var n=Lh(e),r=n.ic.get(t);if(r&&r.Xu)return rm().add(r.key);var i=rm(),a=n.ec.get(t);if(!a)return i;var o,u=go(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.tc.get(s);i=i.unionWith(c.view.qu)}}catch(l){u.e(l)}finally{u.f()}return i}function Uw(e,t){return zw.apply(this,arguments)}function zw(){return zw=Jn(Yn().mark((function e(t,n){var r,i,a;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Lh(t),e.next=3,gb(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Ju(i),e.abrupt("return",(r.isPrimaryClient&&Pw(r,n.targetId,a.zu),a));case 6:case"end":return e.stop()}}),e)}))),zw.apply(this,arguments)}function Bw(e,t){return qw.apply(this,arguments)}function qw(){return qw=Jn(Yn().mark((function e(t,n){var r;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Lh(t),e.abrupt("return",kb(r.localStore,n).then((function(e){return Mw(r,e)})));case 2:case"end":return e.stop()}}),e)}))),qw.apply(this,arguments)}function Hw(e,t,n,r){return Ww.apply(this,arguments)}function Ww(){return Ww=Jn(Yn().mark((function e(t,n,r,i){var a,o;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Lh(t),e.next=3,function(e,t){var n=Lh(e),r=Lh(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.yn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):bd.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,gk(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(Nw(a,n,i||null),Cw(a,n),function(e,t){Lh(Lh(e).mutationQueue).In(t)}(a.localStore,n)):Dh();case 11:return e.next=13,Mw(a,o);case 13:e.next=16;break;case 15:Ah("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),Ww.apply(this,arguments)}function Kw(e,t){return Gw.apply(this,arguments)}function Gw(){return Gw=Jn(Yn().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(nx(r=Lh(t)),rx(r),!0!==n||!0===r.ac){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,$w(r,i.toArray());case 5:return a=e.sent,r.ac=!0,e.next=9,Dk(r.remoteStore,!0);case 9:o=go(a);try{for(o.s();!(u=o.n()).done;)s=u.value,tk(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ac){e.next=25;break}return c=[],l=Promise.resolve(),r.ec.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return Aw(r,t),mb(r.localStore,t,!0)})),nk(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,$w(r,c);case 21:return function(e){var t=Lh(e);t.ic.forEach((function(e,n){nk(t.remoteStore,n)})),t.rc.cs(),t.ic=new Map,t.sc=new Md(ad.comparator)}(r),r.ac=!1,e.next=25,Dk(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),Gw.apply(this,arguments)}function $w(e,t,n){return Qw.apply(this,arguments)}function Qw(){return Qw=Jn(Yn().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Lh(t),a=[],o=[],u=go(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.ec.get(c))||0===f.length){e.next=34;break}return e.next=11,vb(i.localStore,ev(f[0]));case 11:l=e.sent,h=go(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.tc.get(p),e.next=20,Uw(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,bb(i.localStore,c);case 36:return y=e.sent,e.next=39,vb(i.localStore,y);case 39:return l=e.sent,e.next=42,fw(i,Yw(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Zu.Go(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),Qw.apply(this,arguments)}function Yw(e){return $p(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Xw(e){var t=Lh(e);return Lh(Lh(t.localStore).persistence).Ri()}function Jw(e,t,n,r){return Zw.apply(this,arguments)}function Zw(){return Zw=Jn(Yn().mark((function e(t,n,r,i){var a,o,u,s;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Lh(t)).ac){e.next=3;break}return e.abrupt("return",void Ah("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ec.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,kb(a.localStore,ov(o[0]));case 10:return u=e.sent,s=om.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,Mw(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,mb(a.localStore,n,!0);case 17:return Aw(a,n,i),e.abrupt("break",20);case 19:Dh();case 20:case"end":return e.stop()}}),e)}))),Zw.apply(this,arguments)}function ex(e,t,n){return tx.apply(this,arguments)}function tx(){return tx=Jn(Yn().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=nx(t)).ac){e.next=45;break}a=go(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.ec.has(u)){e.next=10;break}return Ah("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,bb(i.localStore,u);case 12:return s=e.sent,e.next=15,vb(i.localStore,s);case 15:return c=e.sent,e.next=18,fw(i,Yw(s),c.targetId,!1);case 18:tk(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=go(r),e.prev=30,h=Yn().mark((function e(){var t;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ec.has(t),!e.t0){e.next=5;break}return e.next=5,mb(i.localStore,t,!1).then((function(){nk(i.remoteStore,t),Aw(i,t)})).catch(yd);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),tx.apply(this,arguments)}function nx(e){var t=Lh(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=yw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Vw.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=kw.bind(null,t),t.Zu.Go=Qk.bind(null,t.eventManager),t.Zu.lc=Yk.bind(null,t.eventManager),t}function rx(e){var t=Lh(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=xw.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=_w.bind(null,t),t}function ix(e,t,n){var r=Lh(e);(function(){var e=Jn(Yn().mark((function e(t,n,r){var i,a,o,u,s;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Lh(e),r=wm(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ds.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(nw(i)),a=new tw(i,t.localStore,n.wt),e.next=15,n.fc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Nu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.fc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,Mw(t,s.Mu,void 0);case 31:return e.next=33,function(e,t){var n=Lh(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ds.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Ou));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Ph("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var ax=function(){function e(){Vt(this,e),this.synchronizeTabs=!1}return zt(e,[{key:"initialize",value:function(){var e=Jn(Yn().mark((function e(t){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.wt=qb(t.databaseInfo.databaseId),this.sharedClientState=this.dc(t),this.persistence=this._c(t),e.next=5,this.persistence.start();case 5:this.localStore=this.wc(t),this.gcScheduler=this.mc(t,this.localStore),this.indexBackfillerScheduler=this.gc(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"mc",value:function(e,t){return null}},{key:"gc",value:function(e,t){return null}},{key:"wc",value:function(e){return ub(this.persistence,new ab,e.initialUser,this.wt)}},{key:"_c",value:function(e){return new $g(Yg.Ms,this.wt)}},{key:"dc",value:function(e){return new Mb}},{key:"terminate",value:function(){var e=Jn(Yn().mark((function e(){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),ox=function(e){Bt(n,e);var t=Gt(n);function n(e,r,i){var a;return Vt(this,n),(a=t.call(this)).yc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return zt(n,[{key:"initialize",value:function(){var e=Jn(Yn().mark((function e(t){var r=this;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yo(qt(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.yc.initialize(this,t);case 4:return e.next=6,rx(this.yc.syncEngine);case 6:return e.next=8,gk(this.yc.remoteStore);case 8:return e.next=10,this.persistence.ci((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wc",value:function(e){return ub(this.persistence,new ab,e.initialUser,this.wt)}},{key:"mc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new Sg(n,e.asyncQueue,t)}},{key:"gc",value:function(e,t){var n=new Ad(t,this.persistence);return new Nd(e.asyncQueue,n)}},{key:"_c",value:function(e){var t=rb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?lg.withCacheSize(this.cacheSizeBytes):lg.DEFAULT;return new eb(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,zb(),Bb(),this.wt,this.sharedClientState,!!this.forceOwnership)}},{key:"dc",value:function(e){return new Mb}}]),n}(ax),ux=function(e){Bt(n,e);var t=Gt(n);function n(e,r){var i;return Vt(this,n),(i=t.call(this,e,r,!1)).yc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return zt(n,[{key:"initialize",value:function(){var e=Jn(Yn().mark((function e(t){var r,i=this;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yo(qt(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.yc.syncEngine,e.t0=this.sharedClientState instanceof Db,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={kr:Hw.bind(null,r),Or:Jw.bind(null,r),Mr:ex.bind(null,r),Ri:Xw.bind(null,r),Nr:Bw.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.ci(function(){var e=Jn(Yn().mark((function e(t){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kw(i.yc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"dc",value:function(e){var t=zb();if(!Db.V(t))throw new jh(Fh.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=rb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Db(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(ox),sx=function(){function e(){Vt(this,e)}return zt(e,[{key:"initialize",value:function(){var e=Jn(Yn().mark((function e(t,n){var r=this;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return bw(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Fw.bind(null,this.syncEngine),e.next=12,Dk(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Hk}},{key:"createDatastore",value:function(e){var t,n=qb(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Ub(t));return function(e,t,n,r){return new $b(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return bw(o.syncEngine,e,0)},a=Fb.V()?new Fb:new Lb,new Yb(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new sw(e,t,n,r,i,a);return o&&(u.ac=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Jn(Yn().mark((function e(t){var n;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Lh(t),Ah("RemoteStore","RemoteStore shutting down."),n.lu.add(5),e.next=5,Zb(n);case 5:n.du.shutdown(),n._u.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function cx(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Jn(Yn().mark((function r(){var i;return Yn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Jn(Yn().mark((function e(){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var lx=function(){function e(t){Vt(this,e),this.observer=t,this.muted=!1}return zt(e,[{key:"next",value:function(e){this.observer.next&&this.Ic(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Tc",value:function(){this.muted=!0}},{key:"Ic",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),fx=function(){function e(t,n){var r=this;Vt(this,e),this.Ec=t,this.wt=n,this.metadata=new Vh,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then((function(e){e&&e.Cu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return zt(e,[{key:"close",value:function(){return this.Ec.cancel()}},{key:"getMetadata",value:function(){var e=Jn(Yn().mark((function e(){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fc",value:function(){var e=Jn(Yn().mark((function e(){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Rc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Rc",value:function(){var e=Jn(Yn().mark((function e(){var t,n,r,i;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.bc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Ac.decode(t),r=Number(n),isNaN(r)&&this.Pc("length string (".concat(n,") is not valid number")),e.next=9,this.vc(r);case 9:return i=e.sent,e.abrupt("return",new Zk(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"bc",value:function(){var e=Jn(Yn().mark((function e(){var t,n;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Vc()<0)){e.next=7;break}return e.next=3,this.Sc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Vc())<0&&this.Pc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(){var e=Jn(Yn().mark((function e(t){var n;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Sc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Pc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Ac.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Pc",value:function(e){throw this.Ec.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Sc",value:function(){var e=Jn(Yn().mark((function e(){var t,n;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ec.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),hx=function(){function e(t){Vt(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return zt(e,[{key:"lookup",value:function(){var e=Jn(Yn().mark((function e(t){var n,r=this;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new jh(Fh.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Jn(Yn().mark((function e(t,n){var r,i,a,o,u,s;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Lh(t),i=Cm(r.wt)+"/documents",a={documents:n.map((function(e){return _m(r.wt,e)}))},e.next=5,r.ao("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=Pm(r.wt,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Mh(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new zv(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Jn(Yn().mark((function e(){var t,n=this;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=ad.fromPath(t);n.mutations.push(new Bv(r,n.precondition(r)))})),e.next=7,function(){var e=Jn(Yn().mark((function e(t,n){var r,i,a;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Lh(t),i=Cm(r.wt)+"/documents",a={writes:n.map((function(e){return Rm(r.wt,e)}))},e.next=3,r.ro("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Dh();t=ed.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new jh(Fh.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Iv.updateTime(t):Iv.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ed.min()))throw new jh(Fh.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Iv.updateTime(t)}return Iv.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),dx=function(){function e(t,n,r,i,a){Vt(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Dc=r.maxAttempts,this.So=new Hb(this.asyncQueue,"transaction_retry")}return zt(e,[{key:"run",value:function(){this.Dc-=1,this.Cc()}},{key:"Cc",value:function(){var e=this;this.So.Io(Jn(Yn().mark((function t(){var n,r;return Yn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new hx(e.datastore),(r=e.xc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Nc(t)}))}))})).catch((function(t){e.Nc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"xc",value:function(e){try{var t=this.updateFunction(e);return!Jd(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Nc",value:function(e){var t=this;this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Cc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"kc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Hv(t)}return!1}}]),e}(),px=function(){function e(t,n,r,i){var a=this;Vt(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ih.UNAUTHENTICATED,this.clientId=Qh.I(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Jn(Yn().mark((function e(t){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ah("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Ah("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return zt(e,[{key:"getConfiguration",value:function(){var e=Jn(Yn().mark((function e(){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new jh(Fh.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Vh;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Jn(Yn().mark((function n(){var r;return Yn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Vk(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function vx(e,t){return mx.apply(this,arguments)}function mx(){return mx=Jn(Yn().mark((function e(t,n){var r,i;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Ah("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Jn(Yn().mark((function e(t){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,sb(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),mx.apply(this,arguments)}function yx(e,t){return gx.apply(this,arguments)}function gx(){return gx=Jn(Yn().mark((function e(t,n){var r,i;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,bx(t);case 3:return r=e.sent,Ah("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return Pk(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Pk(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),gx.apply(this,arguments)}function bx(e){return kx.apply(this,arguments)}function kx(){return kx=Jn(Yn().mark((function e(t){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Ah("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,vx(t,new ax);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),kx.apply(this,arguments)}function wx(e){return xx.apply(this,arguments)}function xx(){return xx=Jn(Yn().mark((function e(t){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Ah("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,yx(t,new sx);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),xx.apply(this,arguments)}function Ex(e){return bx(e).then((function(e){return e.persistence}))}function _x(e){return bx(e).then((function(e){return e.localStore}))}function Sx(e){return wx(e).then((function(e){return e.remoteStore}))}function Ix(e){return wx(e).then((function(e){return e.syncEngine}))}function Tx(e){return Cx.apply(this,arguments)}function Cx(){return Cx=Jn(Yn().mark((function e(t){var n,r;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wx(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=cw.bind(null,n.syncEngine),r.onUnlisten=dw.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),Cx.apply(this,arguments)}function Nx(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Vh;return e.asyncQueue.enqueueAndForget(Jn(Yn().mark((function i(){return Yn().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new lx({next:function(a){t.enqueueAndForget((function(){return Gk(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new jh(Fh.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new jh(Fh.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Jk(Qp(n.path),a,{includeMetadataChanges:!0,Du:!0});return Wk(e,o)},i.next=3,Tx(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Ax(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Vh;return e.asyncQueue.enqueueAndForget(Jn(Yn().mark((function i(){return Yn().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new lx({next:function(n){t.enqueueAndForget((function(){return Gk(e,o)})),n.fromCache&&"server"===r.source?i.reject(new jh(Fh.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Jk(n,a,{includeMetadataChanges:!0,Du:!0});return Wk(e,o)},i.next=3,Tx(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var Ox=new Map;function Px(e,t,n){if(!n)throw new jh(Fh.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Rx(e,t,n,r){if(!0===t&&!0===r)throw new jh(Fh.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Dx(e){if(!ad.isDocumentKey(e))throw new jh(Fh.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Mx(e){if(ad.isDocumentKey(e))throw new jh(Fh.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Lx(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Dh()}function Fx(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new jh(Fh.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Lx(e);throw new jh(Fh.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function jx(e,t){if(t<=0)throw new jh(Fh.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var Vx=function(){function e(t){var n;if(Vt(this,e),void 0===t.host){if(void 0!==t.ssl)throw new jh(Fh.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new jh(Fh.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Rx("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return zt(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Ux=function(){function e(t,n,r){Vt(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vx({}),this._settingsFrozen=!1,t instanceof Xd?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new jh(Fh.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xd(e.options.projectId)}(t))}return zt(e,[{key:"app",get:function(){if(!this._app)throw new jh(Fh.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new jh(Fh.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vx(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new zh;switch(e.type){case"gapi":var t=e.client;return Mh(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Wh(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new jh(Fh.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Ox.get(e);t&&(Ah("ComponentProvider","Removing Datastore"),Ox.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function zx(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=Fx(e,Ux))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Ph("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=Ih.MOCK_USER;else{o=To(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new jh(Fh.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ih(s)}e._authCredentials=new Bh(new Uh(o,u))}}var Bx=function(){function e(t,n,r){Vt(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return zt(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Hx(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),qx=function(){function e(t,n,r){Vt(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return zt(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Hx=function(e){Bt(n,e);var t=Gt(n);function n(e,r,i){var a;return Vt(this,n),(a=t.call(this,e,r,Qp(i)))._path=i,a.type="collection",a}return zt(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Bx(this.firestore,null,new ad(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(qx);function Wx(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=$o(e),Px("collection","path",t),e instanceof Ux){var a=nd.fromString.apply(nd,[t].concat(r));return Mx(a),new Hx(e,null,a)}if(!(e instanceof Bx||e instanceof Hx))throw new jh(Fh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(nd.fromString.apply(nd,[t].concat(r)));return Mx(o),new Hx(e.firestore,null,o)}function Kx(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=$o(e),1===arguments.length&&(t=Qh.I()),Px("doc","path",t),e instanceof Ux){var a=nd.fromString.apply(nd,[t].concat(r));return Dx(a),new Bx(e,null,new ad(a))}if(!(e instanceof Bx||e instanceof Hx))throw new jh(Fh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(nd.fromString.apply(nd,[t].concat(r)));return Dx(o),new Bx(e.firestore,e instanceof Hx?e.converter:null,new ad(o))}function Gx(e,t){return e=$o(e),t=$o(t),(e instanceof Bx||e instanceof Hx)&&(t instanceof Bx||t instanceof Hx)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function $x(e,t){return e=$o(e),t=$o(t),e instanceof qx&&t instanceof qx&&e.firestore===t.firestore&&nv(e._query,t._query)&&e.converter===t.converter}var Qx=function(){function e(){var t=this;Vt(this,e),this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new Hb(this,"async_queue_retry"),this.Kc=function(){var e=Bb();e&&Ah("AsyncQueue","Visibility state changed to "+e.visibilityState),t.So.Eo()};var n=Bb();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Kc)}return zt(e,[{key:"isShuttingDown",get:function(){return this.Fc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Gc(),this.Qc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;var t=Bb();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Gc(),this.Fc)return new Promise((function(){}));var n=new Vh;return this.Qc((function(){return t.Fc&&t.Uc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Mc.push(e),t.jc()}))}},{key:"jc",value:function(){var e=Jn(Yn().mark((function e(){var t=this;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Mc.length){e.next=14;break}return e.prev=1,e.next=4,this.Mc[0]();case 4:this.Mc.shift(),this.So.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),_d(e.t0)){e.next=12;break}throw e.t0;case 12:Ah("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Mc.length>0&&this.So.Io((function(){return t.jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Qc",value:function(e){var t=this,n=this.Oc.then((function(){return t.Lc=!0,e().catch((function(e){t.Bc=e,t.Lc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Oh("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Lc=!1,e}))}));return this.Oc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Gc(),this.qc.indexOf(e)>-1&&(t=0);var i=jk.createAndSchedule(this,e,t,n,(function(e){return r.Wc(e)}));return this.$c.push(i),i}},{key:"Gc",value:function(){this.Bc&&Dh()}},{key:"verifyOperationInProgress",value:function(){}},{key:"zc",value:function(){var e=Jn(Yn().mark((function e(){var t;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Oc,e.next=3,t;case 3:if(t!==this.Oc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t,n=go(this.$c);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Jc",value:function(e){var t=this;return this.zc().then((function(){t.$c.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=go(t.$c);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.zc()}))}},{key:"Yc",value:function(e){this.qc.push(e)}},{key:"Wc",value:function(e){var t=this.$c.indexOf(e);this.$c.splice(t,1)}}]),e}();function Yx(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=go(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var Xx=function(){function e(){Vt(this,e),this._progressObserver={},this._taskCompletionResolver=new Vh,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return zt(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),Jx=function(e){Bt(n,e);var t=Gt(n);function n(e,r,i){var a;return Vt(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new Qx,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return zt(n,[{key:"_terminate",value:function(){return this._firestoreClient||eE(this),this._firestoreClient.terminate()}}]),n}(Ux);function Zx(e){return e._firestoreClient||eE(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function eE(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Yd(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new px(e._authCredentials,e._appCheckCredentials,e._queue,r)}function tE(e,t,n){var r=new Vh;return e.asyncQueue.enqueue(Jn(Yn().mark((function i(){var a;return Yn().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,vx(e,n);case 3:return i.next=5,yx(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Fh.FAILED_PRECONDITION||e.code===Fh.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function nE(e){return function(e){return e.asyncQueue.enqueue(Jn(Yn().mark((function t(){var n,r;return Yn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ex(e);case 2:return n=t.sent,t.next=5,Sx(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Lh(e);return t.lu.delete(0),Xb(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(Zx(e=Fx(e,Jx)))}function rE(e){return function(e){return e.asyncQueue.enqueue(Jn(Yn().mark((function t(){var n,r;return Yn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ex(e);case 2:return n=t.sent,t.next=5,Sx(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Jn(Yn().mark((function e(t){var n;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Lh(t)).lu.add(0),e.next=4,Zb(n);case 4:n._u.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(Zx(e=Fx(e,Jx)))}function iE(e,t){var n=Zx(e=Fx(e,Jx)),r=new Xx;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new fx(e,t)}(function(e,t){if(e instanceof Uint8Array)return cx(e,t);if(e instanceof ArrayBuffer)return cx(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,qb(t));e.asyncQueue.enqueueAndForget(Jn(Yn().mark((function t(){return Yn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=ix,t.next=3,Ix(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function aE(e,t){return function(e,t){return e.asyncQueue.enqueue(Jn(Yn().mark((function n(){return Yn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Lh(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ds.getNamedQuery(e,t)}))},n.next=3,_x(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(Zx(e=Fx(e,Jx)),t).then((function(t){return t?new qx(e,null,t.query):null}))}function oE(e){if(e._initialized||e._terminated)throw new jh(Fh.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var uE=function(){function e(){Vt(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new jh(Fh.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new id(n)}return zt(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var sE=function(){function e(t){Vt(this,e),this._byteString=t}return zt(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Bd.fromBase64String(t))}catch(t){throw new jh(Fh.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Bd.fromUint8Array(t))}}]),e}(),cE=zt((function e(t){Vt(this,e),this._methodName=t})),lE=function(){function e(t,n){if(Vt(this,e),!isFinite(t)||t<-90||t>90)throw new jh(Fh.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new jh(Fh.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return zt(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Yh(this._lat,e._lat)||Yh(this._long,e._long)}}]),e}(),fE=/^__.*__$/,hE=function(){function e(t,n,r){Vt(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return zt(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Mv(e,this.data,this.fieldMask,t,this.fieldTransforms):new Dv(e,this.data,t,this.fieldTransforms)}}]),e}(),dE=function(){function e(t,n,r){Vt(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return zt(e,[{key:"toMutation",value:function(e,t){return new Mv(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function pE(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Dh()}}var vE=function(){function e(t,n,r,i,a,o){Vt(this,e),this.settings=t,this.databaseId=n,this.wt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Xc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return zt(e,[{key:"path",get:function(){return this.settings.path}},{key:"Zc",get:function(){return this.settings.Zc}},{key:"ta",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ea",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.sa(e),r}},{key:"ia",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.Xc(),r}},{key:"ra",value:function(e){return this.ta({path:void 0,na:!0})}},{key:"oa",value:function(e){return ME(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Xc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.sa(this.path.get(e))}},{key:"sa",value:function(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(pE(this.Zc)&&fE.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}]),e}(),mE=function(){function e(t,n,r){Vt(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.wt=r||qb(t)}return zt(e,[{key:"aa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new vE({Zc:e,methodName:t,ca:n,path:id.emptyPath(),na:!1,ua:r},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}]),e}();function yE(e){var t=e._freezeSettings(),n=qb(e._databaseId);return new mE(e._databaseId,!!t.ignoreUndefinedProperties,n)}function gE(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.aa(a.merge||a.mergeFields?2:0,t,n,i);OE("Data must be an object, but it was:",o,r);var u,s,c=NE(r,o);if(a.merge)u=new zd(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=go(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=PE(t,d,n);if(!o.contains(p))throw new jh(Fh.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));LE(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new zd(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new hE(new xp(c),u,s)}var bE=function(e){Bt(n,e);var t=Gt(n);function n(){return Vt(this,n),t.apply(this,arguments)}return zt(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Zc)throw 1===e.Zc?e.oa("".concat(this._methodName,"() can only appear at the top level of your update data")):e.oa("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(cE);function kE(e,t,n){return new vE({Zc:3,ca:t.settings.ca,methodName:e._methodName,na:n},t.databaseId,t.wt,t.ignoreUndefinedProperties)}var wE=function(e){Bt(n,e);var t=Gt(n);function n(){return Vt(this,n),t.apply(this,arguments)}return zt(n,[{key:"_toFieldTransform",value:function(e){return new _v(e.path,new mv)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(cE),xE=function(e){Bt(n,e);var t=Gt(n);function n(e,r){var i;return Vt(this,n),(i=t.call(this,e)).ha=r,i}return zt(n,[{key:"_toFieldTransform",value:function(e){var t=kE(this,e,!0),n=this.ha.map((function(e){return CE(e,t)})),r=new yv(n);return new _v(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(cE),EE=function(e){Bt(n,e);var t=Gt(n);function n(e,r){var i;return Vt(this,n),(i=t.call(this,e)).ha=r,i}return zt(n,[{key:"_toFieldTransform",value:function(e){var t=kE(this,e,!0),n=this.ha.map((function(e){return CE(e,t)})),r=new bv(n);return new _v(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(cE),_E=function(e){Bt(n,e);var t=Gt(n);function n(e,r){var i;return Vt(this,n),(i=t.call(this,e)).la=r,i}return zt(n,[{key:"_toFieldTransform",value:function(e){var t=new wv(e.wt,fv(e.wt,this.la));return new _v(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(cE);function SE(e,t,n,r){var i=e.aa(1,t,n);OE("Data must be an object, but it was:",i,r);var a=[],o=xp.empty();Rd(r,(function(e,r){var u=DE(t,e,n);r=$o(r);var s=i.ia(u);if(r instanceof bE)a.push(u);else{var c=CE(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new zd(a);return new dE(o,u,i.fieldTransforms)}function IE(e,t,n,r,i,a){var o=e.aa(1,t,n),u=[PE(t,r,n)],s=[i];if(a.length%2!=0)throw new jh(Fh.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(PE(t,a[c])),s.push(a[c+1]);for(var l=[],f=xp.empty(),h=u.length-1;h>=0;--h)if(!LE(l,u[h])){var d=u[h],p=s[h];p=$o(p);var v=o.ia(d);if(p instanceof bE)l.push(d);else{var m=CE(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new zd(l);return new dE(f,y,o.fieldTransforms)}function TE(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return CE(n,e.aa(r?4:3,t))}function CE(e,t){if(AE(e=$o(e)))return OE("Unsupported field value:",t,e),NE(e,t);if(e instanceof cE)return function(e,t){if(!pE(t.Zc))throw t.oa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.oa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.na&&4!==t.Zc)throw t.oa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=go(e);try{for(a.s();!(n=a.n()).done;){var o=CE(n.value,t.ra(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=$o(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return fv(t.wt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Zh.fromDate(e);return{timestampValue:gm(t.wt,n)}}if(e instanceof Zh){var r=new Zh(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:gm(t.wt,r)}}if(e instanceof lE)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof sE)return{bytesValue:bm(t.wt,e._byteString)};if(e instanceof Bx){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.oa("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:xm(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.oa("Unsupported field value: ".concat(Lx(e)))}(e,t)}function NE(e,t){var n={};return Dd(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Rd(e,(function(e,r){var i=CE(r,t.ea(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function AE(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Zh||e instanceof lE||e instanceof sE||e instanceof Bx||e instanceof cE)}function OE(e,t,n){if(!AE(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Lx(n);throw"an object"===r?t.oa(e+" a custom object"):t.oa(e+" "+r)}}function PE(e,t,n){if((t=$o(t))instanceof uE)return t._internalPath;if("string"==typeof t)return DE(e,t);throw ME("Field path arguments must be of type string or ",e,!1,void 0,n)}var RE=new RegExp("[~\\*/\\[\\]]");function DE(e,t,n){if(t.search(RE)>=0)throw ME("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return vo(uE,ln(t.split(".")))._internalPath}catch(r){throw ME("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function ME(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new jh(Fh.INVALID_ARGUMENT,u+e+s)}function LE(e,t){return e.some((function(e){return e.isEqual(t)}))}var FE=function(){function e(t,n,r,i,a){Vt(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return zt(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Bx(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new jE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(VE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),jE=function(e){Bt(n,e);var t=Gt(n);function n(){return Vt(this,n),t.apply(this,arguments)}return zt(n,[{key:"data",value:function(){return yo(qt(n.prototype),"data",this).call(this)}}]),n}(FE);function VE(e,t){return"string"==typeof t?DE(e,t):t instanceof uE?t._internalPath:t._delegate._internalPath}var UE=function(){function e(t,n){Vt(this,e),this.hasPendingWrites=t,this.fromCache=n}return zt(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),zE=function(e){Bt(n,e);var t=Gt(n);function n(e,r,i,a,o,u){var s;return Vt(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return zt(n,[{key:"exists",value:function(){return yo(qt(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new BE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(VE("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(FE),BE=function(e){Bt(n,e);var t=Gt(n);function n(){return Vt(this,n),t.apply(this,arguments)}return zt(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return yo(qt(n.prototype),"data",this).call(this,e)}}]),n}(zE),qE=function(){function e(t,n,r,i){Vt(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new UE(i.hasPendingWrites,i.fromCache),this.query=r}return zt(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new BE(n._firestore,n._userDataWriter,r.key,r,new UE(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new jh(Fh.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new BE(e._firestore,e._userDataWriter,t.doc.key,t.doc,new UE(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new BE(e._firestore,e._userDataWriter,t.doc.key,t.doc,new UE(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:HE(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function HE(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Dh()}}function WE(e,t){return e instanceof zE&&t instanceof zE?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof qE&&t instanceof qE&&e._firestore===t._firestore&&$x(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function KE(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new jh(Fh.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var GE=zt((function e(){Vt(this,e)}));function $E(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var QE=function(e){Bt(n,e);var t=Gt(n);function n(e,r,i){var a;return Vt(this,n),(a=t.call(this)).fa=e,a.da=r,a._a=i,a.type="where",a}return zt(n,[{key:"_apply",value:function(e){var t=yE(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new jh(Fh.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){o_(o,a);var s,c=[],l=go(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(a_(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=a_(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||o_(o,a),u=TE(n,"where",o,"in"===a||"not-in"===a);var h=Rp.create(i,a,u);return function(e,t){if(t.ht()){var n=Xp(e);if(null!==n&&!n.isEqual(t.field))throw new jh(Fh.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Yp(e);null!==r&&u_(e,t.field,r)}var i=function(e,t){var n,r=go(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new jh(Fh.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new jh(Fh.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new qx(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Gp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(GE);var YE=function(e){Bt(n,e);var t=Gt(n);function n(e,r){var i;return Vt(this,n),(i=t.call(this)).fa=e,i.wa=r,i.type="orderBy",i}return zt(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new jh(Fh.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new jh(Fh.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new qp(t,n);return function(e,t){if(null===Yp(e)){var n=Xp(e);null!==n&&u_(e,n,t.field)}}(e,r),r}(e._query,this.fa,this.wa);return new qx(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Gp(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(GE);var XE=function(e){Bt(n,e);var t=Gt(n);function n(e,r,i){var a;return Vt(this,n),(a=t.call(this)).type=e,a.ma=r,a.ga=i,a}return zt(n,[{key:"_apply",value:function(e){return new qx(e.firestore,e.converter,tv(e._query,this.ma,this.ga))}}]),n}(GE);var JE=function(e){Bt(n,e);var t=Gt(n);function n(e,r,i){var a;return Vt(this,n),(a=t.call(this)).type=e,a.ya=r,a.pa=i,a}return zt(n,[{key:"_apply",value:function(e){var t=i_(e,this.type,this.ya,this.pa);return new qx(e.firestore,e.converter,function(e,t){return new Gp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(GE);function ZE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new JE("startAt",t,!0)}function e_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new JE("startAfter",t,!1)}var t_=function(e){Bt(n,e);var t=Gt(n);function n(e,r,i){var a;return Vt(this,n),(a=t.call(this)).type=e,a.ya=r,a.pa=i,a}return zt(n,[{key:"_apply",value:function(e){var t=i_(e,this.type,this.ya,this.pa);return new qx(e.firestore,e.converter,function(e,t){return new Gp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(GE);function n_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new t_("endBefore",t,!1)}function r_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new t_("endAt",t,!0)}function i_(e,t,n,r){if(n[0]=$o(n[0]),n[0]instanceof FE)return function(e,t,n,r,i){if(!r)throw new jh(Fh.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=go(Zp(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(lp(t,r.key));else{var c=r.data.field(s.field);if(Gd(c))throw new jh(Fh.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new jh(Fh.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new Bp(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=yE(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new jh(Fh.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new jh(Fh.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Jp(e)&&-1!==c.indexOf("/"))throw new jh(Fh.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(nd.fromString(c));if(!ad.isDocumentKey(l))throw new jh(Fh.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new ad(l);u.push(lp(t,f))}else{var h=TE(n,r,c);u.push(h)}}return new Bp(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function a_(e,t,n){if("string"==typeof(n=$o(n))){if(""===n)throw new jh(Fh.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Jp(t)&&-1!==n.indexOf("/"))throw new jh(Fh.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(nd.fromString(n));if(!ad.isDocumentKey(r))throw new jh(Fh.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return lp(e,new ad(r))}if(n instanceof Bx)return lp(e,n._key);throw new jh(Fh.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Lx(n),"."))}function o_(e,t){if(!Array.isArray(e)||0===e.length)throw new jh(Fh.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new jh(Fh.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function u_(e,t,n){if(!n.isEqual(t))throw new jh(Fh.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var s_={maxAttempts:5},c_=function(){function e(){Vt(this,e)}return zt(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(rp(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Wd(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Kd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Dh()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Rd(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new lE(Wd(e.latitude),Wd(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=$d(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Qd(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Hd(e);return new Zh(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=nd.fromString(e);Mh(Km(n));var r=new Xd(n.get(1),n.get(3)),i=new ad(n.popFirst(5));return r.isEqual(t)||Oh("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function l_(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var f_=function(e){Bt(n,e);var t=Gt(n);function n(e){var r;return Vt(this,n),(r=t.call(this)).firestore=e,r}return zt(n,[{key:"convertBytes",value:function(e){return new sE(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bx(this.firestore,null,t)}}]),n}(c_),h_=function(){function e(t,n){Vt(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=yE(t)}return zt(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=d_(e,this._firestore),i=l_(r.converter,t,n),a=gE(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Iv.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=d_(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=$o(t))||t instanceof uE?IE(this._dataReader,"WriteBatch.update",i._key,t,n,o):SE(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Iv.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=d_(e,this._firestore);return this._mutations=this._mutations.concat(new zv(t._key,Iv.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new jh(Fh.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function d_(e,t){if((e=$o(e)).firestore!==t)throw new jh(Fh.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var p_=function(e){Bt(n,e);var t=Gt(n);function n(e){var r;return Vt(this,n),(r=t.call(this)).firestore=e,r}return zt(n,[{key:"convertBytes",value:function(e){return new sE(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bx(this.firestore,null,t)}}]),n}(c_);function v_(e){e=Fx(e,Bx);var t=Fx(e.firestore,Jx),n=Zx(t),r=new p_(t);return function(e,t){var n=new Vh;return e.asyncQueue.enqueueAndForget(Jn(Yn().mark((function r(){return Yn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Jn(Yn().mark((function e(t,n,r){var i,a;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Lh(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new jh(Fh.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=Vk(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,_x(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new zE(t,r,e._key,n,new UE(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function m_(e){e=Fx(e,qx);var t=Fx(e.firestore,Jx),n=Zx(t),r=new p_(t);return KE(e._query),Ax(n,e._query).then((function(n){return new qE(t,r,e,n)}))}function y_(e){e=Fx(e,qx);var t=Fx(e.firestore,Jx),n=Zx(t),r=new p_(t);return function(e,t){var n=new Vh;return e.asyncQueue.enqueueAndForget(Jn(Yn().mark((function r(){return Yn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Jn(Yn().mark((function e(t,n,r){var i,a,o,u,s;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,gb(t,n,!0);case 3:i=e.sent,a=new aw(n,i.ji),o=a.Ku(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=Vk(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,_x(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new qE(t,r,e,n)}))}function g_(e,t,n){e=Fx(e,Bx);var r=Fx(e.firestore,Jx),i=l_(e.converter,t,n);return x_(r,[gE(yE(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Iv.none())])}function b_(e,t,n){e=Fx(e,Bx);for(var r=Fx(e.firestore,Jx),i=yE(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return x_(r,[("string"==typeof(t=$o(t))||t instanceof uE?IE(i,"updateDoc",e._key,t,n,o):SE(i,"updateDoc",e._key,t)).toMutation(e._key,Iv.exists(!0))])}function k_(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=$o(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||Yx(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(Yx(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof Bx)l=Fx(e.firestore,Jx),f=Qp(e._key.path),c={next:function(t){n[s]&&n[s](E_(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=Fx(e,qx);l=Fx(p.firestore,Jx),f=p._query;var v=new p_(l);c={next:function(e){n[s]&&n[s](new qE(l,v,p,e))},error:n[s+1],complete:n[s+2]},KE(e._query)}return function(e,t,n,r){var i=new lx(r),a=new Jk(t,i,n);return e.asyncQueue.enqueueAndForget(Jn(Yn().mark((function t(){return Yn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Wk,t.next=3,Tx(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Tc(),e.asyncQueue.enqueueAndForget(Jn(Yn().mark((function t(){return Yn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Gk,t.next=3,Tx(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Zx(l),f,h,c)}function w_(e,t){return function(e,t){var n=new lx(t);return e.asyncQueue.enqueueAndForget(Jn(Yn().mark((function t(){return Yn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Lh(e).Tu.add(t),t.next()},t.next=3,Tx(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Tc(),e.asyncQueue.enqueueAndForget(Jn(Yn().mark((function t(){return Yn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Lh(e).Tu.delete(t)},t.next=3,Tx(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Zx(e=Fx(e,Jx)),Yx(t)?t:{next:t})}function x_(e,t){return function(e,t){var n=new Vh;return e.asyncQueue.enqueueAndForget(Jn(Yn().mark((function r(){return Yn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=vw,r.next=3,Ix(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(Zx(e),t)}function E_(e,t,n){var r=n.docs.get(t._key),i=new p_(e);return new zE(e,i,t._key,r,new UE(n.hasPendingWrites,n.fromCache),t.converter)}var __,S_=function(e){Bt(n,e);var t=Gt(n);function n(e,r){var i;return Vt(this,n),(i=t.call(this,e,r))._firestore=e,i}return zt(n,[{key:"get",value:function(e){var t=this,r=d_(e,this._firestore),i=new p_(this._firestore);return yo(qt(n.prototype),"get",this).call(this,e).then((function(e){return new zE(t._firestore,i,r._key,e._document,new UE(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Vt(this,e),this._firestore=t,this._transaction=n,this._dataReader=yE(t)}return zt(e,[{key:"get",value:function(e){var t=this,n=d_(e,this._firestore),r=new f_(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Dh();var i=e[0];if(i.isFoundDocument())return new FE(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new FE(t._firestore,r,n._key,null,n.converter);throw Dh()}))}},{key:"set",value:function(e,t,n){var r=d_(e,this._firestore),i=l_(r.converter,t,n),a=gE(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=d_(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=$o(t))||t instanceof uE?IE(this._dataReader,"Transaction.update",i._key,t,n,o):SE(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=d_(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function I_(e,t,n){e=Fx(e,Jx);var r=Object.assign(Object.assign({},s_),n);return function(e){if(e.maxAttempts<1)throw new jh(Fh.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Vh;return e.asyncQueue.enqueueAndForget(Jn(Yn().mark((function i(){var a;return Yn().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,function(e){return wx(e).then((function(e){return e.datastore}))}(e);case 2:a=i.sent,new dx(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(Zx(e),(function(n){return t(new S_(e,n))}),r)}function T_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new xE("arrayUnion",t)}function C_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new EE("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Th=e}(Bu),Mu(new Qo("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new Jx(i,new qh(e.getProvider("auth-internal")),new Gh(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),$u(Sh,"3.4.11",e),$u(Sh,"3.4.11","esm2017")}();var N_=function(){function e(t,n){var r=this;Vt(this,e),this._delegate=t,this.firebase=n,Ru(t,new Qo("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return zt(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Ku(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nu;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nu;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Ru(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Du(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),A_=(Pe(__={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Pe(__,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),__),O_=new Lo("app-compat","Firebase",A_);var P_=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=qu(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Vo(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:$u,setLogLevel:Yu,onLog:Qu,apps:null,SDK_VERSION:Bu,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Mu(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw O_.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&_o(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Vo(n,e=e||Nu))throw O_.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(N_);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){_o(n,e)},createSubscribe:Wo,ErrorFactory:Lo,deepExtend:_o}),n}(),R_=new ou("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){R_.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var D_=self.firebase.SDK_VERSION;D_&&D_.indexOf("LITE")>=0&&R_.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var M_=P_;!function(e){$u("@firebase/app-compat","0.1.28",e)}();M_.registerVersion("firebase","9.8.4","app-compat");function L_(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var F_;Object.create;var j_="facebook.com",V_="github.com",U_="google.com",z_="password",B_="twitter.com",q_="EMAIL_SIGNIN",H_="PASSWORD_RESET",W_="RECOVER_EMAIL",K_="REVERT_SECOND_FACTOR_ADDITION",G_="VERIFY_AND_CHANGE_EMAIL",$_="VERIFY_EMAIL";function Q_(){return Pe({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Y_=function(){var e;return Pe(e={},"admin-restricted-operation","This operation is restricted to administrators only."),Pe(e,"argument-error",""),Pe(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Pe(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Pe(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Pe(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Pe(e,"cordova-not-ready","Cordova framework is not ready."),Pe(e,"cors-unsupported","This browser is not supported."),Pe(e,"credential-already-in-use","This credential is already associated with a different user account."),Pe(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Pe(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Pe(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Pe(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Pe(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Pe(e,"email-already-in-use","The email address is already in use by another account."),Pe(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Pe(e,"expired-action-code","The action code has expired."),Pe(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Pe(e,"internal-error","An internal AuthError has occurred."),Pe(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Pe(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Pe(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Pe(e,"invalid-auth-event","An internal AuthError has occurred."),Pe(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Pe(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Pe(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Pe(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Pe(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Pe(e,"invalid-email","The email address is badly formatted."),Pe(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Pe(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Pe(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Pe(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Pe(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Pe(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Pe(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Pe(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Pe(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Pe(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Pe(e,"wrong-password","The password is invalid or the user does not have a password."),Pe(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Pe(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Pe(e,"invalid-provider-id","The specified provider ID is invalid."),Pe(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Pe(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Pe(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Pe(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Pe(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),Pe(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Pe(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Pe(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Pe(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Pe(e,"missing-continue-uri","A continue URL must be provided in the request."),Pe(e,"missing-iframe-start","An internal AuthError has occurred."),Pe(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Pe(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Pe(e,"missing-multi-factor-info","No second factor identifier is provided."),Pe(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Pe(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Pe(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Pe(e,"app-deleted","This instance of FirebaseApp has been deleted."),Pe(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Pe(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Pe(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Pe(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Pe(e,"no-auth-event","An internal AuthError has occurred."),Pe(e,"no-such-provider","User was not linked to an account with the given provider."),Pe(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Pe(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Pe(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Pe(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Pe(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Pe(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Pe(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Pe(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Pe(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Pe(e,"rejected-credential","The request contains malformed or mismatching credentials."),Pe(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Pe(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Pe(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Pe(e,"timeout","The operation has timed out."),Pe(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Pe(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Pe(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Pe(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Pe(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Pe(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Pe(e,"unverified-email","The operation requires a verified email."),Pe(e,"user-cancelled","The user did not grant your application the permissions it requested."),Pe(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Pe(e,"user-disabled","The user account has been disabled by an administrator."),Pe(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Pe(e,"user-signed-out",""),Pe(e,"weak-password","The password must be 6 characters long or more."),Pe(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Pe(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},X_=Q_,J_=new Lo("auth","Firebase",Q_()),Z_=new ou("@firebase/auth");function eS(e){if(Z_.logLevel<=Zo.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Z_.error.apply(Z_,["Auth (".concat(Bu,"): ").concat(e)].concat(n))}}function tS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw aS.apply(void 0,[e].concat(n))}function nS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return aS.apply(void 0,[e].concat(n))}function rS(e,t,n){var r=Object.assign(Object.assign({},X_()),Pe({},t,n));return new Lo("auth","Firebase",r).create(t,{appName:e.name})}function iS(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&tS(e,"argument-error"),rS(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function aS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=ln(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(ln(o)))}return J_.create.apply(J_,[e].concat(n))}function oS(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw aS.apply(void 0,[t].concat(r))}}function uS(e){var t="INTERNAL ASSERTION FAILED: "+e;throw eS(t),new Error(t)}function sS(e,t){e||uS(t)}var cS=new Map;function lS(e){sS(e instanceof Function,"Expected a class definition");var t=cS.get(e);return t?(sS(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,cS.set(e,t),t)}function fS(e,t){var n=Lu(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(Uo(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;tS(r,"already-initialized")}return n.initialize({options:t})}function hS(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function dS(){return"http:"===pS()||"https:"===pS()}function pS(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var vS=function(){function e(t,n){Vt(this,e),this.shortDelay=t,this.longDelay=n,sS(n>t,"Short delay should be less than long delay!"),this.isMobile=No()||Po()}return zt(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(dS()||Oo()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function mS(e,t){sS(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var yS=function(){function e(){Vt(this,e)}return zt(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void uS("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void uS("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void uS("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),gS=(Pe(F_={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Pe(F_,"MISSING_CUSTOM_TOKEN","internal-error"),Pe(F_,"INVALID_IDENTIFIER","invalid-email"),Pe(F_,"MISSING_CONTINUE_URI","internal-error"),Pe(F_,"INVALID_PASSWORD","wrong-password"),Pe(F_,"MISSING_PASSWORD","internal-error"),Pe(F_,"EMAIL_EXISTS","email-already-in-use"),Pe(F_,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Pe(F_,"INVALID_IDP_RESPONSE","invalid-credential"),Pe(F_,"INVALID_PENDING_TOKEN","invalid-credential"),Pe(F_,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Pe(F_,"MISSING_REQ_TYPE","internal-error"),Pe(F_,"EMAIL_NOT_FOUND","user-not-found"),Pe(F_,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Pe(F_,"EXPIRED_OOB_CODE","expired-action-code"),Pe(F_,"INVALID_OOB_CODE","invalid-action-code"),Pe(F_,"MISSING_OOB_CODE","internal-error"),Pe(F_,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Pe(F_,"INVALID_ID_TOKEN","invalid-user-token"),Pe(F_,"TOKEN_EXPIRED","user-token-expired"),Pe(F_,"USER_NOT_FOUND","user-token-expired"),Pe(F_,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Pe(F_,"INVALID_CODE","invalid-verification-code"),Pe(F_,"INVALID_SESSION_INFO","invalid-verification-id"),Pe(F_,"INVALID_TEMPORARY_PROOF","invalid-credential"),Pe(F_,"MISSING_SESSION_INFO","missing-verification-id"),Pe(F_,"SESSION_EXPIRED","code-expired"),Pe(F_,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Pe(F_,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Pe(F_,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Pe(F_,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Pe(F_,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Pe(F_,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Pe(F_,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Pe(F_,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Pe(F_,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Pe(F_,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Pe(F_,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),F_),bS=new vS(3e4,6e4);function kS(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function wS(e,t,n,r){return xS.apply(this,arguments)}function xS(){return xS=Jn(Yn().mark((function e(t,n,r,i){var a,o=arguments;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",ES(t,a,Jn(Yn().mark((function e(){var a,o,u,s;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=Bo(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",yS.fetch()(TS(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),xS.apply(this,arguments)}function ES(e,t,n){return _S.apply(this,arguments)}function _S(){return _S=Jn(Yn().mark((function e(t,n,r){var i,a,o,u,c,l,f,h,d,p;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},gS),n),e.prev=2,a=new CS(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw NS(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(c=o.ok?u.errorMessage:u.error.message,l=c.split(" : "),f=s(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw NS(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw NS(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw NS(t,"user-disabled",u);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw rS(t,p,d);case 34:tS(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof Mo)){e.next=41;break}throw e.t0;case 41:tS(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),_S.apply(this,arguments)}function SS(e,t,n,r){return IS.apply(this,arguments)}function IS(){return IS=Jn(Yn().mark((function e(t,n,r,i){var a,o,u=arguments;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,wS(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&tS(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),IS.apply(this,arguments)}function TS(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?mS(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var CS=function(){function e(t){var n=this;Vt(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(nS(n.auth,"network-request-failed"))}),bS.get())}))}return zt(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function NS(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=nS(e,t,r);return i.customData._tokenResponse=n,i}function AS(e,t){return OS.apply(this,arguments)}function OS(){return OS=Jn(Yn().mark((function e(t,n){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wS(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),OS.apply(this,arguments)}function PS(e,t){return RS.apply(this,arguments)}function RS(){return RS=Jn(Yn().mark((function e(t,n){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wS(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),RS.apply(this,arguments)}function DS(e,t){return MS.apply(this,arguments)}function MS(){return MS=Jn(Yn().mark((function e(t,n){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wS(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),MS.apply(this,arguments)}function LS(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(BP){}}function FS(){return FS=Jn(Yn().mark((function e(t){var n,r,i,a,o,u,s=arguments;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=$o(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,oS((a=VS(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:LS(jS(a.auth_time)),issuedAtTime:LS(jS(a.iat)),expirationTime:LS(jS(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),FS.apply(this,arguments)}function jS(e){return 1e3*Number(e)}function VS(e){var t,n=s(e.split("."),3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return eS("JWT malformed, contained fewer than 3 sections"),null;try{var o=Eo(i);return o?JSON.parse(o):(eS("Failed to decode base64 JWT payload"),null)}catch(BP){return eS("Caught error parsing JWT payload as JSON",null===(t=BP)||void 0===t?void 0:t.toString()),null}}function US(e,t){return zS.apply(this,arguments)}function zS(){return zS=Jn(Yn().mark((function e(t,n){var r=arguments;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Mo&&BS(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),zS.apply(this,arguments)}function BS(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var qS=function(){function e(t){Vt(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return zt(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Jn(Yn().mark((function t(){return Yn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Jn(Yn().mark((function e(){var t;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===(t=e.t0)||void 0===t?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),HS=function(){function e(t,n){Vt(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return zt(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=LS(this.lastLoginAt),this.creationTime=LS(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function WS(e){return KS.apply(this,arguments)}function KS(){return KS=Jn(Yn().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,US(t,DS(r,{idToken:i}));case 6:oS(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?QS(o.providerUserInfo):[],s=$S(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new HS(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),KS.apply(this,arguments)}function GS(){return(GS=Jn(Yn().mark((function e(t){var n;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=$o(t),e.next=3,WS(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $S(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(ln(n),ln(t))}function QS(e){return e.map((function(e){var t=e.providerId,n=L_(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function YS(e,t){return XS.apply(this,arguments)}function XS(){return XS=Jn(Yn().mark((function e(t,n){var r;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ES(t,{},Jn(Yn().mark((function e(){var r,i,a,o,u,s;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Bo({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=TS(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",yS.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),XS.apply(this,arguments)}var JS=function(){function e(){Vt(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return zt(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){oS(e.idToken,"internal-error"),oS("undefined"!==typeof e.idToken,"internal-error"),oS("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=VS(e);return oS(t,"internal-error"),oS("undefined"!==typeof t.exp,"internal-error"),oS("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Jn(Yn().mark((function e(t){var n,r=arguments;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],oS(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Jn(Yn().mark((function e(t,n){var r,i,a,o;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,YS(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return uS("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(oS("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(oS("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(oS("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function ZS(e,t){oS("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var eI=function(){function e(t){Vt(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=L_(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?ln(a.providerData):[],this.metadata=new HS(a.createdAt||void 0,a.lastLoginAt||void 0)}return zt(e,[{key:"getIdToken",value:function(){var e=Jn(Yn().mark((function e(t){var n;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,US(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(oS(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return FS.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return GS.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(oS(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){oS(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Jn(Yn().mark((function e(t){var n,r,i=arguments;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,WS(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Jn(Yn().mark((function e(){var t;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,US(this,AS(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,b=n.uid,k=n.emailVerified,w=n.isAnonymous,x=n.providerData,E=n.stsTokenManager;oS(b&&E,t,"internal-error");var _=JS.fromJSON(this.name,E);oS("string"===typeof b,t,"internal-error"),ZS(f,t.name),ZS(h,t.name),oS("boolean"===typeof k,t,"internal-error"),oS("boolean"===typeof w,t,"internal-error"),ZS(d,t.name),ZS(p,t.name),ZS(v,t.name),ZS(m,t.name),ZS(y,t.name),ZS(g,t.name);var S=new e({uid:b,auth:t,email:h,emailVerified:k,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:_,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(S.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(S._redirectEventId=m),S}},{key:"_fromIdTokenResponse",value:function(){var t=Jn(Yn().mark((function t(n,r){var i,a,o,u=arguments;return Yn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new JS).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,WS(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),tI=function(){function e(){Vt(this,e),this.type="NONE",this.storage={}}return zt(e,[{key:"_isAvailable",value:function(){var e=Jn(Yn().mark((function e(){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Jn(Yn().mark((function e(t,n){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Jn(Yn().mark((function e(t){var n;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Jn(Yn().mark((function e(t){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();tI.type="NONE";var nI=tI;function rI(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var iI=function(){function e(t,n,r){Vt(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=rI(this.userKey,a.apiKey,o),this.fullPersistenceKey=rI("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return zt(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Jn(Yn().mark((function e(){var t;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?eI._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Jn(Yn().mark((function e(t){var n;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Jn(Yn().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return Yn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(lS(nI),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Jn(Yn().mark((function e(t){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||lS(nI),u=rI(i,n.config.apiKey,n.name),s=null,c=go(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=eI._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Jn(Yn().mark((function e(t){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function aI(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(cI(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(oI(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(fI(t))return"Blackberry";if(hI(t))return"Webos";if(uI(t))return"Safari";if((t.includes("chrome/")||sI(t))&&!t.includes("edge/"))return"Chrome";if(lI(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function oI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Co();return/firefox\//i.test(e)}function uI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Co(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function sI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Co();return/crios\//i.test(e)}function cI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Co();return/iemobile/i.test(e)}function lI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Co();return/android/i.test(e)}function fI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Co();return/blackberry/i.test(e)}function hI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Co();return/webos/i.test(e)}function dI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Co();return/iphone|ipad|ipod/i.test(e)}function pI(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Co();return dI(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function vI(){return Ro()&&10===document.documentMode}function mI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Co();return dI(e)||lI(e)||hI(e)||fI(e)||/windows phone/i.test(e)||cI(e)}function yI(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=aI(Co());break;case"Worker":t="".concat(aI(Co()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Bu,"/").concat(r)}var gI=function(){function e(t){Vt(this,e),this.auth=t,this.queue=[]}return zt(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(BP){r(BP)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Jn(Yn().mark((function e(t){var n,r,i,a,o,u,s,c;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=go(this.queue),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=14;break}return o=a.value,e.next=11,o(t);case 11:o.onAbort&&r.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),u=go(r);try{for(u.s();!(s=u.n()).done;){c=s.value;try{c()}catch(l){}}}catch(f){u.e(f)}finally{u.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),bI=function(){function e(t,n,r){Vt(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wI(this),this.idTokenSubscription=new wI(this),this.beforeStateQueue=new gI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=J_,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return zt(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=lS(t)),this._initializationPromise=this.queue(Jn(Yn().mark((function r(){var i,a;return Yn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,iI.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Jn(Yn().mark((function e(){var t;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Jn(Yn().mark((function e(t){var n,r,i,a,o,u,s;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return oS(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Jn(Yn().mark((function e(t){var n;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Jn(Yn().mark((function e(t){var n;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,WS(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Jn(Yn().mark((function e(){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Jn(Yn().mark((function e(t){var n;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?$o(t):null)&&oS(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Jn(Yn().mark((function e(t){var n,r=this,i=arguments;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&oS(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Jn(Yn().mark((function e(){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Jn(Yn().mark((function e(){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Jn(Yn().mark((function n(){return Yn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(lS(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Lo("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Jn(Yn().mark((function e(t,n){var r;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Jn(Yn().mark((function e(t){var n;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return oS(n=t&&lS(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,iI.create(this,[lS(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Jn(Yn().mark((function e(t){var n,r;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Jn(Yn().mark((function e(){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Jn(Yn().mark((function e(t){var n=this;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Jn(Yn().mark((function e(){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return oS(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Jn(Yn().mark((function e(t){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return oS(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yI(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Jn(Yn().mark((function e(){var t,n,r;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Pe({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function kI(e){return $o(e)}var wI=function(){function e(t){var n=this;Vt(this,e),this.auth=t,this.observer=null,this.addObserver=Wo((function(e){return n.observer=e}))}return zt(e,[{key:"next",get:function(){return oS(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function xI(e,t,n){var r=kI(e);oS(r._canInitEmulator,r,"emulator-config-failed"),oS(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=EI(t),o=function(e){var t=EI(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:_I(r.substr(a.length+1))}}var o=s(r.split(":"),2);return{host:o[0],port:_I(o[1])}}(t),u=o.host,c=o.port,l=null===c?"":":".concat(c);r.config.emulator={url:"".concat(a,"//").concat(u).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function EI(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function _I(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var SI=function(){function e(t,n){Vt(this,e),this.providerId=t,this.signInMethod=n}return zt(e,[{key:"toJSON",value:function(){return uS("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return uS("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return uS("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return uS("not implemented")}}]),e}();function II(e,t){return TI.apply(this,arguments)}function TI(){return TI=Jn(Yn().mark((function e(t,n){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wS(t,"POST","/v1/accounts:resetPassword",kS(t,n)));case 1:case"end":return e.stop()}}),e)}))),TI.apply(this,arguments)}function CI(e,t){return NI.apply(this,arguments)}function NI(){return NI=Jn(Yn().mark((function e(t,n){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wS(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),NI.apply(this,arguments)}function AI(e,t){return OI.apply(this,arguments)}function OI(){return OI=Jn(Yn().mark((function e(t,n){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wS(t,"POST","/v1/accounts:update",kS(t,n)));case 1:case"end":return e.stop()}}),e)}))),OI.apply(this,arguments)}function PI(e,t){return RI.apply(this,arguments)}function RI(){return RI=Jn(Yn().mark((function e(t,n){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",SS(t,"POST","/v1/accounts:signInWithPassword",kS(t,n)));case 1:case"end":return e.stop()}}),e)}))),RI.apply(this,arguments)}function DI(e,t){return MI.apply(this,arguments)}function MI(){return MI=Jn(Yn().mark((function e(t,n){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wS(t,"POST","/v1/accounts:sendOobCode",kS(t,n)));case 1:case"end":return e.stop()}}),e)}))),MI.apply(this,arguments)}function LI(e,t){return FI.apply(this,arguments)}function FI(){return FI=Jn(Yn().mark((function e(t,n){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",DI(t,n));case 1:case"end":return e.stop()}}),e)}))),FI.apply(this,arguments)}function jI(e,t){return VI.apply(this,arguments)}function VI(){return VI=Jn(Yn().mark((function e(t,n){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",DI(t,n));case 1:case"end":return e.stop()}}),e)}))),VI.apply(this,arguments)}function UI(e,t){return zI.apply(this,arguments)}function zI(){return zI=Jn(Yn().mark((function e(t,n){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",DI(t,n));case 1:case"end":return e.stop()}}),e)}))),zI.apply(this,arguments)}function BI(e,t){return qI.apply(this,arguments)}function qI(){return qI=Jn(Yn().mark((function e(t,n){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",DI(t,n));case 1:case"end":return e.stop()}}),e)}))),qI.apply(this,arguments)}function HI(e,t){return WI.apply(this,arguments)}function WI(){return WI=Jn(Yn().mark((function e(t,n){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",SS(t,"POST","/v1/accounts:signInWithEmailLink",kS(t,n)));case 1:case"end":return e.stop()}}),e)}))),WI.apply(this,arguments)}function KI(e,t){return GI.apply(this,arguments)}function GI(){return GI=Jn(Yn().mark((function e(t,n){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",SS(t,"POST","/v1/accounts:signInWithEmailLink",kS(t,n)));case 1:case"end":return e.stop()}}),e)}))),GI.apply(this,arguments)}var $I=function(e){Bt(n,e);var t=Gt(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Vt(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return zt(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Jn(Yn().mark((function e(t){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",PI(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",HI(t,{email:this._email,oobCode:this._password}));case 5:tS(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Jn(Yn().mark((function e(t,n){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",CI(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",KI(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:tS(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(SI);function QI(e,t){return YI.apply(this,arguments)}function YI(){return YI=Jn(Yn().mark((function e(t,n){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",SS(t,"POST","/v1/accounts:signInWithIdp",kS(t,n)));case 1:case"end":return e.stop()}}),e)}))),YI.apply(this,arguments)}var XI=function(e){Bt(n,e);var t=Gt(n);function n(){var e;return Vt(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return zt(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return QI(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,QI(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,QI(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Bo(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):tS("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=L_(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(SI);function JI(e,t){return ZI.apply(this,arguments)}function ZI(){return ZI=Jn(Yn().mark((function e(t,n){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wS(t,"POST","/v1/accounts:sendVerificationCode",kS(t,n)));case 1:case"end":return e.stop()}}),e)}))),ZI.apply(this,arguments)}function eT(){return eT=Jn(Yn().mark((function e(t,n){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",SS(t,"POST","/v1/accounts:signInWithPhoneNumber",kS(t,n)));case 1:case"end":return e.stop()}}),e)}))),eT.apply(this,arguments)}function tT(){return tT=Jn(Yn().mark((function e(t,n){var r;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,SS(t,"POST","/v1/accounts:signInWithPhoneNumber",kS(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw NS(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),tT.apply(this,arguments)}var nT=Pe({},"USER_NOT_FOUND","user-not-found");function rT(){return rT=Jn(Yn().mark((function e(t,n){var r;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",SS(t,"POST","/v1/accounts:signInWithPhoneNumber",kS(t,r),nT));case 2:case"end":return e.stop()}}),e)}))),rT.apply(this,arguments)}var iT=function(e){Bt(n,e);var t=Gt(n);function n(e){var r;return Vt(this,n),(r=t.call(this,"phone","phone")).params=e,r}return zt(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return eT.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return tT.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return rT.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(SI);var aT=function(){function e(t){var n,r,i,a,o,u;Vt(this,e);var s=qo(Ho(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);oS(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return zt(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=qo(Ho(e)).link,n=t?qo(Ho(t)).deep_link_id:null,r=qo(Ho(e)).deep_link_id;return(r?qo(Ho(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(Ox){return null}}}]),e}();var oT=function(){function e(){Vt(this,e),this.providerId=e.PROVIDER_ID}return zt(e,null,[{key:"credential",value:function(e,t){return $I._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=aT.parseLink(t);return oS(n,"argument-error"),$I._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();oT.PROVIDER_ID="password",oT.EMAIL_PASSWORD_SIGN_IN_METHOD="password",oT.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var uT=function(){function e(t){Vt(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return zt(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),sT=function(e){Bt(n,e);var t=Gt(n);function n(){var e;return Vt(this,n),(e=t.apply(this,arguments)).scopes=[],e}return zt(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return ln(this.scopes)}}]),n}(uT),cT=function(e){Bt(n,e);var t=Gt(n);function n(){return Vt(this,n),t.apply(this,arguments)}return zt(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return oS(e.idToken||e.accessToken,"argument-error"),XI._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return oS("providerId"in t&&"signInMethod"in t,"argument-error"),XI._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(BP){return null}}}]),n}(sT),lT=function(e){Bt(n,e);var t=Gt(n);function n(){return Vt(this,n),t.call(this,"facebook.com")}return zt(n,null,[{key:"credential",value:function(e){return XI._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Ox){return null}}}]),n}(sT);lT.FACEBOOK_SIGN_IN_METHOD="facebook.com",lT.PROVIDER_ID="facebook.com";var fT=function(e){Bt(n,e);var t=Gt(n);function n(){var e;return Vt(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return zt(n,null,[{key:"credential",value:function(e,t){return XI._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(Ox){return null}}}]),n}(sT);fT.GOOGLE_SIGN_IN_METHOD="google.com",fT.PROVIDER_ID="google.com";var hT=function(e){Bt(n,e);var t=Gt(n);function n(){return Vt(this,n),t.call(this,"github.com")}return zt(n,null,[{key:"credential",value:function(e){return XI._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Ox){return null}}}]),n}(sT);hT.GITHUB_SIGN_IN_METHOD="github.com",hT.PROVIDER_ID="github.com";var dT=function(e){Bt(n,e);var t=Gt(n);function n(e,r){var i;return Vt(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return zt(n,[{key:"_getIdTokenResponse",value:function(e){return QI(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,QI(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,QI(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(SI),pT=function(e){Bt(n,e);var t=Gt(n);function n(e){return Vt(this,n),oS(e.startsWith("saml."),"argument-error"),t.call(this,e)}return zt(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=dT.fromJSON(e);return oS(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return dT._create(r,n)}catch(BP){return null}}}]),n}(uT),vT=function(e){Bt(n,e);var t=Gt(n);function n(){return Vt(this,n),t.call(this,"twitter.com")}return zt(n,null,[{key:"credential",value:function(e,t){return XI._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(Ox){return null}}}]),n}(sT);function mT(e,t){return yT.apply(this,arguments)}function yT(){return yT=Jn(Yn().mark((function e(t,n){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",SS(t,"POST","/v1/accounts:signUp",kS(t,n)));case 1:case"end":return e.stop()}}),e)}))),yT.apply(this,arguments)}vT.TWITTER_SIGN_IN_METHOD="twitter.com",vT.PROVIDER_ID="twitter.com";var gT=function(){function e(t){Vt(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return zt(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Jn(Yn().mark((function t(n,r,i){var a,o,u,s,c=arguments;return Yn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,eI._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=bT(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Jn(Yn().mark((function t(n,r,i){var a;return Yn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=bT(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function bT(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function kT(){return kT=Jn(Yn().mark((function e(t){var n,r,i,a;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=kI(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new gT({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,mT(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,gT._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),kT.apply(this,arguments)}var wT=function(e){Bt(n,e);var t=Gt(n);function n(e,r,i,a){var o,u;return Vt(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(Wt(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return zt(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Mo);function xT(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw wT._fromErrorAndOperation(e,n,t,r);throw n}))}function ET(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function _T(e,t){return ST.apply(this,arguments)}function ST(){return ST=Jn(Yn().mark((function e(t,n){var r,i,a,o;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$o(t),e.next=3,CT(!0,r,n);case 3:return e.t0=PS,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=ET(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),ST.apply(this,arguments)}function IT(e,t){return TT.apply(this,arguments)}function TT(){return TT=Jn(Yn().mark((function e(t,n){var r,i,a=arguments;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=US,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",gT._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),TT.apply(this,arguments)}function CT(e,t,n){return NT.apply(this,arguments)}function NT(){return(NT=Jn(Yn().mark((function e(t,n,r){var i,a;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,WS(n);case 2:i=ET(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",oS(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function AT(e,t){return OT.apply(this,arguments)}function OT(){return OT=Jn(Yn().mark((function e(t,n){var r,i,a,o,u,s,c,l=arguments;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],a=t.auth,o="reauthenticate",e.prev=3,e.next=6,US(t,xT(a,o,n,t),r);case 6:return oS((u=e.sent).idToken,a,"internal-error"),oS(s=VS(u.idToken),a,"internal-error"),c=s.sub,oS(t.uid===c,a,"user-mismatch"),e.abrupt("return",gT._forOperation(t,o,u));case 15:throw e.prev=15,e.t0=e.catch(3),(null===(i=e.t0)||void 0===i?void 0:i.code)==="auth/".concat("user-not-found")&&tS(a,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),OT.apply(this,arguments)}function PT(e,t){return RT.apply(this,arguments)}function RT(){return RT=Jn(Yn().mark((function e(t,n){var r,i,a,o,u=arguments;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,xT(t,i,n);case 4:return a=e.sent,e.next=7,gT._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),RT.apply(this,arguments)}function DT(e,t){return MT.apply(this,arguments)}function MT(){return MT=Jn(Yn().mark((function e(t,n){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",PT(kI(t),n));case 1:case"end":return e.stop()}}),e)}))),MT.apply(this,arguments)}function LT(e,t){return FT.apply(this,arguments)}function FT(){return(FT=Jn(Yn().mark((function e(t,n){var r;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$o(t),e.next=3,CT(!1,r,n.providerId);case 3:return e.abrupt("return",IT(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jT(e,t){return VT.apply(this,arguments)}function VT(){return(VT=Jn(Yn().mark((function e(t,n){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",AT($o(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function UT(e,t){return zT.apply(this,arguments)}function zT(){return zT=Jn(Yn().mark((function e(t,n){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",SS(t,"POST","/v1/accounts:signInWithCustomToken",kS(t,n)));case 1:case"end":return e.stop()}}),e)}))),zT.apply(this,arguments)}function BT(){return BT=Jn(Yn().mark((function e(t,n){var r,i,a;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=kI(t),e.next=3,UT(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,gT._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),BT.apply(this,arguments)}var qT=function(){function e(t,n){Vt(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return zt(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?HT._fromServerResponse(e,t):tS(e,"internal-error")}}]),e}(),HT=function(e){Bt(n,e);var t=Gt(n);function n(e){var r;return Vt(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return zt(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(qT);function WT(e,t,n){var r;oS((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),oS("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(oS(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(oS(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function KT(){return KT=Jn(Yn().mark((function e(t,n,r){var i,a;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=$o(t),a={requestType:"PASSWORD_RESET",email:n},r&&WT(i,a,r),e.next=5,jI(i,a);case 5:case"end":return e.stop()}}),e)}))),KT.apply(this,arguments)}function GT(){return GT=Jn(Yn().mark((function e(t,n,r){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,II($o(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),GT.apply(this,arguments)}function $T(){return $T=Jn(Yn().mark((function e(t,n){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,AI($o(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),$T.apply(this,arguments)}function QT(e,t){return YT.apply(this,arguments)}function YT(){return YT=Jn(Yn().mark((function e(t,n){var r,i,a,o;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$o(t),e.next=3,II(r,{oobCode:n});case 3:i=e.sent,oS(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return oS(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:oS(i.mfaInfo,r,"internal-error");case 13:oS(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=qT._fromServerResponse(kI(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),YT.apply(this,arguments)}function XT(){return XT=Jn(Yn().mark((function e(t,n){var r,i;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,QT($o(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),XT.apply(this,arguments)}function JT(e,t,n){return ZT.apply(this,arguments)}function ZT(){return ZT=Jn(Yn().mark((function e(t,n,r){var i,a,o;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=kI(t),e.next=3,mT(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,gT._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),ZT.apply(this,arguments)}function eC(e,t,n){return DT($o(e),oT.credential(t,n))}function tC(){return tC=Jn(Yn().mark((function e(t,n,r){var i,a;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=$o(t),a={requestType:"EMAIL_SIGNIN",email:n},oS(r.handleCodeInApp,i,"argument-error"),r&&WT(i,a,r),e.next=6,UI(i,a);case 6:case"end":return e.stop()}}),e)}))),tC.apply(this,arguments)}function nC(){return nC=Jn(Yn().mark((function e(t,n,r){var i,a;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=$o(t),oS((a=oT.credentialWithLink(n,r||hS()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",DT(i,a));case 4:case"end":return e.stop()}}),e)}))),nC.apply(this,arguments)}function rC(e,t){return iC.apply(this,arguments)}function iC(){return iC=Jn(Yn().mark((function e(t,n){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wS(t,"POST","/v1/accounts:createAuthUri",kS(t,n)));case 1:case"end":return e.stop()}}),e)}))),iC.apply(this,arguments)}function aC(){return aC=Jn(Yn().mark((function e(t,n){var r,i,a,o;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=dS()?hS():"http://localhost",i={identifier:n,continueUri:r},e.next=4,rC($o(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),aC.apply(this,arguments)}function oC(){return(oC=Jn(Yn().mark((function e(t,n){var r,i,a,o;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$o(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&WT(r.auth,a,n),e.next=8,LI(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uC(){return(uC=Jn(Yn().mark((function e(t,n,r){var i,a,o,u;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=$o(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&WT(i.auth,o,r),e.next=8,BI(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sC(e,t){return cC.apply(this,arguments)}function cC(){return cC=Jn(Yn().mark((function e(t,n){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wS(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),cC.apply(this,arguments)}function lC(){return(lC=Jn(Yn().mark((function e(t,n){var r,i,a,o,u,s,c;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=$o(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,US(a,sC(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fC(e,t,n){return hC.apply(this,arguments)}function hC(){return hC=Jn(Yn().mark((function e(t,n,r){var i,a,o,u;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,US(t,CI(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),hC.apply(this,arguments)}var dC=zt((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Vt(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),pC=function(e){Bt(n,e);var t=Gt(n);function n(e,r,i,a){var o;return Vt(this,n),(o=t.call(this,e,r,i)).username=a,o}return zt(n)}(dC),vC=function(e){Bt(n,e);var t=Gt(n);function n(e,r){return Vt(this,n),t.call(this,e,"facebook.com",r)}return zt(n)}(dC),mC=function(e){Bt(n,e);var t=Gt(n);function n(e,r){return Vt(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return zt(n)}(pC),yC=function(e){Bt(n,e);var t=Gt(n);function n(e,r){return Vt(this,n),t.call(this,e,"google.com",r)}return zt(n)}(dC),gC=function(e){Bt(n,e);var t=Gt(n);function n(e,r,i){return Vt(this,n),t.call(this,e,"twitter.com",r,i)}return zt(n)}(pC);function bC(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=VS(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new dC(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new vC(a,i);case"github.com":return new mC(a,i);case"google.com":return new yC(a,i);case"twitter.com":return new gC(a,i,e.screenName||null);case"custom":case"anonymous":return new dC(a,null);default:return new dC(a,r,i)}}(n)}var kC=function(){function e(t,n){Vt(this,e),this.type=t,this.credential=n}return zt(e,[{key:"toJSON",value:function(){return{multiFactorSession:Pe({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),wC=function(){function e(t,n,r){Vt(this,e),this.session=t,this.hints=n,this.signInResolver=r}return zt(e,[{key:"resolveSignIn",value:function(){var e=Jn(Yn().mark((function e(t){var n;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=kI(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return qT._fromServerResponse(r,e)}));oS(i.mfaPendingCredential,r,"internal-error");var o=kC._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Jn(Yn().mark((function e(t){var a,u,s;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,gT._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return oS(n.user,r,"internal-error"),e.abrupt("return",gT._forOperation(n.user,n.operationType,u));case 17:tS(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function xC(e,t){return wS(e,"POST","/v2/accounts/mfaEnrollment:start",kS(e,t))}function EC(e,t){return wS(e,"POST","/v2/accounts/mfaEnrollment:withdraw",kS(e,t))}var _C=function(){function e(t){var n=this;Vt(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return qT._fromServerResponse(t.auth,e)})))}))}return zt(e,[{key:"getSession",value:function(){var e=Jn(Yn().mark((function e(){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=kC,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Jn(Yn().mark((function e(t,n){var r,i,a;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,US(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Jn(Yn().mark((function e(t){var n,r,i,a;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return i=e.sent,e.next=6,US(this.user,EC(this.user.auth,{idToken:i,mfaEnrollmentId:r}));case 6:return a=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==r})),e.next=10,this.user._updateTokensIfNecessary(a);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),SC=new WeakMap;var IC="__sak",TC=function(){function e(t,n){Vt(this,e),this.storageRetriever=t,this.type=n}return zt(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(IC,"1"),this.storage.removeItem(IC),Promise.resolve(!0)):Promise.resolve(!1)}catch(Ox){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var CC=function(e){Bt(n,e);var t=Gt(n);function n(){var e;return Vt(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Co();return uI(e)||dI(e)}()&&function(){try{return!(!window||window===window.top)}catch(BP){return!1}}(),e.fallbackToPolling=mI(),e._shouldAllowMigration=!0,e}return zt(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);vI()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Jn(Yn().mark((function e(t,r){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yo(qt(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Jn(Yn().mark((function e(t){var r;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yo(qt(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Jn(Yn().mark((function e(t){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yo(qt(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(TC);CC.type="LOCAL";var NC=CC,AC=function(e){Bt(n,e);var t=Gt(n);function n(){return Vt(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return zt(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(TC);AC.type="SESSION";var OC=AC;function PC(e){return Promise.all(e.map(function(){var e=Jn(Yn().mark((function e(t){var n;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var RC=function(){function e(t){Vt(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return zt(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Jn(Yn().mark((function e(t){var n,r,i,a,o,u,s,c;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Jn(Yn().mark((function e(t){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,PC(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function DC(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}RC.receivers=[];var MC=function(){function e(t){Vt(this,e),this.target=t,this.handlers=new Set}return zt(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Jn(Yn().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=DC("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function LC(){return window}function FC(){return"undefined"!==typeof LC().WorkerGlobalScope&&"function"===typeof LC().importScripts}function jC(){return VC.apply(this,arguments)}function VC(){return(VC=Jn(Yn().mark((function e(){var t;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function UC(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var zC="firebaseLocalStorageDb",BC="firebaseLocalStorage",qC="fbase_key",HC=function(){function e(t){Vt(this,e),this.request=t}return zt(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function WC(e,t){return e.transaction([BC],t?"readwrite":"readonly").objectStore(BC)}function KC(){var e=indexedDB.deleteDatabase(zC);return new HC(e).toPromise()}function GC(){var e=indexedDB.open(zC,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(BC,{keyPath:qC})}catch(BP){n(BP)}})),e.addEventListener("success",Jn(Yn().mark((function n(){var r;return Yn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(BC)){n.next=12;break}return r.close(),n.next=5,KC();case 5:return n.t0=t,n.next=8,GC();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function $C(e,t,n){return QC.apply(this,arguments)}function QC(){return QC=Jn(Yn().mark((function e(t,n,r){var i,a;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=WC(t,!0).put((Pe(i={},qC,n),Pe(i,"value",r),i)),e.abrupt("return",new HC(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),QC.apply(this,arguments)}function YC(e,t){return XC.apply(this,arguments)}function XC(){return XC=Jn(Yn().mark((function e(t,n){var r,i;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=WC(t,!1).get(n),e.next=3,new HC(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),XC.apply(this,arguments)}function JC(e,t){var n=WC(e,!0).delete(t);return new HC(n).toPromise()}var ZC=function(){function e(){Vt(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return zt(e,[{key:"_openDb",value:function(){var e=Jn(Yn().mark((function e(){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,GC();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Jn(Yn().mark((function e(t){var n,r;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Jn(Yn().mark((function e(){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",FC()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Jn(Yn().mark((function e(){var t=this;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=RC._getInstance(FC()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Jn(Yn().mark((function e(n,r){var i;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Jn(Yn().mark((function e(t,n){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Jn(Yn().mark((function e(){var t,n,r;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jC();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new MC(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Jn(Yn().mark((function e(t){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&UC()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Jn(Yn().mark((function e(){var t;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,GC();case 5:return t=e.sent,e.next=8,$C(t,IC,"1");case 8:return e.next=10,JC(t,IC);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Jn(Yn().mark((function e(t){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Jn(Yn().mark((function e(t,n){var r=this;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Jn(Yn().mark((function e(){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return $C(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Jn(Yn().mark((function e(t){var n;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return YC(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Jn(Yn().mark((function e(t){var n=this;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Jn(Yn().mark((function e(){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return JC(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Jn(Yn().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=WC(e,!1).getAll();return new HC(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=go(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Jn(Yn().mark((function t(){return Yn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();ZC.type="LOCAL";var eN=ZC;function tN(e,t){return wS(e,"POST","/v2/accounts/mfaSignIn:start",kS(e,t))}function nN(e){return rN.apply(this,arguments)}function rN(){return rN=Jn(Yn().mark((function e(t){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wS(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),rN.apply(this,arguments)}function iN(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=nS("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function aN(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var oN=1e12,uN=function(){function e(t){Vt(this,e),this.auth=t,this.counter=oN,this._widgets=new Map}return zt(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new sN(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||oN;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||oN;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Jn(Yn().mark((function e(t){var n,r;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||oN,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),sN=function(){function e(t,n,r){var i=this;Vt(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;oS(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return zt(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(BP){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(BP){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var cN=aN("rcb"),lN=new vS(3e4,6e4),fN="https://www.google.com/recaptcha/api.js?",hN=function(){function e(){Vt(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!LC().grecaptcha}return zt(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return oS(dN(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(LC().grecaptcha):new Promise((function(r,i){var a=LC().setTimeout((function(){i(nS(e,"network-request-failed"))}),lN.get());LC()[cN]=function(){LC().clearTimeout(a),delete LC()[cN];var o=LC().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(nS(e,"internal-error"))},iN("".concat(fN,"?").concat(Bo({onload:cN,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(nS(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!LC().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function dN(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var pN=function(){function e(){Vt(this,e)}return zt(e,[{key:"load",value:function(){var e=Jn(Yn().mark((function e(t){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new uN(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),vN="recaptcha",mN={theme:"light",type:"image"},yN=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},mN),r=arguments.length>2?arguments[2]:void 0;Vt(this,e),this.parameters=n,this.type=vN,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=kI(r),this.isInvisible="invisible"===this.parameters.size,oS("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;oS(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new pN:new hN,this.validateStartingState()}return zt(e,[{key:"verify",value:function(){var e=Jn(Yn().mark((function e(){var t,n,r,i=this;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(BP){return Promise.reject(BP)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){oS(!this.parameters.sitekey,this.auth,"argument-error"),oS(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),oS("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=LC()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){oS(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Jn(Yn().mark((function e(){var t,n;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Jn(Yn().mark((function e(){var t;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return oS(dS()&&!FC(),this.auth,"internal-error"),e.next=3,gN();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,nN(this.auth);case 8:oS(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return oS(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function gN(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var bN=function(){function e(t,n){Vt(this,e),this.verificationId=t,this.onConfirmation=n}return zt(e,[{key:"confirm",value:function(e){var t=iT._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function kN(){return kN=Jn(Yn().mark((function e(t,n,r){var i,a;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=kI(t),e.next=3,_N(i,n,$o(r));case 3:return a=e.sent,e.abrupt("return",new bN(a,(function(e){return DT(i,e)})));case 5:case"end":return e.stop()}}),e)}))),kN.apply(this,arguments)}function wN(e,t,n){return xN.apply(this,arguments)}function xN(){return(xN=Jn(Yn().mark((function e(t,n,r){var i,a;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=$o(t),e.next=3,CT(!1,i,"phone");case 3:return e.next=5,_N(i.auth,n,$o(r));case 5:return a=e.sent,e.abrupt("return",new bN(a,(function(e){return LT(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function EN(){return(EN=Jn(Yn().mark((function e(t,n,r){var i,a;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=$o(t),e.next=3,_N(i.auth,n,$o(r));case 3:return a=e.sent,e.abrupt("return",new bN(a,(function(e){return jT(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _N(e,t,n){return SN.apply(this,arguments)}function SN(){return SN=Jn(Yn().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,oS("string"===typeof a,t,"argument-error"),oS(r.type===vN,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return oS("enroll"===u.type,t,"internal-error"),e.next=13,xC(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return oS("signin"===u.type,t,"internal-error"),oS(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,tN(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,JI(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),SN.apply(this,arguments)}function IN(){return(IN=Jn(Yn().mark((function e(t,n){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,IT($o(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var TN=function(){function e(t){Vt(this,e),this.providerId=e.PROVIDER_ID,this.auth=kI(t)}return zt(e,[{key:"verifyPhoneNumber",value:function(e,t){return _N(this.auth,e,$o(t))}}],[{key:"credential",value:function(e,t){return iT._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?iT._fromTokenResponse(n,r):null}}]),e}();function CN(e,t){return t?lS(t):(oS(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}TN.PROVIDER_ID="phone",TN.PHONE_SIGN_IN_METHOD="phone";var NN=function(e){Bt(n,e);var t=Gt(n);function n(e){var r;return Vt(this,n),(r=t.call(this,"custom","custom")).params=e,r}return zt(n,[{key:"_getIdTokenResponse",value:function(e){return QI(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return QI(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return QI(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(SI);function AN(e){return PT(e.auth,new NN(e),e.bypassAuthState)}function ON(e){var t=e.auth,n=e.user;return oS(n,t,"internal-error"),AT(n,new NN(e),e.bypassAuthState)}function PN(e){return RN.apply(this,arguments)}function RN(){return RN=Jn(Yn().mark((function e(t){var n,r;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,oS(r=t.user,n,"internal-error"),e.abrupt("return",IT(r,new NN(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),RN.apply(this,arguments)}var DN=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Vt(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return zt(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Jn(Yn().mark((function t(n,r){return Yn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Jn(Yn().mark((function e(t){var n,r,i,a,o,u,s;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return AN;case"linkViaPopup":case"linkViaRedirect":return PN;case"reauthViaPopup":case"reauthViaRedirect":return ON;default:tS(this.auth,"internal-error")}}},{key:"resolve",value:function(e){sS(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){sS(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),MN=new vS(2e3,1e4);function LN(e,t,n){return FN.apply(this,arguments)}function FN(){return FN=Jn(Yn().mark((function e(t,n,r){var i,a,o;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=kI(t),iS(t,n,uT),a=CN(i,r),o=new zN(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),FN.apply(this,arguments)}function jN(){return(jN=Jn(Yn().mark((function e(t,n,r){var i,a,o;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return iS((i=$o(t)).auth,n,uT),a=CN(i.auth,r),o=new zN(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function VN(e,t,n){return UN.apply(this,arguments)}function UN(){return(UN=Jn(Yn().mark((function e(t,n,r){var i,a,o;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return iS((i=$o(t)).auth,n,uT),a=CN(i.auth,r),o=new zN(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var zN=function(e){Bt(n,e);var t=Gt(n);function n(e,r,i,a,o){var u;return Vt(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Wt(u),u}return zt(n,[{key:"executeNotNull",value:function(){var e=Jn(Yn().mark((function e(){var t;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return oS(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Jn(Yn().mark((function e(){var t,n=this;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sS(1===this.filter.length,"Popup operations only handle one event"),t=DC(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(nS(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(nS(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(nS(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,MN.get())}()}}]),n}(DN);zN.currentPopupAction=null;var BN=new Map,qN=function(e){Bt(n,e);var t=Gt(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Vt(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return zt(n,[{key:"execute",value:function(){var e=Jn(Yn().mark((function e(){var t,r;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=BN.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,HN(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,yo(qt(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:BN.set(this.auth._key(),t);case 21:return this.bypassAuthState||BN.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Jn(Yn().mark((function e(t){var r;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",yo(qt(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",yo(qt(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Jn(Yn().mark((function e(){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(DN);function HN(e,t){return WN.apply(this,arguments)}function WN(){return WN=Jn(Yn().mark((function e(t,n){var r,i,a;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=YN(n),i=QN(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),WN.apply(this,arguments)}function KN(e,t){return GN.apply(this,arguments)}function GN(){return GN=Jn(Yn().mark((function e(t,n){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",QN(t)._set(YN(n),"true"));case 1:case"end":return e.stop()}}),e)}))),GN.apply(this,arguments)}function $N(e,t){BN.set(e._key(),t)}function QN(e){return lS(e._redirectPersistence)}function YN(e){return rI("pendingRedirect",e.config.apiKey,e.name)}function XN(e,t,n){return function(e,t,n){return JN.apply(this,arguments)}(e,t,n)}function JN(){return JN=Jn(Yn().mark((function e(t,n,r){var i,a;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=kI(t),iS(t,n,uT),a=CN(i,r),e.next=5,KN(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),JN.apply(this,arguments)}function ZN(e,t,n){return function(e,t,n){return eA.apply(this,arguments)}(e,t,n)}function eA(){return(eA=Jn(Yn().mark((function e(t,n,r){var i,a,o;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return iS((i=$o(t)).auth,n,uT),a=CN(i.auth,r),e.next=5,KN(a,i.auth);case 5:return e.next=7,uA(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tA(e,t,n){return function(e,t,n){return nA.apply(this,arguments)}(e,t,n)}function nA(){return(nA=Jn(Yn().mark((function e(t,n,r){var i,a,o;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return iS((i=$o(t)).auth,n,uT),a=CN(i.auth,r),e.next=5,CT(!1,i,n.providerId);case 5:return e.next=7,KN(a,i.auth);case 7:return e.next=9,uA(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rA(e,t){return iA.apply(this,arguments)}function iA(){return iA=Jn(Yn().mark((function e(t,n){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kI(t)._initializationPromise;case 2:return e.abrupt("return",aA(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),iA.apply(this,arguments)}function aA(e,t){return oA.apply(this,arguments)}function oA(){return oA=Jn(Yn().mark((function e(t,n){var r,i,a,o,u,s=arguments;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=kI(t),a=CN(i,n),o=new qN(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),oA.apply(this,arguments)}function uA(e){return sA.apply(this,arguments)}function sA(){return(sA=Jn(Yn().mark((function e(t){var n;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=DC("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var cA=function(){function e(t){Vt(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return zt(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fA(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!fA(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(nS(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(lA(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(lA(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function lA(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function fA(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function hA(e){return dA.apply(this,arguments)}function dA(){return dA=Jn(Yn().mark((function e(t){var n,r=arguments;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",wS(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),dA.apply(this,arguments)}var pA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vA=/^https?/;function mA(){return mA=Jn(Yn().mark((function e(t){var n,r,i,a,o;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,hA(t);case 4:n=e.sent,r=n.authorizedDomains,i=go(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!yA(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:tS(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),mA.apply(this,arguments)}function yA(e){var t=hS(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!vA.test(r))return!1;if(pA.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var gA=new vS(3e4,6e4);function bA(){var e=LC().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=ln(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var kA=null;function wA(e){return kA=kA||function(e){return new Promise((function(t,n){var r,i,a;function o(){bA(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){bA(),n(nS(e,"network-request-failed"))},timeout:gA.get()})}if(null===(i=null===(r=LC().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=LC().gapi)||void 0===a?void 0:a.load)){var u=aN("iframefcb");return LC()[u]=function(){gapi.load?o():n(nS(e,"network-request-failed"))},iN("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw kA=null,e}))}(e),kA}var xA=new vS(5e3,15e3),EA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_A=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function SA(e){var t=e.config;oS(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?mS(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Bu},i=_A.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Bo(r).slice(1))}function IA(e){return TA.apply(this,arguments)}function TA(){return TA=Jn(Yn().mark((function e(t){var n,r;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wA(t);case 2:return n=e.sent,oS(r=LC().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:SA(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:EA,dontclear:!0},(function(e){return new Promise(function(){var n=Jn(Yn().mark((function n(r,i){var a,o,u;return Yn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){LC().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=nS(t,"network-request-failed"),o=LC().setTimeout((function(){i(a)}),xA.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),TA.apply(this,arguments)}var CA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},NA="_blank",AA="http://localhost",OA=function(){function e(t){Vt(this,e),this.window=t,this.associatedEvent=null}return zt(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(BP){}}}]),e}();function PA(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",c=Object.assign(Object.assign({},CA),{width:r.toString(),height:i.toString(),top:a,left:o}),l=Co().toLowerCase();n&&(u=sI(l)?NA:n),oI(l)&&(t=t||AA,c.scrollbars="yes");var f=Object.entries(c).reduce((function(e,t){var n=s(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(pI(l)&&"_self"!==u)return RA(t||"",u),new OA(null);var h=window.open(t||"",u,f);oS(h,e,"popup-blocked");try{h.focus()}catch(BP){}return new OA(h)}function RA(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var DA="__/auth/handler",MA="emulator/auth/handler";function LA(e,t,n,r,i,a){oS(e.config.authDomain,e,"auth-domain-config-required"),oS(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Bu,eventId:i};if(t instanceof uT){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,c=Object.entries(a||{});u<c.length;u++){var l=s(c[u],2),f=l[0],h=l[1];o[f]=h}}if(t instanceof sT){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(DA);return mS(t,MA)}(e),"?").concat(Bo(p).slice(1))}var FA="webStorageSupport",jA=function(){function e(){Vt(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=OC,this._completeRedirectFn=aA,this._overrideRedirectResult=$N}return zt(e,[{key:"_openPopup",value:function(){var e=Jn(Yn().mark((function e(t,n,r,i){var a,o;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sS(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=LA(t,n,r,hS(),i),e.abrupt("return",PA(t,o,DC()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Jn(Yn().mark((function e(t,n,r,i){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=LA(t,n,r,hS(),i),LC().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(sS(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Jn(Yn().mark((function e(t){var n,r;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,IA(t);case 2:return n=e.sent,r=new cA(t),n.register("authEvent",(function(e){return oS(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(FA,{type:FA},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),tS(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return mA.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return mI()||uI()||dI()}}]),e}(),VA=jA,UA=function(){function e(t){Vt(this,e),this.factorId=t}return zt(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return uS("unexpected MultiFactorSessionType")}}}]),e}(),zA=function(e){Bt(n,e);var t=Gt(n);function n(e){var r;return Vt(this,n),(r=t.call(this,"phone")).credential=e,r}return zt(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return wS(e,"POST","/v2/accounts/mfaEnrollment:finalize",kS(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return wS(e,"POST","/v2/accounts/mfaSignIn:finalize",kS(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(UA),BA=function(){function e(){Vt(this,e)}return zt(e,null,[{key:"assertion",value:function(e){return zA._fromCredential(e)}}]),e}();BA.FACTOR_ID="phone";var qA,HA="@firebase/auth",WA="0.20.4",KA=function(){function e(t){Vt(this,e),this.auth=t,this.internalListeners=new Map}return zt(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Jn(Yn().mark((function e(t){var n;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){oS(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function GA(){return window}qA="Browser",Mu(new Qo("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){oS(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),oS(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:qA,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yI(qA)},i=new bI(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(lS);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Mu(new Qo("auth-internal",(function(e){return function(e){return new KA(e)}(kI(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),$u(HA,WA,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(qA)),$u(HA,WA,"esm2017");function $A(e,t,n){return QA.apply(this,arguments)}function QA(){return QA=Jn(Yn().mark((function e(t,n,r){var i,a,o,u,s;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=GA(),o=a.BuildInfo,sS(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,tO(n.sessionId);case 4:return u=e.sent,s={},dI()?s.ibi=o.packageName:lI()?s.apn=o.packageName:tS(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",LA(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),QA.apply(this,arguments)}function YA(){return YA=Jn(Yn().mark((function e(t){var n,r,i;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=GA(),r=n.BuildInfo,i={},dI()?i.iosBundleId=r.packageName:lI()?i.androidPackageName=r.packageName:tS(t,"operation-not-supported-in-this-environment"),e.next=5,hA(t,i);case 5:case"end":return e.stop()}}),e)}))),YA.apply(this,arguments)}function XA(e){var t=GA().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Co();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function JA(e,t,n){return ZA.apply(this,arguments)}function ZA(){return ZA=Jn(Yn().mark((function e(t,n,r){var i,a,o;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=GA(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(nS(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),lI()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),ZA.apply(this,arguments)}function eO(e){var t,n,r,i,a,o,u,s,c,l,f=GA();oS("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),oS("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),oS("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),oS("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),oS("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function tO(e){return nO.apply(this,arguments)}function nO(){return(nO=Jn(Yn().mark((function e(t){var n,r,i;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=rO(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rO(e){if(sS(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var iO=function(e){Bt(n,e);var t=Gt(n);function n(){var e;return Vt(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return zt(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),yo(qt(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Jn(Yn().mark((function e(){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(cA);function aO(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:lO(),postBody:null,tenantId:e.tenantId,error:nS(e,"no-auth-event")}}function oO(e,t){return fO()._set(hO(e),t)}function uO(e){return sO.apply(this,arguments)}function sO(){return sO=Jn(Yn().mark((function e(t){var n;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fO()._get(hO(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,fO()._remove(hO(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),sO.apply(this,arguments)}function cO(e,t){var n,r,i=function(e){var t=dO(e),n=t.link?decodeURIComponent(t.link):void 0,r=dO(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return dO(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=dO(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(BP){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?nS(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function lO(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function fO(){return lS(NC)}function hO(e){return rI("authEvent",e.config.apiKey,e.name)}function dO(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=Cr(e.split("?"));t[0];return qo(t.slice(1).join("?"))}var pO=function(){function e(){Vt(this,e),this._redirectPersistence=OC,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=aA,this._overrideRedirectResult=$N}return zt(e,[{key:"_initialize",value:function(){var e=Jn(Yn().mark((function e(t){var n,r;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new iO(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){tS(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Jn(Yn().mark((function e(t,n,r,i){var a,o,u,s;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return eO(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),BN.clear(),e.next=10,this._originValidation(t);case 10:return o=aO(t,r,i),e.next=13,oO(t,o);case 13:return e.next=15,$A(t,o,n);case 15:return u=e.sent,e.next=18,XA(u);case 18:return s=e.sent,e.abrupt("return",JA(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return YA.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=GA(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Jn(Yn().mark((function n(){return Yn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,uO(e);case 2:t.onEvent(mO());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=Jn(Yn().mark((function n(r){var i,a;return Yn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,uO(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=cO(i,r.url)),t.onEvent(a||mO());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");GA().handleOpenURL=function(){var e=Jn(Yn().mark((function e(t){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(BP){console.error(BP)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),vO=pO;function mO(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:nS("no-auth-event")}}function yO(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function gO(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Co();return!("file:"!==yO()&&"ionic:"!==yO()&&"capacitor:"!==yO()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function bO(){return Ro()&&11===(null===document||void 0===document?void 0:document.documentMode)}function kO(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Co();return/Edge\/\d+/.test(e)}function wO(){try{var e=self.localStorage,t=DC();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Co();return bO()||kO(e)}()||Do()}catch(BP){return xO()&&Do()}return!1}function xO(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function EO(){return("http:"===yO()||"https:"===yO()||Oo()||gO())&&!(Po()||Ao())&&wO()&&!xO()}function _O(){return gO()&&"undefined"!==typeof document}function SO(){return IO.apply(this,arguments)}function IO(){return(IO=Jn(Yn().mark((function e(){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_O()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var TO={LOCAL:"local",NONE:"none",SESSION:"session"},CO=oS,NO="persistence";function AO(e,t){CO(Object.values(TO).includes(t),e,"invalid-persistence-type"),Po()?CO(t!==TO.SESSION,e,"unsupported-persistence-type"):Ao()?CO(t===TO.NONE,e,"unsupported-persistence-type"):xO()?CO(t===TO.NONE||t===TO.LOCAL&&Do(),e,"unsupported-persistence-type"):CO(t===TO.NONE||wO(),e,"unsupported-persistence-type")}function OO(e){return PO.apply(this,arguments)}function PO(){return PO=Jn(Yn().mark((function e(t){var n,r;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=RO(),r=rI(NO,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),PO.apply(this,arguments)}function RO(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(BP){return null}}var DO=oS,MO=function(){function e(){Vt(this,e),this.browserResolver=lS(VA),this.cordovaResolver=lS(vO),this.underlyingResolver=null,this._redirectPersistence=OC,this._completeRedirectFn=aA,this._overrideRedirectResult=$N}return zt(e,[{key:"_initialize",value:function(){var e=Jn(Yn().mark((function e(t){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Jn(Yn().mark((function e(t,n,r,i){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Jn(Yn().mark((function e(t,n,r,i){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return _O()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return DO(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Jn(Yn().mark((function e(){var t;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,SO();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function LO(e){return e.unwrap()}function FO(e,t){var n,r,i=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===(r=t)||void 0===r?void 0:r.code))t.resolver=new BO(e,function(e,t){var n,r=$o(e),i=t;return oS(t.customData.operationType,r,"argument-error"),oS(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),wC._fromError(r,i)}(e,t));else if(i){var a=jO(t),o=t;a&&(o.credential=a,o.tenantId=i.tenantId||void 0,o.email=i.email||void 0,o.phoneNumber=i.phoneNumber||void 0)}}function jO(e){var t=(e instanceof Mo?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Mo)&&"temporaryProof"in t&&"phoneNumber"in t)return TN.credentialFromResult(e);var n,r=t.providerId;if(!r||r===z_)return null;switch(r){case U_:n=fT;break;case j_:n=lT;break;case V_:n=hT;break;case B_:n=vT;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?dT._create(r,u):XI._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new cT(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof Mo?n.credentialFromError(e):n.credentialFromResult(e)}function VO(e,t){return t.catch((function(t){throw t instanceof Mo&&FO(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,jO(t)),additionalUserInfo:bC(e),user:qO.getOrCreate(r)}}))}function UO(e,t){return zO.apply(this,arguments)}function zO(){return zO=Jn(Yn().mark((function e(t,n){var r;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return VO(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),zO.apply(this,arguments)}var BO=function(){function e(t,n){Vt(this,e),this.resolver=n,this.auth=function(e){return e.wrapped()}(t)}return zt(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return VO(LO(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),qO=function(){function e(t){Vt(this,e),this._delegate=t,this.multiFactor=function(e){var t=$o(e);return SC.has(t)||SC.set(t,_C._fromUser(t)),SC.get(t)}(t)}return zt(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Jn(Yn().mark((function e(t){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",VO(this.auth,LT(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Jn(Yn().mark((function e(t,n){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",UO(this.auth,wN(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Jn(Yn().mark((function e(t){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",VO(this.auth,VN(this._delegate,t,MO)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Jn(Yn().mark((function e(t){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,OO(kI(this.auth));case 2:return e.abrupt("return",tA(this._delegate,t,MO));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Jn(Yn().mark((function e(t){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",VO(this.auth,jT(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return UO(this.auth,function(e,t,n){return EN.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return VO(this.auth,function(e,t,n){return jN.apply(this,arguments)}(this._delegate,e,MO))}},{key:"reauthenticateWithRedirect",value:function(){var e=Jn(Yn().mark((function e(t){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,OO(kI(this.auth));case 2:return e.abrupt("return",ZN(this._delegate,t,MO));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return oC.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Jn(Yn().mark((function e(t){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_T(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return fC($o(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return fC($o(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return IN.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return lC.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return uC.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();qO.USER_MAP=new WeakMap;var HO=oS,WO=function(){function e(t,n){if(Vt(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;HO(r,"invalid-api-key",{appName:t.name}),HO(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?MO:void 0;this._delegate=n.initialize({options:{persistence:GO(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Y_),this.linkUnderlyingAuth()}return zt(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?qO.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){xI(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return $T.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return QT(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return GT.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Jn(Yn().mark((function e(t,n){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",VO(this._delegate,JT(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return aC.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=aT.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Jn(Yn().mark((function e(){var t;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return HO(EO(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,rA(this._delegate,MO);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",VO(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){kI(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=KO(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=KO(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return tC.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return KT.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Jn(Yn().mark((function e(t){var n,r;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:AO(this._delegate,t),e.t0=t,e.next=e.t0===TO.SESSION?4:e.t0===TO.LOCAL?6:e.t0===TO.NONE?11:13;break;case 4:return n=OC,e.abrupt("break",14);case 6:return e.next=8,lS(eN)._isAvailable();case 8:return r=e.sent,n=r?eN:NC,e.abrupt("break",14);case 11:return n=nI,e.abrupt("break",14);case 13:return e.abrupt("return",tS("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return VO(this._delegate,function(e){return kT.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return VO(this._delegate,DT(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return VO(this._delegate,function(e,t){return BT.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return VO(this._delegate,eC(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return VO(this._delegate,function(e,t,n){return nC.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return UO(this._delegate,function(e,t,n){return kN.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Jn(Yn().mark((function e(t){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return HO(EO(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",VO(this._delegate,LN(this._delegate,t,MO)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Jn(Yn().mark((function e(t){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return HO(EO(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,OO(this._delegate);case 3:return e.abrupt("return",XN(this._delegate,t,MO));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return XT.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function KO(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&qO.getOrCreate(e))},error:t,complete:n}}function GO(e,t){var n=function(e,t){var n=RO();if(!n)return[];var r=rI(NO,e,t);switch(n.getItem(r)){case TO.NONE:return[nI];case TO.LOCAL:return[eN,OC];case TO.SESSION:return[OC];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(eN)||n.push(eN),"undefined"!==typeof window)for(var r=0,i=[NC,OC];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(nI)||n.push(nI),n}WO.Persistence=TO;var $O=function(){function e(){Vt(this,e),this.providerId="phone",this._delegate=new TN(LO(M_.auth()))}return zt(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return TN.credential(e,t)}}]),e}();$O.PHONE_SIGN_IN_METHOD=TN.PHONE_SIGN_IN_METHOD,$O.PROVIDER_ID=TN.PROVIDER_ID;var QO,YO=oS,XO=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:M_.app();Vt(this,e),YO(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new yN(t,n,i.auth()),this.type=this._delegate.type}return zt(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(QO=M_).INTERNAL.registerComponent(new Qo("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new WO(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:q_,PASSWORD_RESET:H_,RECOVER_EMAIL:W_,REVERT_SECOND_FACTOR_ADDITION:K_,VERIFY_AND_CHANGE_EMAIL:G_,VERIFY_EMAIL:$_}},EmailAuthProvider:oT,FacebookAuthProvider:lT,GithubAuthProvider:hT,GoogleAuthProvider:fT,OAuthProvider:cT,SAMLAuthProvider:pT,PhoneAuthProvider:$O,PhoneMultiFactorGenerator:BA,RecaptchaVerifier:XO,TwitterAuthProvider:vT,Auth:WO,AuthCredential:SI,Error:Mo}).setInstantiationMode("LAZY").setMultipleInstances(!1)),QO.registerVersion("@firebase/auth-compat","0.2.17");function JO(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new jh("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function ZO(){if("undefined"===typeof Uint8Array)throw new jh("unimplemented","Uint8Arrays are not available in this environment.")}function eP(){if("undefined"==typeof atob)throw new jh("unimplemented","Blobs are unavailable in Firestore in this environment.")}var tP=function(){function e(t){Vt(this,e),this._delegate=t}return zt(e,[{key:"toBase64",value:function(){return eP(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return ZO(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return eP(),new e(sE.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return ZO(),new e(sE.fromUint8Array(t))}}]),e}();function nP(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=go(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var rP=function(){function e(){Vt(this,e)}return zt(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){oE(e=Fx(e,Jx));var n=Zx(e),r=e._freezeSettings(),i=new sx;return tE(n,i,new ox(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){oE(e=Fx(e,Jx));var t=Zx(e),n=e._freezeSettings(),r=new sx;return tE(t,r,new ux(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new jh(Fh.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Vh;return e._queue.enqueueAndForgetEvenWhileRestricted(Jn(Yn().mark((function n(){return Yn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Jn(Yn().mark((function e(t){var n;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(wd.V()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,wd.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(rb(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),iP=function(){function e(t,n,r){var i=this;Vt(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Xd||(this._appCompat=t)}return zt(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Ph("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};zx(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return nE(this._delegate)}},{key:"disableNetwork",value:function(){return rE(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&Rx("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Vh;return e.asyncQueue.enqueueAndForget(Jn(Yn().mark((function n(){return Yn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Iw,n.next=3,Ix(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(Zx(e=Fx(e,Jx)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return w_(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new jh("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new gP(this,Wx(this._delegate,e))}catch(BP){throw lP(BP,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new cP(this,Kx(this._delegate,e))}catch(BP){throw lP(BP,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new vP(this,function(e,t){if(e=Fx(e,Ux),Px("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new jh(Fh.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new qx(e,null,function(e){return new Gp(nd.emptyPath(),e)}(t))}(this._delegate,e))}catch(BP){throw lP(BP,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return I_(this._delegate,(function(n){return e(new oP(t,n))}))}},{key:"batch",value:function(){var e=this;return Zx(this._delegate),new uP(new h_(this._delegate,(function(t){return x_(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return iE(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return aE(this._delegate,e).then((function(e){return e?new vP(t,e):null}))}}]),e}(),aP=function(e){Bt(n,e);var t=Gt(n);function n(e){var r;return Vt(this,n),(r=t.call(this)).firestore=e,r}return zt(n,[{key:"convertBytes",value:function(e){return new tP(new sE(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return cP.forKey(t,this.firestore,null)}}]),n}(c_);var oP=function(){function e(t,n){Vt(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new aP(t)}return zt(e,[{key:"get",value:function(e){var t=this,n=bP(e);return this._delegate.get(n).then((function(e){return new dP(t._firestore,new zE(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=bP(e);return n?(JO("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=bP(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=bP(e);return this._delegate.delete(t),this}}]),e}(),uP=function(){function e(t){Vt(this,e),this._delegate=t}return zt(e,[{key:"set",value:function(e,t,n){var r=bP(e);return n?(JO("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=bP(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=bP(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),sP=function(){function e(t,n,r){Vt(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return zt(e,[{key:"fromFirestore",value:function(e,t){var n=new BE(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new pP(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new aP(t),n),i.set(n,a)),a}}]),e}();sP.INSTANCES=new WeakMap;var cP=function(){function e(t,n){Vt(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new aP(t)}return zt(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new gP(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new gP(this.firestore,Wx(this._delegate,e))}catch(BP){throw lP(BP,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=$o(e))instanceof Bx&&Gx(this._delegate,e)}},{key:"set",value:function(e,t){t=JO("DocumentReference.set",t);try{return t?g_(this._delegate,e,t):g_(this._delegate,e)}catch(BP){throw lP(BP,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?b_(this._delegate,e):b_.apply(void 0,[this._delegate,e,t].concat(r))}catch(BP){throw lP(BP,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return x_(Fx(e.firestore,Jx),[new zv(e._key,Iv.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=fP(n),a=hP(n,(function(t){return new dP(e.firestore,new zE(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return k_(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?v_(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Fx(e,Bx);var t=Fx(e.firestore,Jx);return Nx(Zx(t),e._key,{source:"server"}).then((function(n){return E_(t,e,n)}))}(this._delegate):function(e){e=Fx(e,Bx);var t=Fx(e.firestore,Jx);return Nx(Zx(t),e._key).then((function(n){return E_(t,e,n)}))}(this._delegate),t.then((function(e){return new dP(n.firestore,new zE(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(sP.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new jh("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new Bx(n._delegate,r,new ad(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new Bx(n._delegate,r,t))}}]),e}();function lP(e,t,n){return e.message=e.message.replace(t,n),e}function fP(e){var t,n=go(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!nP(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function hP(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=nP(e[0])?e[0]:nP(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var dP=function(){function e(t,n){Vt(this,e),this._firestore=t,this._delegate=n}return zt(e,[{key:"ref",get:function(){return new cP(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return WE(this._delegate,e._delegate)}}]),e}(),pP=function(e){Bt(n,e);var t=Gt(n);function n(){return Vt(this,n),t.apply(this,arguments)}return zt(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Dh()}(void 0!==t),t}}]),n}(dP),vP=function(){function e(t,n){Vt(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new aP(t)}return zt(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,$E(this._delegate,function(e,t,n){var r=t,i=VE("where",e);return new QE(i,r,n)}(t,n,r)))}catch(BP){throw lP(BP,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,$E(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=VE("orderBy",e);return new YE(n,t)}(t,n)))}catch(BP){throw lP(BP,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,$E(this._delegate,function(e){return jx("limit",e),new XE("limit",e,"F")}(t)))}catch(BP){throw lP(BP,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,$E(this._delegate,function(e){return jx("limitToLast",e),new XE("limitToLast",e,"L")}(t)))}catch(BP){throw lP(BP,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,$E(this._delegate,ZE.apply(void 0,arguments)))}catch(BP){throw lP(BP,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,$E(this._delegate,e_.apply(void 0,arguments)))}catch(BP){throw lP(BP,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,$E(this._delegate,n_.apply(void 0,arguments)))}catch(BP){throw lP(BP,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,$E(this._delegate,r_.apply(void 0,arguments)))}catch(BP){throw lP(BP,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return $x(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?y_(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Fx(e,qx);var t=Fx(e.firestore,Jx),n=Zx(t),r=new p_(t);return Ax(n,e._query,{source:"server"}).then((function(n){return new qE(t,r,e,n)}))}(this._delegate):m_(this._delegate),t.then((function(e){return new yP(n.firestore,new qE(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=fP(n),a=hP(n,(function(t){return new yP(e.firestore,new qE(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return k_(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(sP.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),mP=function(){function e(t,n){Vt(this,e),this._firestore=t,this._delegate=n}return zt(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new pP(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),yP=function(){function e(t,n){Vt(this,e),this._firestore=t,this._delegate=n}return zt(e,[{key:"query",get:function(){return new vP(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new pP(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new mP(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new pP(n._firestore,r))}))}},{key:"isEqual",value:function(e){return WE(this._delegate,e._delegate)}}]),e}(),gP=function(e){Bt(n,e);var t=Gt(n);function n(e,r){var i;return Vt(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return zt(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new cP(this.firestore,e):null}},{key:"doc",value:function(e){try{return new cP(this.firestore,void 0===e?Kx(this._delegate):Kx(this._delegate,e))}catch(BP){throw lP(BP,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=Fx(e.firestore,Jx),r=Kx(e),i=l_(e.converter,t);return x_(n,[gE(yE(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Iv.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new cP(t.firestore,e)}))}},{key:"isEqual",value:function(e){return Gx(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(sP.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(vP);function bP(e){return Fx(e,Bx)}var kP=function(){function e(){Vt(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=vo(uE,n)}return zt(e,[{key:"isEqual",value:function(e){return(e=$o(e))instanceof uE&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(id.keyField().canonicalString())}}]),e}(),wP=function(){function e(t){Vt(this,e),this._delegate=t}return zt(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new wE("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new bE("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=T_.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=C_.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new _E("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),xP={Firestore:iP,GeoPoint:lE,Timestamp:Zh,Blob:tP,Transaction:oP,WriteBatch:uP,DocumentReference:cP,DocumentSnapshot:dP,Query:vP,QueryDocumentSnapshot:pP,QuerySnapshot:yP,CollectionReference:gP,FieldPath:kP,FieldValue:wP,setLogLevel:function(e){!function(e){Ch.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Qo("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},xP)))}(e,(function(e,t){return new iP(e,t,new rP)})),e.registerVersion("@firebase/firestore-compat","0.1.20")}(M_);$u("firebase","9.8.4","app");var EP=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hu();return Lu(e,"firestore").getImmediate()}(qu({apiKey:"AIzaSyD4wKIXfqHZ7OGb2w7a8GuCLdBVSwc11H4",authDomain:"eye-db.firebaseapp.com",projectId:"eye-db",storageBucket:"eye-db.appspot.com",messagingSenderId:"664411119894",appId:"1:664411119894:web:77f1f198e4c6bfac533037"})),_P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hu(),t=Lu(e,"auth");return t.isInitialized()?t.getImmediate():fS(e,{popupRedirectResolver:VA,persistence:[eN,NC,OC]})}(),SP=function(){var e,n=s((0,t.useState)(""),2),r=n[0],i=n[1];(0,t.useEffect)((function(){a()}),[]),(0,t.useEffect)((function(){}),[r]);var a=function(){m_(Wx(EP,"Featured Products")).then((function(e){var t=e.docs.map((function(e){return e.data()}));i(t)})).catch((function(e){return console.log(e.message)}))};return(0,fo.jsxs)("div",{className:"feprduct",children:[(0,fo.jsx)("div",{className:"f-product",children:"Featured Products"}),(0,fo.jsx)("div",{className:"fetch-item",children:null===(e=r[0])||void 0===e?void 0:e.title.map((function(e){return(0,fo.jsxs)(Ne,{className:"fetch",to:"/product/".concat(e.id),children:[(0,fo.jsx)("img",{src:"".concat(e.imageUrl),alt:""},e.id),(0,fo.jsxs)("div",{className:"name-sub",children:[(0,fo.jsx)("div",{className:"fetch-name",children:e.name},e.id),(0,fo.jsx)("div",{className:"fetch-subName",children:e.subName},e.id)]})]})}))})]})},IP=function(){var e,n=s((0,t.useState)(""),2),r=n[0],i=n[1];(0,t.useEffect)((function(){a()}),[]),(0,t.useEffect)((function(){}),[r]);var a=function(){m_(Wx(EP,"Featured Products")).then((function(e){var t=e.docs.map((function(e){return e.data()}));i(t)})).catch((function(e){return console.log(e.message)}))};return(0,fo.jsxs)("div",{className:"reproduct",children:[(0,fo.jsx)("div",{className:"products",children:"Recommended Products"}),(0,fo.jsx)("div",{className:"fetch-item",children:null===(e=r[1])||void 0===e?void 0:e.title_two.map((function(e){return(0,fo.jsxs)("div",{className:"fetch",children:[(0,fo.jsx)("img",{src:e.imageUrl,alt:""},e.id),(0,fo.jsxs)("div",{className:"name-sub",children:[(0,fo.jsx)("div",{className:"fetch-name",children:e.name},e.id),(0,fo.jsx)("div",{className:"fetch-subName",children:e.subName},e.id)]})]})}))})]})},TP=function(){return(0,fo.jsx)("div",{className:"footer",children:(0,fo.jsxs)("div",{className:"footer-logo",children:[(0,fo.jsx)("img",{src:"https://salinaka-ecommerce.web.app/images/logo-full.059e10fa5fedbfb65165e7565ed3936f.png",alt:""}),(0,fo.jsx)("h6",{children:"\xa9 2022"}),(0,fo.jsxs)("div",{className:"developed",children:[" Developed By",(0,fo.jsx)("a",{href:"https://github.com/Yashbharadva",children:"Yash Bharadva"})]}),(0,fo.jsxs)("div",{className:"project",children:[" For this project",(0,fo.jsx)("a",{href:"https://github.com/Yashbharadva/eye-web",children:"Here"})]})]})})},CP=function(){return(0,fo.jsxs)("div",{className:"homepage",children:[(0,fo.jsx)(ho,{}),(0,fo.jsx)(po,{}),(0,fo.jsx)(SP,{}),(0,fo.jsx)(IP,{}),(0,fo.jsx)(TP,{})]})},NP=function(){var e=we();return(0,fo.jsx)("div",{className:"another-navbar",children:(0,fo.jsxs)("div",{className:"navbar-ano",children:[(0,fo.jsx)("img",{src:"https://salinaka-ecommerce.web.app/images/logo-full.059e10fa5fedbfb65165e7565ed3936f.png",alt:"",onClick:function(){return e.push("/")}}),(0,fo.jsxs)("ul",{className:"navigation-bar",children:[(0,fo.jsx)("ui",{className:"home",onClick:function(){return e.push("/")},children:"Home"}),(0,fo.jsx)("ui",{className:"home",onClick:function(){return e.push("/shop-page")},children:"Shop"}),(0,fo.jsx)("ui",{className:"home",children:"Featured"}),(0,fo.jsx)("ui",{className:"home",children:"Recommended"})]}),(0,fo.jsx)("div",{className:"logo-search",children:(0,fo.jsx)("input",{className:"serach-type",type:"search",placeholder:"Search product.."})}),(0,fo.jsx)("div",{className:"logo",children:(0,fo.jsx)(b,{})}),(0,fo.jsx)("div",{className:"cart-bag",children:(0,fo.jsx)(k,{size:"22px"})}),(0,fo.jsx)("div",{className:"sign-in",onClick:function(){return e.push("/sign-in")},children:"Sign-in"})]})})};function AP(e){return p({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"}}]})(e)}var OP=function(){return(0,fo.jsxs)("div",{className:"facebook",children:[(0,fo.jsxs)("div",{className:"but-face",children:[(0,fo.jsx)(AP,{}),"Continue with Facebook"]}),(0,fo.jsxs)("div",{className:"but-goo",children:[(0,fo.jsx)(g,{}),"Continue with Google"]}),(0,fo.jsxs)("div",{className:"but-git",children:[(0,fo.jsx)(m,{}),"Continue with Github"]}),(0,fo.jsx)("div",{className:"or-style",children:"Or"})]})},PP=function(){return{height:0,opacity:0}},RP=function(e){return{height:e.scrollHeight,opacity:1}},DP=function(e,t){return!0===(null===t||void 0===t?void 0:t.deadline)||"height"===t.propertyName},MP={motionName:"ant-motion-collapse",onAppearStart:PP,onEnterStart:PP,onAppearActive:RP,onEnterActive:RP,onLeaveStart:function(e){return{height:e?e.offsetHeight:0}},onLeaveActive:PP,onAppearEnd:DP,onEnterEnd:DP,onLeaveEnd:DP,motionDeadline:500},LP=(Ii("bottomLeft","bottomRight","topLeft","topRight"),function(e,t,n){return void 0!==n?n:"".concat(e,"-").concat(t)}),FP=MP,jP=[];function VP(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return{key:"string"===typeof e?e:"".concat(n,"-").concat(r),error:e,errorStatus:t}}function UP(e){var n=e.help,r=e.helpStatus,i=e.errors,a=void 0===i?jP:i,o=e.warnings,u=void 0===o?jP:o,s=e.className,c=t.useContext(Ei).prefixCls,l=t.useContext(Bn).getPrefixCls,f="".concat(c,"-item-explain"),h=l(),d=t.useMemo((function(){return void 0!==n&&null!==n?[VP(n,r,"help")]:[].concat(ln(a.map((function(e,t){return VP(e,"error","error",t)}))),ln(u.map((function(e,t){return VP(e,"warning","warning",t)}))))}),[n,r,a,u]);return t.createElement(Za,E({},FP,{motionName:"".concat(h,"-show-help"),motionAppear:!1,motionEnter:!1,visible:!!d.length,onLeaveStart:function(e){return e.style.height="auto",{height:e.offsetHeight}}}),(function(e){var n=e.className,r=e.style;return t.createElement("div",{className:je()(f,n,s),style:r},t.createElement(Ja,E({keys:d},FP,{motionName:"".concat(h,"-show-help-item"),component:!1}),(function(e){var n=e.key,r=e.error,i=e.errorStatus,a=e.className,o=e.style;return t.createElement("div",{key:n,role:"alert",className:je()(a,Pe({},"".concat(f,"-").concat(i),i)),style:o},r)})))}))}function zP(e){return"object"==typeof e&&null!=e&&1===e.nodeType}function BP(e,t){return(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e}function qP(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var n=getComputedStyle(e,null);return BP(n.overflowY,t)||BP(n.overflowX,t)||function(e){var t=function(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}}(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)}(e)}return!1}function HP(e,t,n,r,i,a,o,u){return a<e&&o>t||a>e&&o<t?0:a<=e&&u<=n||o>=t&&u>=n?a-e-r:o>t&&u<n||a<e&&u>n?o-t+i:0}function WP(e,t){var n=window,r=t.scrollMode,i=t.block,a=t.inline,o=t.boundary,u=t.skipOverflowHiddenElements,s="function"==typeof o?o:function(e){return e!==o};if(!zP(e))throw new TypeError("Invalid target");for(var c=document.scrollingElement||document.documentElement,l=[],f=e;zP(f)&&s(f);){if((f=f.parentElement)===c){l.push(f);break}null!=f&&f===document.body&&qP(f)&&!qP(document.documentElement)||null!=f&&qP(f,u)&&l.push(f)}for(var h=n.visualViewport?n.visualViewport.width:innerWidth,d=n.visualViewport?n.visualViewport.height:innerHeight,p=window.scrollX||pageXOffset,v=window.scrollY||pageYOffset,m=e.getBoundingClientRect(),y=m.height,g=m.width,b=m.top,k=m.right,w=m.bottom,x=m.left,E="start"===i||"nearest"===i?b:"end"===i?w:b+y/2,_="center"===a?x+g/2:"end"===a?k:x,S=[],I=0;I<l.length;I++){var T=l[I],C=T.getBoundingClientRect(),N=C.height,A=C.width,O=C.top,P=C.right,R=C.bottom,D=C.left;if("if-needed"===r&&b>=0&&x>=0&&w<=d&&k<=h&&b>=O&&w<=R&&x>=D&&k<=P)return S;var M=getComputedStyle(T),L=parseInt(M.borderLeftWidth,10),F=parseInt(M.borderTopWidth,10),j=parseInt(M.borderRightWidth,10),V=parseInt(M.borderBottomWidth,10),U=0,z=0,B="offsetWidth"in T?T.offsetWidth-T.clientWidth-L-j:0,q="offsetHeight"in T?T.offsetHeight-T.clientHeight-F-V:0;if(c===T)U="start"===i?E:"end"===i?E-d:"nearest"===i?HP(v,v+d,d,F,V,v+E,v+E+y,y):E-d/2,z="start"===a?_:"center"===a?_-h/2:"end"===a?_-h:HP(p,p+h,h,L,j,p+_,p+_+g,g),U=Math.max(0,U+v),z=Math.max(0,z+p);else{U="start"===i?E-O-F:"end"===i?E-R+V+q:"nearest"===i?HP(O,R,N,F,V+q,E,E+y,y):E-(O+N/2)+q/2,z="start"===a?_-D-L:"center"===a?_-(D+A/2)+B/2:"end"===a?_-P+j+B:HP(D,P,A,L,j+B,_,_+g,g);var H=T.scrollLeft,W=T.scrollTop;E+=W-(U=Math.max(0,Math.min(W+U,T.scrollHeight-N+q))),_+=H-(z=Math.max(0,Math.min(H+z,T.scrollWidth-A+B)))}S.push({el:T,top:U,left:z})}return S}function KP(e){return e===Object(e)&&0!==Object.keys(e).length}var GP=function(e,t){var n=e.isConnected||e.ownerDocument.documentElement.contains(e);if(KP(t)&&"function"===typeof t.behavior)return t.behavior(n?WP(e,t):[]);if(n){var r=function(e){return!1===e?{block:"end",inline:"nearest"}:KP(e)?e:{block:"start",inline:"nearest"}}(t);return function(e,t){void 0===t&&(t="auto");var n="scrollBehavior"in document.body.style;e.forEach((function(e){var r=e.el,i=e.top,a=e.left;r.scroll&&n?r.scroll({top:i,left:a,behavior:t}):(r.scrollTop=i,r.scrollLeft=a)}))}(WP(e,r),r.behavior)}},$P=["parentNode"];function QP(e){return void 0===e||!1===e?[]:Array.isArray(e)?e:[e]}function YP(e,t){if(e.length){var n=e.join("_");return t?"".concat(t,"_").concat(n):$P.indexOf(n)>=0?"".concat("form_item","_").concat(n):n}}function XP(e){return QP(e).join("_")}function JP(e){var n=s(fi(),1)[0],r=t.useRef({}),i=t.useMemo((function(){return null!==e&&void 0!==e?e:E(E({},n),{__INTERNAL__:{itemRef:function(e){return function(t){var n=XP(e);t?r.current[n]=t:delete r.current[n]}}},scrollToField:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=QP(e),r=YP(n,i.__INTERNAL__.name),a=r?document.getElementById(r):null;a&&GP(a,E({scrollMode:"if-needed",block:"nearest"},t))},getFieldInstance:function(e){var t=XP(e);return r.current[t]}})}),[e,n]);return[i]}var ZP=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},eR=function(e,n){var r,i=t.useContext(Wi),a=t.useContext(Bi),o=t.useContext(Bn),u=o.getPrefixCls,c=o.direction,l=o.form,f=e.prefixCls,h=e.className,d=void 0===h?"":h,p=e.size,v=void 0===p?i:p,m=e.disabled,y=void 0===m?a:m,g=e.form,b=e.colon,k=e.labelAlign,w=e.labelWrap,x=e.labelCol,_=e.wrapperCol,S=e.hideRequiredMark,I=e.layout,T=void 0===I?"horizontal":I,C=e.scrollToFirstError,N=e.requiredMark,A=e.onFinishFailed,O=e.name,P=ZP(e,["prefixCls","className","size","disabled","form","colon","labelAlign","labelWrap","labelCol","wrapperCol","hideRequiredMark","layout","scrollToFirstError","requiredMark","onFinishFailed","name"]),R=(0,t.useMemo)((function(){return void 0!==N?N:l&&void 0!==l.requiredMark?l.requiredMark:!S}),[S,N,l]),D=null!==b&&void 0!==b?b:null===l||void 0===l?void 0:l.colon,M=u("form",f),L=je()(M,(Pe(r={},"".concat(M,"-").concat(T),!0),Pe(r,"".concat(M,"-hide-required-mark"),!1===R),Pe(r,"".concat(M,"-rtl"),"rtl"===c),Pe(r,"".concat(M,"-").concat(v),v),r),d),F=s(JP(g),1)[0],j=F.__INTERNAL__;j.name=O;var V=(0,t.useMemo)((function(){return{name:O,labelAlign:k,labelCol:x,labelWrap:w,wrapperCol:_,vertical:"vertical"===T,colon:D,requiredMark:R,itemRef:j.itemRef,form:F}}),[O,k,x,_,T,D,R,F]);t.useImperativeHandle(n,(function(){return F}));return t.createElement(zi,{disabled:y},t.createElement(Hi,{size:v},t.createElement(wi.Provider,{value:V},t.createElement(ki,E({id:O},P,{name:O,onFinishFailed:function(e){null===A||void 0===A||A(e);var t={block:"nearest"};C&&e.errorFields.length&&("object"===Ue(C)&&(t=C),F.scrollToField(e.errorFields[0].name,t))},form:F,className:L})))))},tR=t.forwardRef(eR),nR={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"},rR=function(e,n){return t.createElement(Lt,De(De({},e),{},{ref:n,icon:nR}))};rR.displayName="CheckCircleFilled";var iR=t.forwardRef(rR),aR={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"}}]},name:"close-circle",theme:"filled"},oR=function(e,n){return t.createElement(Lt,De(De({},e),{},{ref:n,icon:aR}))};oR.displayName="CloseCircleFilled";var uR=t.forwardRef(oR),sR={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},cR=function(e,n){return t.createElement(Lt,De(De({},e),{},{ref:n,icon:sR}))};cR.displayName="ExclamationCircleFilled";var lR=t.forwardRef(cR),fR=["xxl","xl","lg","md","sm","xs"],hR={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"},dR=new Map,pR=-1,vR={},mR={matchHandlers:{},dispatch:function(e){return vR=e,dR.forEach((function(e){return e(vR)})),dR.size>=1},subscribe:function(e){return dR.size||this.register(),pR+=1,dR.set(pR,e),e(vR),pR},unsubscribe:function(e){dR.delete(e),dR.size||this.unregister()},unregister:function(){var e=this;Object.keys(hR).forEach((function(t){var n=hR[t],r=e.matchHandlers[n];null===r||void 0===r||r.mql.removeListener(null===r||void 0===r?void 0:r.listener)})),dR.clear()},register:function(){var e=this;Object.keys(hR).forEach((function(t){var n=hR[t],r=function(n){var r=n.matches;e.dispatch(E(E({},vR),Pe({},t,r)))},i=window.matchMedia(n);i.addListener(r),e.matchHandlers[n]={mql:i,listener:r},r(i)}))}},yR=(0,t.createContext)({}),gR=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},bR=(Ii("top","middle","bottom","stretch"),Ii("start","end","center","space-around","space-between","space-evenly"),t.forwardRef((function(e,n){var r,i=e.prefixCls,a=e.justify,o=e.align,u=e.className,c=e.style,l=e.children,f=e.gutter,h=void 0===f?0:f,d=e.wrap,p=gR(e,["prefixCls","justify","align","className","style","children","gutter","wrap"]),v=t.useContext(Bn),m=v.getPrefixCls,y=v.direction,g=s(t.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),2),b=g[0],k=g[1],w=Di(),x=t.useRef(h);t.useEffect((function(){var e=mR.subscribe((function(e){var t=x.current||0;(!Array.isArray(t)&&"object"===Ue(t)||Array.isArray(t)&&("object"===Ue(t[0])||"object"===Ue(t[1])))&&k(e)}));return function(){return mR.unsubscribe(e)}}),[]);var _=m("row",i),S=function(){var e=[void 0,void 0];return(Array.isArray(h)?h:[h,void 0]).forEach((function(t,n){if("object"===Ue(t))for(var r=0;r<fR.length;r++){var i=fR[r];if(b[i]&&void 0!==t[i]){e[n]=t[i];break}}else e[n]=t})),e}(),I=je()(_,(Pe(r={},"".concat(_,"-no-wrap"),!1===d),Pe(r,"".concat(_,"-").concat(a),a),Pe(r,"".concat(_,"-").concat(o),o),Pe(r,"".concat(_,"-rtl"),"rtl"===y),r),u),T={},C=null!=S[0]&&S[0]>0?S[0]/-2:void 0,N=null!=S[1]&&S[1]>0?S[1]/-2:void 0;if(C&&(T.marginLeft=C,T.marginRight=C),w){var A=s(S,2);T.rowGap=A[1]}else N&&(T.marginTop=N,T.marginBottom=N);var O=s(S,2),P=O[0],R=O[1],D=t.useMemo((function(){return{gutter:[P,R],wrap:d,supportFlexGap:w}}),[P,R,d,w]);return t.createElement(yR.Provider,{value:D},t.createElement("div",E({},p,{className:I,style:E(E({},T),c),ref:n}),l))})));var kR=bR,wR=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};var xR=["xs","sm","md","lg","xl","xxl"],ER=t.forwardRef((function(e,n){var r,i=t.useContext(Bn),a=i.getPrefixCls,o=i.direction,u=t.useContext(yR),s=u.gutter,c=u.wrap,l=u.supportFlexGap,f=e.prefixCls,h=e.span,d=e.order,p=e.offset,v=e.push,m=e.pull,y=e.className,g=e.children,b=e.flex,k=e.style,w=wR(e,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),x=a("col",f),_={};xR.forEach((function(t){var n,r={},i=e[t];"number"===typeof i?r.span=i:"object"===Ue(i)&&(r=i||{}),delete w[t],_=E(E({},_),(Pe(n={},"".concat(x,"-").concat(t,"-").concat(r.span),void 0!==r.span),Pe(n,"".concat(x,"-").concat(t,"-order-").concat(r.order),r.order||0===r.order),Pe(n,"".concat(x,"-").concat(t,"-offset-").concat(r.offset),r.offset||0===r.offset),Pe(n,"".concat(x,"-").concat(t,"-push-").concat(r.push),r.push||0===r.push),Pe(n,"".concat(x,"-").concat(t,"-pull-").concat(r.pull),r.pull||0===r.pull),Pe(n,"".concat(x,"-rtl"),"rtl"===o),n))}));var S=je()(x,(Pe(r={},"".concat(x,"-").concat(h),void 0!==h),Pe(r,"".concat(x,"-order-").concat(d),d),Pe(r,"".concat(x,"-offset-").concat(p),p),Pe(r,"".concat(x,"-push-").concat(v),v),Pe(r,"".concat(x,"-pull-").concat(m),m),r),y,_),I={};if(s&&s[0]>0){var T=s[0]/2;I.paddingLeft=T,I.paddingRight=T}if(s&&s[1]>0&&!l){var C=s[1]/2;I.paddingTop=C,I.paddingBottom=C}return b&&(I.flex=function(e){return"number"===typeof e?"".concat(e," ").concat(e," auto"):/^\d+(\.\d+)?(px|em|rem|%)$/.test(e)?"0 0 ".concat(e):e}(b),!1!==c||I.minWidth||(I.minWidth=0)),t.createElement("div",E({},w,{style:E(E({},I),k),className:S,ref:n}),g)}));var _R=ER,SR=function(e){var n=e.prefixCls,r=e.status,i=e.wrapperCol,a=e.children,o=e.errors,u=e.warnings,s=e._internalItemRender,c=e.extra,l=e.help,f="".concat(n,"-item"),h=t.useContext(wi),d=i||h.wrapperCol||{},p=je()("".concat(f,"-control"),d.className),v=t.useMemo((function(){return E({},h)}),[h]);delete v.labelCol,delete v.wrapperCol;var m=t.createElement("div",{className:"".concat(f,"-control-input")},t.createElement("div",{className:"".concat(f,"-control-input-content")},a)),y=t.useMemo((function(){return{prefixCls:n,status:r}}),[n,r]),g=t.createElement(Ei.Provider,{value:y},t.createElement(UP,{errors:o,warnings:u,help:l,helpStatus:r,className:"".concat(f,"-explain-connected")})),b=c?t.createElement("div",{className:"".concat(f,"-extra")},c):null,k=s&&"pro_table_render"===s.mark&&s.render?s.render(e,{input:m,errorList:g,extra:b}):t.createElement(t.Fragment,null,m,g,b);return t.createElement(wi.Provider,{value:v},t.createElement(_R,E({},d,{className:p}),k))},IR={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"},TR=function(e,n){return t.createElement(Lt,De(De({},e),{},{ref:n,icon:IR}))};TR.displayName="QuestionCircleOutlined";var CR=t.forwardRef(TR),NR=(0,t.createContext)(void 0),AR={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},OR={lang:E({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"}),timePickerLocale:E({},AR)},PR="${label} is not a valid ${type}",RR={locale:"en",Pagination:{items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},DatePicker:OR,TimePicker:AR,Calendar:OR,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No Data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:PR,method:PR,array:PR,object:PR,number:PR,date:PR,boolean:PR,integer:PR,float:PR,regexp:PR,email:PR,url:PR,hex:PR},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"}},DR=RR,MR=function(e){Bt(n,e);var t=Gt(n);function n(){return Vt(this,n),t.apply(this,arguments)}return zt(n,[{key:"getLocale",value:function(){var e=this.props,t=e.componentName,n=e.defaultLocale||DR[null!==t&&void 0!==t?t:"global"],r=this.context,i=t&&r?r[t]:{};return E(E({},n instanceof Function?n():n),i||{})}},{key:"getLocaleCode",value:function(){var e=this.context,t=e&&e.locale;return e&&e.exist&&!t?DR.locale:t}},{key:"render",value:function(){return this.props.children(this.getLocale(),this.getLocaleCode(),this.context)}}]),n}(t.Component);function LR(e,t){return!!e&&e.contains(t)}function FR(e,t,n,r){var i=tn.unstable_batchedUpdates?function(e){tn.unstable_batchedUpdates(n,e)}:n;return e.addEventListener&&e.addEventListener(t,i,r),{remove:function(){e.removeEventListener&&e.removeEventListener(t,i,r)}}}function jR(e,t,n){return n?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}MR.defaultProps={componentName:"global"},MR.contextType=NR;function VR(e){var t=e.prefixCls,n=e.motion,r=e.animation,i=e.transitionName;return n||(r?{motionName:"".concat(t,"-").concat(r)}:i?{motionName:i}:null)}function UR(e){var n=e.prefixCls,r=e.visible,i=e.zIndex,a=e.mask,o=e.maskMotion,u=e.maskAnimation,s=e.maskTransitionName;if(!a)return null;var c={};return(o||s||u)&&(c=De({motionAppear:!0},VR({motion:o,prefixCls:n,transitionName:s,animation:u}))),t.createElement(Za,E({},c,{visible:r,removeOnLeave:!0}),(function(e){var r=e.className;return t.createElement("div",{style:{zIndex:i},className:je()("".concat(n,"-mask"),r)})}))}var zR;function BR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?BR(Object(n),!0).forEach((function(t){WR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function HR(e){return HR="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},HR(e)}function WR(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var KR={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function GR(){if(void 0!==zR)return zR;zR="";var e=document.createElement("p").style;for(var t in KR)t+"Transform"in e&&(zR=t);return zR}function $R(){return GR()?"".concat(GR(),"TransitionProperty"):"transitionProperty"}function QR(){return GR()?"".concat(GR(),"Transform"):"transform"}function YR(e,t){var n=$R();n&&(e.style[n]=t,"transitionProperty"!==n&&(e.style.transitionProperty=t))}function XR(e,t){var n=QR();n&&(e.style[n]=t,"transform"!==n&&(e.style.transform=t))}var JR,ZR=/matrix\((.*)\)/,eD=/matrix3d\((.*)\)/;function tD(e){var t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t}function nD(e,t,n){var r=n;if("object"!==HR(t))return"undefined"!==typeof r?("number"===typeof r&&(r="".concat(r,"px")),void(e.style[t]=r)):JR(e,t);for(var i in t)t.hasOwnProperty(i)&&nD(e,i,t[i])}function rD(e,t){var n=e["page".concat(t?"Y":"X","Offset")],r="scroll".concat(t?"Top":"Left");if("number"!==typeof n){var i=e.document;"number"!==typeof(n=i.documentElement[r])&&(n=i.body[r])}return n}function iD(e){return rD(e)}function aD(e){return rD(e,!0)}function oD(e){var t=function(e){var t,n,r,i=e.ownerDocument,a=i.body,o=i&&i.documentElement;return t=e.getBoundingClientRect(),n=Math.floor(t.left),r=Math.floor(t.top),{left:n-=o.clientLeft||a.clientLeft||0,top:r-=o.clientTop||a.clientTop||0}}(e),n=e.ownerDocument,r=n.defaultView||n.parentWindow;return t.left+=iD(r),t.top+=aD(r),t}function uD(e){return null!==e&&void 0!==e&&e==e.window}function sD(e){return uD(e)?e.document:9===e.nodeType?e:e.ownerDocument}var cD=new RegExp("^(".concat(/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,")(?!px)[a-z%]+$"),"i"),lD=/^(top|right|bottom|left)$/;function fD(e,t){return"left"===e?t.useCssRight?"right":e:t.useCssBottom?"bottom":e}function hD(e){return"left"===e?"right":"right"===e?"left":"top"===e?"bottom":"bottom"===e?"top":void 0}function dD(e,t,n){"static"===nD(e,"position")&&(e.style.position="relative");var r=-999,i=-999,a=fD("left",n),o=fD("top",n),u=hD(a),s=hD(o);"left"!==a&&(r=999),"top"!==o&&(i=999);var c,l="",f=oD(e);("left"in t||"top"in t)&&(l=(c=e).style.transitionProperty||c.style[$R()]||"",YR(e,"none")),"left"in t&&(e.style[u]="",e.style[a]="".concat(r,"px")),"top"in t&&(e.style[s]="",e.style[o]="".concat(i,"px")),tD(e);var h=oD(e),d={};for(var p in t)if(t.hasOwnProperty(p)){var v=fD(p,n),m="left"===p?r:i,y=f[p]-h[p];d[v]=v===p?m+y:m-y}nD(e,d),tD(e),("left"in t||"top"in t)&&YR(e,l);var g={};for(var b in t)if(t.hasOwnProperty(b)){var k=fD(b,n),w=t[b]-f[b];g[k]=b===k?d[k]+w:d[k]-w}nD(e,g)}function pD(e,t){var n=oD(e),r=function(e){var t=window.getComputedStyle(e,null),n=t.getPropertyValue("transform")||t.getPropertyValue(QR());if(n&&"none"!==n){var r=n.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(r[12]||r[4],0),y:parseFloat(r[13]||r[5],0)}}return{x:0,y:0}}(e),i={x:r.x,y:r.y};"left"in t&&(i.x=r.x+t.left-n.left),"top"in t&&(i.y=r.y+t.top-n.top),function(e,t){var n=window.getComputedStyle(e,null),r=n.getPropertyValue("transform")||n.getPropertyValue(QR());if(r&&"none"!==r){var i,a=r.match(ZR);a?((i=(a=a[1]).split(",").map((function(e){return parseFloat(e,10)})))[4]=t.x,i[5]=t.y,XR(e,"matrix(".concat(i.join(","),")"))):((i=r.match(eD)[1].split(",").map((function(e){return parseFloat(e,10)})))[12]=t.x,i[13]=t.y,XR(e,"matrix3d(".concat(i.join(","),")")))}else XR(e,"translateX(".concat(t.x,"px) translateY(").concat(t.y,"px) translateZ(0)"))}(e,i)}function vD(e,t){for(var n=0;n<e.length;n++)t(e[n])}function mD(e){return"border-box"===JR(e,"boxSizing")}"undefined"!==typeof window&&(JR=window.getComputedStyle?function(e,t,n){var r=n,i="",a=sD(e);return(r=r||a.defaultView.getComputedStyle(e,null))&&(i=r.getPropertyValue(t)||r[t]),i}:function(e,t){var n=e.currentStyle&&e.currentStyle[t];if(cD.test(n)&&!lD.test(t)){var r=e.style,i=r.left,a=e.runtimeStyle.left;e.runtimeStyle.left=e.currentStyle.left,r.left="fontSize"===t?"1em":n||0,n=r.pixelLeft+"px",r.left=i,e.runtimeStyle.left=a}return""===n?"auto":n});var yD=["margin","border","padding"];function gD(e,t,n){var r,i={},a=e.style;for(r in t)t.hasOwnProperty(r)&&(i[r]=a[r],a[r]=t[r]);for(r in n.call(e),t)t.hasOwnProperty(r)&&(a[r]=i[r])}function bD(e,t,n){var r,i,a,o=0;for(i=0;i<t.length;i++)if(r=t[i])for(a=0;a<n.length;a++){var u=void 0;u="border"===r?"".concat(r).concat(n[a],"Width"):r+n[a],o+=parseFloat(JR(e,u))||0}return o}var kD={getParent:function(e){var t=e;do{t=11===t.nodeType&&t.host?t.host:t.parentNode}while(t&&1!==t.nodeType&&9!==t.nodeType);return t}};function wD(e,t,n){var r=n;if(uD(e))return"width"===t?kD.viewportWidth(e):kD.viewportHeight(e);if(9===e.nodeType)return"width"===t?kD.docWidth(e):kD.docHeight(e);var i="width"===t?["Left","Right"]:["Top","Bottom"],a="width"===t?Math.floor(e.getBoundingClientRect().width):Math.floor(e.getBoundingClientRect().height),o=mD(e),u=0;(null===a||void 0===a||a<=0)&&(a=void 0,(null===(u=JR(e,t))||void 0===u||Number(u)<0)&&(u=e.style[t]||0),u=parseFloat(u)||0),void 0===r&&(r=o?1:-1);var s=void 0!==a||o,c=a||u;return-1===r?s?c-bD(e,["border","padding"],i):u:s?1===r?c:c+(2===r?-bD(e,["border"],i):bD(e,["margin"],i)):u+bD(e,yD.slice(r),i)}vD(["Width","Height"],(function(e){kD["doc".concat(e)]=function(t){var n=t.document;return Math.max(n.documentElement["scroll".concat(e)],n.body["scroll".concat(e)],kD["viewport".concat(e)](n))},kD["viewport".concat(e)]=function(t){var n="client".concat(e),r=t.document,i=r.body,a=r.documentElement[n];return"CSS1Compat"===r.compatMode&&a||i&&i[n]||a}}));var xD={position:"absolute",visibility:"hidden",display:"block"};function ED(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=t[0];return 0!==i.offsetWidth?r=wD.apply(void 0,t):gD(i,xD,(function(){r=wD.apply(void 0,t)})),r}function _D(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}vD(["width","height"],(function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);kD["outer".concat(t)]=function(t,n){return t&&ED(t,e,n?0:1)};var n="width"===e?["Left","Right"]:["Top","Bottom"];kD[e]=function(t,r){var i=r;return void 0!==i?t?(mD(t)&&(i+=bD(t,["padding","border"],n)),nD(t,e,i)):void 0:t&&ED(t,e,-1)}}));var SD={getWindow:function(e){if(e&&e.document&&e.setTimeout)return e;var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},getDocument:sD,offset:function(e,t,n){if("undefined"===typeof t)return oD(e);!function(e,t,n){if(n.ignoreShake){var r=oD(e),i=r.left.toFixed(0),a=r.top.toFixed(0),o=t.left.toFixed(0),u=t.top.toFixed(0);if(i===o&&a===u)return}n.useCssRight||n.useCssBottom?dD(e,t,n):n.useCssTransform&&QR()in document.body.style?pD(e,t):dD(e,t,n)}(e,t,n||{})},isWindow:uD,each:vD,css:nD,clone:function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);if(e.overflow)for(t in e)e.hasOwnProperty(t)&&(n.overflow[t]=e.overflow[t]);return n},mix:_D,getWindowScrollLeft:function(e){return iD(e)},getWindowScrollTop:function(e){return aD(e)},merge:function(){for(var e={},t=0;t<arguments.length;t++)SD.mix(e,t<0||arguments.length<=t?void 0:arguments[t]);return e},viewportWidth:0,viewportHeight:0};_D(SD,kD);var ID=SD.getParent;function TD(e){if(SD.isWindow(e)||9===e.nodeType)return null;var t,n=SD.getDocument(e).body,r=SD.css(e,"position");if(!("fixed"===r||"absolute"===r))return"html"===e.nodeName.toLowerCase()?null:ID(e);for(t=ID(e);t&&t!==n&&9!==t.nodeType;t=ID(t))if("static"!==(r=SD.css(t,"position")))return t;return null}var CD=SD.getParent;function ND(e,t){for(var n={left:0,right:1/0,top:0,bottom:1/0},r=TD(e),i=SD.getDocument(e),a=i.defaultView||i.parentWindow,o=i.body,u=i.documentElement;r;){if(-1!==navigator.userAgent.indexOf("MSIE")&&0===r.clientWidth||r===o||r===u||"visible"===SD.css(r,"overflow")){if(r===o||r===u)break}else{var s=SD.offset(r);s.left+=r.clientLeft,s.top+=r.clientTop,n.top=Math.max(n.top,s.top),n.right=Math.min(n.right,s.left+r.clientWidth),n.bottom=Math.min(n.bottom,s.top+r.clientHeight),n.left=Math.max(n.left,s.left)}r=TD(r)}var c=null;SD.isWindow(e)||9===e.nodeType||(c=e.style.position,"absolute"===SD.css(e,"position")&&(e.style.position="fixed"));var l=SD.getWindowScrollLeft(a),f=SD.getWindowScrollTop(a),h=SD.viewportWidth(a),d=SD.viewportHeight(a),p=u.scrollWidth,v=u.scrollHeight,m=window.getComputedStyle(o);if("hidden"===m.overflowX&&(p=a.innerWidth),"hidden"===m.overflowY&&(v=a.innerHeight),e.style&&(e.style.position=c),t||function(e){if(SD.isWindow(e)||9===e.nodeType)return!1;var t=SD.getDocument(e),n=t.body,r=null;for(r=CD(e);r&&r!==n&&r!==t;r=CD(r))if("fixed"===SD.css(r,"position"))return!0;return!1}(e))n.left=Math.max(n.left,l),n.top=Math.max(n.top,f),n.right=Math.min(n.right,l+h),n.bottom=Math.min(n.bottom,f+d);else{var y=Math.max(p,l+h);n.right=Math.min(n.right,y);var g=Math.max(v,f+d);n.bottom=Math.min(n.bottom,g)}return n.top>=0&&n.left>=0&&n.bottom>n.top&&n.right>n.left?n:null}function AD(e){var t,n,r;if(SD.isWindow(e)||9===e.nodeType){var i=SD.getWindow(e);t={left:SD.getWindowScrollLeft(i),top:SD.getWindowScrollTop(i)},n=SD.viewportWidth(i),r=SD.viewportHeight(i)}else t=SD.offset(e),n=SD.outerWidth(e),r=SD.outerHeight(e);return t.width=n,t.height=r,t}function OD(e,t){var n=t.charAt(0),r=t.charAt(1),i=e.width,a=e.height,o=e.left,u=e.top;return"c"===n?u+=a/2:"b"===n&&(u+=a),"c"===r?o+=i/2:"r"===r&&(o+=i),{left:o,top:u}}function PD(e,t,n,r,i){var a=OD(t,n[1]),o=OD(e,n[0]),u=[o.left-a.left,o.top-a.top];return{left:Math.round(e.left-u[0]+r[0]-i[0]),top:Math.round(e.top-u[1]+r[1]-i[1])}}function RD(e,t,n){return e.left<n.left||e.left+t.width>n.right}function DD(e,t,n){return e.top<n.top||e.top+t.height>n.bottom}function MD(e,t,n){var r=[];return SD.each(e,(function(e){r.push(e.replace(t,(function(e){return n[e]})))})),r}function LD(e,t){return e[t]=-e[t],e}function FD(e,t){return(/%$/.test(e)?parseInt(e.substring(0,e.length-1),10)/100*t:parseInt(e,10))||0}function jD(e,t){e[0]=FD(e[0],t.width),e[1]=FD(e[1],t.height)}function VD(e,t,n,r){var i=n.points,a=n.offset||[0,0],o=n.targetOffset||[0,0],u=n.overflow,s=n.source||e;a=[].concat(a),o=[].concat(o);var c={},l=0,f=ND(s,!(!(u=u||{})||!u.alwaysByViewport)),h=AD(s);jD(a,h),jD(o,t);var d=PD(h,t,i,a,o),p=SD.merge(h,d);if(f&&(u.adjustX||u.adjustY)&&r){if(u.adjustX&&RD(d,h,f)){var v=MD(i,/[lr]/gi,{l:"r",r:"l"}),m=LD(a,0),y=LD(o,0);(function(e,t,n){return e.left>n.right||e.left+t.width<n.left})(PD(h,t,v,m,y),h,f)||(l=1,i=v,a=m,o=y)}if(u.adjustY&&DD(d,h,f)){var g=MD(i,/[tb]/gi,{t:"b",b:"t"}),b=LD(a,1),k=LD(o,1);(function(e,t,n){return e.top>n.bottom||e.top+t.height<n.top})(PD(h,t,g,b,k),h,f)||(l=1,i=g,a=b,o=k)}l&&(d=PD(h,t,i,a,o),SD.mix(p,d));var w=RD(d,h,f),x=DD(d,h,f);if(w||x){var E=i;w&&(E=MD(i,/[lr]/gi,{l:"r",r:"l"})),x&&(E=MD(i,/[tb]/gi,{t:"b",b:"t"})),i=E,a=n.offset||[0,0],o=n.targetOffset||[0,0]}c.adjustX=u.adjustX&&w,c.adjustY=u.adjustY&&x,(c.adjustX||c.adjustY)&&(p=function(e,t,n,r){var i=SD.clone(e),a={width:t.width,height:t.height};return r.adjustX&&i.left<n.left&&(i.left=n.left),r.resizeWidth&&i.left>=n.left&&i.left+a.width>n.right&&(a.width-=i.left+a.width-n.right),r.adjustX&&i.left+a.width>n.right&&(i.left=Math.max(n.right-a.width,n.left)),r.adjustY&&i.top<n.top&&(i.top=n.top),r.resizeHeight&&i.top>=n.top&&i.top+a.height>n.bottom&&(a.height-=i.top+a.height-n.bottom),r.adjustY&&i.top+a.height>n.bottom&&(i.top=Math.max(n.bottom-a.height,n.top)),SD.mix(i,a)}(d,h,f,c))}return p.width!==h.width&&SD.css(s,"width",SD.width(s)+p.width-h.width),p.height!==h.height&&SD.css(s,"height",SD.height(s)+p.height-h.height),SD.offset(s,{left:p.left,top:p.top},{useCssRight:n.useCssRight,useCssBottom:n.useCssBottom,useCssTransform:n.useCssTransform,ignoreShake:n.ignoreShake}),{points:i,offset:a,targetOffset:o,overflow:c}}function UD(e,t,n){var r=n.target||t,i=AD(r),a=!function(e,t){var n=ND(e,t),r=AD(e);return!n||r.left+r.width<=n.left||r.top+r.height<=n.top||r.left>=n.right||r.top>=n.bottom}(r,n.overflow&&n.overflow.alwaysByViewport);return VD(e,i,n,a)}UD.__getOffsetParent=TD,UD.__getVisibleRectForElement=ND;var zD=n(8111),BD=n.n(zD),qD=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),HD="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,WD="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),KD="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(WD):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var GD=["top","right","bottom","left","width","height","size","weight"],$D="undefined"!==typeof MutationObserver,QD=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function a(){n&&(n=!1,e()),r&&u()}function o(){KD(a)}function u(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(o,t);i=e}return u}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){HD&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),$D?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){HD&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t,r=GD.some((function(e){return!!~n.indexOf(e)}));r&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),YD=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},XD=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||WD},JD=iM(0,0,0,0);function ZD(e){return parseFloat(e)||0}function eM(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+ZD(e["border-"+n+"-width"])}),0)}function tM(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return JD;var r=XD(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],a=e["padding-"+i];t[i]=ZD(a)}return t}(r),a=i.left+i.right,o=i.top+i.bottom,u=ZD(r.width),s=ZD(r.height);if("border-box"===r.boxSizing&&(Math.round(u+a)!==t&&(u-=eM(r,"left","right")+a),Math.round(s+o)!==n&&(s-=eM(r,"top","bottom")+o)),!function(e){return e===XD(e).document.documentElement}(e)){var c=Math.round(u+a)-t,l=Math.round(s+o)-n;1!==Math.abs(c)&&(u-=c),1!==Math.abs(l)&&(s-=l)}return iM(i.left,i.top,u,s)}var nM="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof XD(e).SVGGraphicsElement}:function(e){return e instanceof XD(e).SVGElement&&"function"===typeof e.getBBox};function rM(e){return HD?nM(e)?function(e){var t=e.getBBox();return iM(0,0,t.width,t.height)}(e):tM(e):JD}function iM(e,t,n,r){return{x:e,y:t,width:n,height:r}}var aM=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=iM(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=rM(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),oM=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,a="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,o=Object.create(a.prototype);return YD(o,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),o}(t);YD(this,{target:e,contentRect:n})},uM=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new qD,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof XD(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new aM(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof XD(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new oM(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),sM="undefined"!==typeof WeakMap?new WeakMap:new qD,cM=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=QD.getInstance(),r=new uM(t,n,this);sM.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){cM.prototype[e]=function(){var t;return(t=sM.get(this))[e].apply(t,arguments)}}));var lM="undefined"!==typeof WD.ResizeObserver?WD.ResizeObserver:cM;function fM(e,t){var n=null,r=null;var i=new lM((function(e){var i=s(e,1)[0].target;if(document.documentElement.contains(i)){var a=i.getBoundingClientRect(),o=a.width,u=a.height,c=Math.floor(o),l=Math.floor(u);n===c&&r===l||Promise.resolve().then((function(){t({width:c,height:l})})),n=c,r=l}}));return e&&i.observe(e),function(){i.disconnect()}}function hM(e){return"function"!==typeof e?null:e()}function dM(e){return"object"===Ue(e)&&e?e:null}var pM=function(e,n){var r=e.children,i=e.disabled,a=e.target,o=e.align,u=e.onAlign,c=e.monitorWindowResize,l=e.monitorBufferTime,f=void 0===l?0:l,h=t.useRef({}),d=t.useRef(),p=t.Children.only(r),v=t.useRef({});v.current.disabled=i,v.current.target=a,v.current.align=o,v.current.onAlign=u;var m=function(e,n){var r=t.useRef(!1),i=t.useRef(null);function a(){window.clearTimeout(i.current)}return[function t(o){if(a(),r.current&&!0!==o)i.current=window.setTimeout((function(){r.current=!1,t()}),n);else{if(!1===e())return;r.current=!0,i.current=window.setTimeout((function(){r.current=!1}),n)}},function(){r.current=!1,a()}]}((function(){var e=v.current,t=e.disabled,n=e.target,r=e.align,i=e.onAlign;if(!t&&n){var a,o=d.current,u=hM(n),s=dM(n);h.current.element=u,h.current.point=s,h.current.align=r;var c=document.activeElement;return u&&function(e){if(!e)return!1;if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox();if(t.width||t.height)return!0}if(e.getBoundingClientRect){var n=e.getBoundingClientRect();if(n.width||n.height)return!0}return!1}(u)?a=UD(o,u,r):s&&(a=function(e,t,n){var r,i,a=SD.getDocument(e),o=a.defaultView||a.parentWindow,u=SD.getWindowScrollLeft(o),s=SD.getWindowScrollTop(o),c=SD.viewportWidth(o),l=SD.viewportHeight(o),f={left:r="pageX"in t?t.pageX:u+t.clientX,top:i="pageY"in t?t.pageY:s+t.clientY,width:0,height:0},h=r>=0&&r<=u+c&&i>=0&&i<=s+l,d=[n.points[0],"cc"];return VD(e,f,qR(qR({},n),{},{points:d}),h)}(o,s,r)),function(e,t){e!==document.activeElement&&LR(t,e)&&"function"===typeof e.focus&&e.focus()}(c,o),i&&a&&i(o,a),!0}return!1}),f),y=s(m,2),g=y[0],b=y[1],k=t.useRef({cancel:function(){}}),w=t.useRef({cancel:function(){}});t.useEffect((function(){var e,t,n=hM(a),r=dM(a);d.current!==w.current.element&&(w.current.cancel(),w.current.element=d.current,w.current.cancel=fM(d.current,g)),h.current.element===n&&((e=h.current.point)===(t=r)||e&&t&&("pageX"in t&&"pageY"in t?e.pageX===t.pageX&&e.pageY===t.pageY:"clientX"in t&&"clientY"in t&&e.clientX===t.clientX&&e.clientY===t.clientY))&&BD()(h.current.align,o)||(g(),k.current.element!==n&&(k.current.cancel(),k.current.element=n,k.current.cancel=fM(n,g)))})),t.useEffect((function(){i?b():g()}),[i]);var x=t.useRef(null);return t.useEffect((function(){c?x.current||(x.current=FR(window,"resize",g)):x.current&&(x.current.remove(),x.current=null)}),[c]),t.useEffect((function(){return function(){k.current.cancel(),w.current.cancel(),x.current&&x.current.remove(),b()}}),[]),t.useImperativeHandle(n,(function(){return{forceAlign:function(){return g(!0)}}})),t.isValidElement(p)&&(p=t.cloneElement(p,{ref:Qi(p.ref,d)})),p},vM=t.forwardRef(pM);vM.displayName="Align";var mM=vM,yM=vt()?t.useLayoutEffect:t.useEffect,gM=["measure","alignPre","align",null,"motion"],bM=t.forwardRef((function(e,n){var r=e.visible,i=e.prefixCls,a=e.className,o=e.style,u=e.children,c=e.zIndex,l=e.stretch,f=e.destroyPopupOnHide,h=e.forceRender,d=e.align,p=e.point,v=e.getRootDomNode,m=e.getClassNameFromAlign,y=e.onAlign,g=e.onMouseEnter,b=e.onMouseLeave,k=e.onMouseDown,w=e.onTouchStart,x=e.onClick,_=(0,t.useRef)(),S=(0,t.useRef)(),I=s((0,t.useState)(),2),T=I[0],C=I[1],N=function(e){var n=s(t.useState({width:0,height:0}),2),r=n[0],i=n[1];return[t.useMemo((function(){var t={};if(e){var n=r.width,i=r.height;-1!==e.indexOf("height")&&i?t.height=i:-1!==e.indexOf("minHeight")&&i&&(t.minHeight=i),-1!==e.indexOf("width")&&n?t.width=n:-1!==e.indexOf("minWidth")&&n&&(t.minWidth=n)}return t}),[e,r]),function(e){i({width:e.offsetWidth,height:e.offsetHeight})}]}(l),A=s(N,2),O=A[0],P=A[1];var R=function(e,n){var r=s(Ra(null),2),i=r[0],a=r[1],o=(0,t.useRef)();function u(e){a(e,!0)}function c(){Zt.cancel(o.current)}return(0,t.useEffect)((function(){u("measure")}),[e]),(0,t.useEffect)((function(){"measure"===i&&n(),i&&(o.current=Zt(Jn(Yn().mark((function e(){var t,n;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=gM.indexOf(i),(n=gM[t+1])&&-1!==t&&u(n);case 3:case"end":return e.stop()}}),e)})))))}),[i]),(0,t.useEffect)((function(){return function(){c()}}),[]),[i,function(e){c(),o.current=Zt((function(){u((function(e){switch(i){case"align":return"motion";case"motion":return"stable"}return e})),null===e||void 0===e||e()}))}]}(r,(function(){l&&P(v())})),D=s(R,2),M=D[0],L=D[1],F=s((0,t.useState)(0),2),j=F[0],V=F[1],U=(0,t.useRef)();function z(){var e;null===(e=_.current)||void 0===e||e.forceAlign()}function B(e,t){var n=m(t);T!==n&&C(n),V((function(e){return e+1})),"align"===M&&(null===y||void 0===y||y(e,t))}yM((function(){"alignPre"===M&&V(0)}),[M]),yM((function(){"align"===M&&(j<2?z():L((function(){var e;null===(e=U.current)||void 0===e||e.call(U)})))}),[j]);var q=De({},VR(e));function H(){return new Promise((function(e){U.current=e}))}["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach((function(e){var t=q[e];q[e]=function(e,n){return L(),null===t||void 0===t?void 0:t(e,n)}})),t.useEffect((function(){q.motionName||"motion"!==M||L()}),[q.motionName,M]),t.useImperativeHandle(n,(function(){return{forceAlign:z,getElement:function(){return S.current}}}));var W=De(De({},O),{},{zIndex:c,opacity:"motion"!==M&&"stable"!==M&&r?0:void 0,pointerEvents:r||"stable"===M?void 0:"none"},o),K=!0;!(null===d||void 0===d?void 0:d.points)||"align"!==M&&"stable"!==M||(K=!1);var G=u;return t.Children.count(u)>1&&(G=t.createElement("div",{className:"".concat(i,"-content")},u)),t.createElement(Za,E({visible:r,ref:S,leavedClassName:"".concat(i,"-hidden")},q,{onAppearPrepare:H,onEnterPrepare:H,removeOnLeave:f,forceRender:h}),(function(e,n){var r=e.className,o=e.style,u=je()(i,a,T,r);return t.createElement(mM,{target:p||v,key:"popup",ref:_,monitorWindowResize:!0,disabled:K,align:d,onAlign:B},t.createElement("div",{ref:n,className:u,onMouseEnter:g,onMouseLeave:b,onMouseDownCapture:k,onTouchStartCapture:w,onClick:x,style:De(De({},o),W)},G))}))}));bM.displayName="PopupInner";var kM=bM,wM=t.forwardRef((function(e,n){var r=e.prefixCls,i=e.visible,a=e.zIndex,o=e.children,u=e.mobile,s=(u=void 0===u?{}:u).popupClassName,c=u.popupStyle,l=u.popupMotion,f=void 0===l?{}:l,h=u.popupRender,d=e.onClick,p=t.useRef();t.useImperativeHandle(n,(function(){return{forceAlign:function(){},getElement:function(){return p.current}}}));var v=De({zIndex:a},c),m=o;return t.Children.count(o)>1&&(m=t.createElement("div",{className:"".concat(r,"-content")},o)),h&&(m=h(m)),t.createElement(Za,E({visible:i,ref:p,removeOnLeave:!0},f),(function(e,n){var i=e.className,a=e.style,o=je()(r,s,i);return t.createElement("div",{ref:n,className:o,onClick:d,style:De(De({},a),v)},m)}))}));wM.displayName="MobilePopupInner";var xM=wM,EM=["visible","mobile"],_M=t.forwardRef((function(e,n){var r=e.visible,i=e.mobile,a=Le(e,EM),o=s((0,t.useState)(r),2),u=o[0],c=o[1],l=s((0,t.useState)(!1),2),f=l[0],h=l[1],d=De(De({},a),{},{visible:u});(0,t.useEffect)((function(){c(r),r&&i&&h(function(){if("undefined"===typeof navigator||"undefined"===typeof window)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null===e||void 0===e?void 0:e.substr(0,4)))}())}),[r,i]);var p=f?t.createElement(xM,E({},d,{mobile:i,ref:n})):t.createElement(kM,E({},d,{ref:n}));return t.createElement("div",null,t.createElement(UR,d),p)}));_M.displayName="Popup";var SM=_M,IM=t.createContext(null);function TM(){}function CM(){return""}function NM(e){return e?e.ownerDocument:window.document}var AM=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];var OM,PM=function(e){var n=function(n){Bt(i,n);var r=Gt(i);function i(e){var n,a;return Vt(this,i),(n=r.call(this,e)).popupRef=t.createRef(),n.triggerRef=t.createRef(),n.portalContainer=void 0,n.attachId=void 0,n.clickOutsideHandler=void 0,n.touchOutsideHandler=void 0,n.contextMenuOutsideHandler1=void 0,n.contextMenuOutsideHandler2=void 0,n.mouseDownTimeout=void 0,n.focusTime=void 0,n.preClickTime=void 0,n.preTouchTime=void 0,n.delayTimer=void 0,n.hasPopupMouseDown=void 0,n.onMouseEnter=function(e){var t=n.props.mouseEnterDelay;n.fireEvents("onMouseEnter",e),n.delaySetPopupVisible(!0,t,t?null:e)},n.onMouseMove=function(e){n.fireEvents("onMouseMove",e),n.setPoint(e)},n.onMouseLeave=function(e){n.fireEvents("onMouseLeave",e),n.delaySetPopupVisible(!1,n.props.mouseLeaveDelay)},n.onPopupMouseEnter=function(){n.clearDelayTimer()},n.onPopupMouseLeave=function(e){var t;e.relatedTarget&&!e.relatedTarget.setTimeout&&LR(null===(t=n.popupRef.current)||void 0===t?void 0:t.getElement(),e.relatedTarget)||n.delaySetPopupVisible(!1,n.props.mouseLeaveDelay)},n.onFocus=function(e){n.fireEvents("onFocus",e),n.clearDelayTimer(),n.isFocusToShow()&&(n.focusTime=Date.now(),n.delaySetPopupVisible(!0,n.props.focusDelay))},n.onMouseDown=function(e){n.fireEvents("onMouseDown",e),n.preClickTime=Date.now()},n.onTouchStart=function(e){n.fireEvents("onTouchStart",e),n.preTouchTime=Date.now()},n.onBlur=function(e){n.fireEvents("onBlur",e),n.clearDelayTimer(),n.isBlurToHide()&&n.delaySetPopupVisible(!1,n.props.blurDelay)},n.onContextMenu=function(e){e.preventDefault(),n.fireEvents("onContextMenu",e),n.setPopupVisible(!0,e)},n.onContextMenuClose=function(){n.isContextMenuToShow()&&n.close()},n.onClick=function(e){if(n.fireEvents("onClick",e),n.focusTime){var t;if(n.preClickTime&&n.preTouchTime?t=Math.min(n.preClickTime,n.preTouchTime):n.preClickTime?t=n.preClickTime:n.preTouchTime&&(t=n.preTouchTime),Math.abs(t-n.focusTime)<20)return;n.focusTime=0}n.preClickTime=0,n.preTouchTime=0,n.isClickToShow()&&(n.isClickToHide()||n.isBlurToHide())&&e&&e.preventDefault&&e.preventDefault();var r=!n.state.popupVisible;(n.isClickToHide()&&!r||r&&n.isClickToShow())&&n.setPopupVisible(!n.state.popupVisible,e)},n.onPopupMouseDown=function(){var e;(n.hasPopupMouseDown=!0,clearTimeout(n.mouseDownTimeout),n.mouseDownTimeout=window.setTimeout((function(){n.hasPopupMouseDown=!1}),0),n.context)&&(e=n.context).onPopupMouseDown.apply(e,arguments)},n.onDocumentClick=function(e){if(!n.props.mask||n.props.maskClosable){var t=e.target,r=n.getRootDomNode(),i=n.getPopupDomNode();LR(r,t)&&!n.isContextMenuOnly()||LR(i,t)||n.hasPopupMouseDown||n.close()}},n.getRootDomNode=function(){var e=n.props.getTriggerDOMNode;if(e)return e(n.triggerRef.current);try{var t=fa(n.triggerRef.current);if(t)return t}catch(r){}return tn.findDOMNode(Wt(n))},n.getPopupClassNameFromAlign=function(e){var t=[],r=n.props,i=r.popupPlacement,a=r.builtinPlacements,o=r.prefixCls,u=r.alignPoint,s=r.getPopupClassNameFromAlign;return i&&a&&t.push(function(e,t,n,r){for(var i=n.points,a=Object.keys(e),o=0;o<a.length;o+=1){var u=a[o];if(jR(e[u].points,i,r))return"".concat(t,"-placement-").concat(u)}return""}(a,o,e,u)),s&&t.push(s(e)),t.join(" ")},n.getComponent=function(){var e=n.props,r=e.prefixCls,i=e.destroyPopupOnHide,a=e.popupClassName,o=e.onPopupAlign,u=e.popupMotion,s=e.popupAnimation,c=e.popupTransitionName,l=e.popupStyle,f=e.mask,h=e.maskAnimation,d=e.maskTransitionName,p=e.maskMotion,v=e.zIndex,m=e.popup,y=e.stretch,g=e.alignPoint,b=e.mobile,k=e.forceRender,w=e.onPopupClick,x=n.state,_=x.popupVisible,S=x.point,I=n.getPopupAlign(),T={};return n.isMouseEnterToShow()&&(T.onMouseEnter=n.onPopupMouseEnter),n.isMouseLeaveToHide()&&(T.onMouseLeave=n.onPopupMouseLeave),T.onMouseDown=n.onPopupMouseDown,T.onTouchStart=n.onPopupMouseDown,t.createElement(SM,E({prefixCls:r,destroyPopupOnHide:i,visible:_,point:g&&S,className:a,align:I,onAlign:o,animation:s,getClassNameFromAlign:n.getPopupClassNameFromAlign},T,{stretch:y,getRootDomNode:n.getRootDomNode,style:l,mask:f,zIndex:v,transitionName:c,maskAnimation:h,maskTransitionName:d,maskMotion:p,ref:n.popupRef,motion:u,mobile:b,forceRender:k,onClick:w}),"function"===typeof m?m():m)},n.attachParent=function(e){Zt.cancel(n.attachId);var t,r=n.props,i=r.getPopupContainer,a=r.getDocument,o=n.getRootDomNode();i?(o||0===i.length)&&(t=i(o)):t=a(n.getRootDomNode()).body,t?t.appendChild(e):n.attachId=Zt((function(){n.attachParent(e)}))},n.getContainer=function(){if(!n.portalContainer){var e=(0,n.props.getDocument)(n.getRootDomNode()).createElement("div");e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="100%",n.portalContainer=e}return n.attachParent(n.portalContainer),n.portalContainer},n.setPoint=function(e){n.props.alignPoint&&e&&n.setState({point:{pageX:e.pageX,pageY:e.pageY}})},n.handlePortalUpdate=function(){n.state.prevPopupVisible!==n.state.popupVisible&&n.props.afterPopupVisibleChange(n.state.popupVisible)},n.triggerContextValue={onPopupMouseDown:n.onPopupMouseDown},a="popupVisible"in e?!!e.popupVisible:!!e.defaultPopupVisible,n.state={prevPopupVisible:a,popupVisible:a},AM.forEach((function(e){n["fire".concat(e)]=function(t){n.fireEvents(e,t)}})),n}return zt(i,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e,t=this.props;if(this.state.popupVisible)return this.clickOutsideHandler||!this.isClickToHide()&&!this.isContextMenuToShow()||(e=t.getDocument(this.getRootDomNode()),this.clickOutsideHandler=FR(e,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(e=e||t.getDocument(this.getRootDomNode()),this.touchOutsideHandler=FR(e,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(e=e||t.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=FR(e,"scroll",this.onContextMenuClose)),void(!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=FR(window,"blur",this.onContextMenuClose)));this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),Zt.cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var e;return(null===(e=this.popupRef.current)||void 0===e?void 0:e.getElement())||null}},{key:"getPopupAlign",value:function(){var e=this.props,t=e.popupPlacement,n=e.popupAlign,r=e.builtinPlacements;return t&&r?function(e,t,n){return De(De({},e[t]||{}),n)}(r,t,n):n}},{key:"setPopupVisible",value:function(e,t){var n=this.props.alignPoint,r=this.state.popupVisible;this.clearDelayTimer(),r!==e&&("popupVisible"in this.props||this.setState({popupVisible:e,prevPopupVisible:r}),this.props.onPopupVisibleChange(e)),n&&t&&e&&this.setPoint(t)}},{key:"delaySetPopupVisible",value:function(e,t,n){var r=this,i=1e3*t;if(this.clearDelayTimer(),i){var a=n?{pageX:n.pageX,pageY:n.pageY}:null;this.delayTimer=window.setTimeout((function(){r.setPopupVisible(e,a),r.clearDelayTimer()}),i)}else this.setPopupVisible(e,n)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(e){var t=this.props.children.props,n=this.props;return t[e]&&n[e]?this["fire".concat(e)]:t[e]||n[e]}},{key:"isClickToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isContextMenuOnly",value:function(){var e=this.props.action;return"contextMenu"===e||1===e.length&&"contextMenu"===e[0]}},{key:"isContextMenuToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("contextMenu")||-1!==n.indexOf("contextMenu")}},{key:"isClickToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isMouseEnterToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseEnter")}},{key:"isMouseLeaveToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseLeave")}},{key:"isFocusToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("focus")}},{key:"isBlurToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("blur")}},{key:"forcePopupAlign",value:function(){var e;this.state.popupVisible&&(null===(e=this.popupRef.current)||void 0===e||e.forceAlign())}},{key:"fireEvents",value:function(e,t){var n=this.props.children.props[e];n&&n(t);var r=this.props[e];r&&r(t)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var n=this.state.popupVisible,r=this.props,i=r.children,a=r.forceRender,o=r.alignPoint,u=r.className,s=r.autoDestroy,c=t.Children.only(i),l={key:"trigger"};this.isContextMenuToShow()?l.onContextMenu=this.onContextMenu:l.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(l.onClick=this.onClick,l.onMouseDown=this.onMouseDown,l.onTouchStart=this.onTouchStart):(l.onClick=this.createTwoChains("onClick"),l.onMouseDown=this.createTwoChains("onMouseDown"),l.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(l.onMouseEnter=this.onMouseEnter,o&&(l.onMouseMove=this.onMouseMove)):l.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?l.onMouseLeave=this.onMouseLeave:l.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(l.onFocus=this.onFocus,l.onBlur=this.onBlur):(l.onFocus=this.createTwoChains("onFocus"),l.onBlur=this.createTwoChains("onBlur"));var f=je()(c&&c.props&&c.props.className,u);f&&(l.className=f);var h=De({},l);Yi(c)&&(h.ref=Qi(this.triggerRef,c.ref));var d,p=t.cloneElement(c,h);return(n||this.popupRef.current||a)&&(d=t.createElement(e,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!n&&s&&(d=null),t.createElement(IM.Provider,{value:this.triggerContextValue},p,d)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.popupVisible,r={};return void 0!==n&&t.popupVisible!==n&&(r.popupVisible=n,r.prevPopupVisible=t.popupVisible),r}}]),i}(t.Component);return n.contextType=IM,n.defaultProps={prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:CM,getDocument:NM,onPopupVisibleChange:TM,afterPopupVisibleChange:TM,onPopupAlign:TM,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1},n}(rn),RM={adjustX:1,adjustY:1},DM=[0,0],MM={left:{points:["cr","cl"],overflow:RM,offset:[-4,0],targetOffset:DM},right:{points:["cl","cr"],overflow:RM,offset:[4,0],targetOffset:DM},top:{points:["bc","tc"],overflow:RM,offset:[0,-4],targetOffset:DM},bottom:{points:["tc","bc"],overflow:RM,offset:[0,4],targetOffset:DM},topLeft:{points:["bl","tl"],overflow:RM,offset:[0,-4],targetOffset:DM},leftTop:{points:["tr","tl"],overflow:RM,offset:[-4,0],targetOffset:DM},topRight:{points:["br","tr"],overflow:RM,offset:[0,-4],targetOffset:DM},rightTop:{points:["tl","tr"],overflow:RM,offset:[4,0],targetOffset:DM},bottomRight:{points:["tr","br"],overflow:RM,offset:[0,4],targetOffset:DM},rightBottom:{points:["bl","br"],overflow:RM,offset:[4,0],targetOffset:DM},bottomLeft:{points:["tl","bl"],overflow:RM,offset:[0,4],targetOffset:DM},leftBottom:{points:["br","bl"],overflow:RM,offset:[-4,0],targetOffset:DM}},LM=function(e){var n=e.overlay,r=e.prefixCls,i=e.id,a=e.overlayInnerStyle;return t.createElement("div",{className:"".concat(r,"-inner"),id:i,role:"tooltip",style:a},"function"===typeof n?n():n)},FM=function(e,n){var r=e.overlayClassName,i=e.trigger,a=void 0===i?["hover"]:i,o=e.mouseEnterDelay,u=void 0===o?0:o,s=e.mouseLeaveDelay,c=void 0===s?.1:s,l=e.overlayStyle,f=e.prefixCls,h=void 0===f?"rc-tooltip":f,d=e.children,p=e.onVisibleChange,v=e.afterVisibleChange,m=e.transitionName,y=e.animation,g=e.motion,b=e.placement,k=void 0===b?"right":b,w=e.align,x=void 0===w?{}:w,_=e.destroyTooltipOnHide,S=void 0!==_&&_,I=e.defaultVisible,T=e.getTooltipContainer,C=e.overlayInnerStyle,N=Le(e,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle"]),A=(0,t.useRef)(null);(0,t.useImperativeHandle)(n,(function(){return A.current}));var O=De({},N);"visible"in e&&(O.popupVisible=e.visible);var P=!1,R=!1;if("boolean"===typeof S)P=S;else if(S&&"object"===Ue(S)){var D=S.keepParent;P=!0===D,R=!1===D}return t.createElement(PM,E({popupClassName:r,prefixCls:h,popup:function(){var n=e.arrowContent,r=void 0===n?null:n,i=e.overlay,a=e.id;return[t.createElement("div",{className:"".concat(h,"-arrow"),key:"arrow"},r),t.createElement(LM,{key:"content",prefixCls:h,id:a,overlay:i,overlayInnerStyle:C})]},action:a,builtinPlacements:MM,popupPlacement:k,ref:A,popupAlign:x,getPopupContainer:T,onPopupVisibleChange:p,afterPopupVisibleChange:v,popupTransitionName:m,popupAnimation:y,popupMotion:g,defaultPopupVisible:I,destroyPopupOnHide:P,autoDestroy:R,mouseLeaveDelay:c,popupStyle:l,mouseEnterDelay:u},O),d)},jM=(0,t.forwardRef)(FM);function VM(e){var n=t.useRef();n.current=e;var r=t.useCallback((function(){for(var e,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return null===(e=n.current)||void 0===e?void 0:e.call.apply(e,[n].concat(r))}),[]);return r}!function(e){e[e.INNER=0]="INNER",e[e.PROP=1]="PROP"}(OM||(OM={}));function UM(e){return void 0!==e}function zM(e,n){var r=n||{},i=r.defaultValue,a=r.value,o=r.onChange,u=r.postState,c=s(Ra((function(){var t,n=void 0;return UM(a)?(n=a,t=OM.PROP):UM(i)?(n="function"===typeof i?i():i,t=OM.PROP):(n="function"===typeof e?e():e,t=OM.INNER),[n,t,n]})),2),l=c[0],f=c[1],h=UM(a)?a:l[0],d=u?u(h):h;!function(e,n){var r=t.useRef(!0);yM((function(){if(!r.current)return e()}),n),yM((function(){return r.current=!1,function(){r.current=!0}}),[])}((function(){f((function(e){var t=s(e,1)[0];return[a,OM.PROP,t]}))}),[a]);var p=t.useRef(),v=VM((function(e,t){f((function(t){var n=s(t,3),r=n[0],i=n[1],a=n[2],o="function"===typeof e?e(r):e;if(o===r)return t;var u=i===OM.INNER&&p.current!==a?a:r;return[o,OM.INNER,u]}),t)})),m=VM(o);return yM((function(){var e=s(l,3),t=e[0],n=e[1],r=e[2];t!==r&&n===OM.INNER&&(m(t,r),p.current=r)}),[l]),[d,v]}Ii("success","processing","error","default","warning");var BM=Ii("pink","red","yellow","orange","cyan","green","blue","purple","geekblue","magenta","volcano","gold","lime"),qM={adjustX:1,adjustY:1},HM={adjustX:0,adjustY:0},WM=[0,0];function KM(e){return"boolean"===typeof e?e?qM:HM:E(E({},HM),e)}var GM=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},$M=new RegExp("^(".concat(BM.join("|"),")(-inverse)?$"));function QM(e,n){var r=e.type;if((!0===r.__ANT_BUTTON||"button"===e.type)&&e.props.disabled||!0===r.__ANT_SWITCH&&(e.props.disabled||e.props.loading)){var i=function(e,t){var n={},r=E({},e);return t.forEach((function(t){e&&t in e&&(n[t]=e[t],delete r[t])})),{picked:n,omitted:r}}(e.props.style,["position","left","right","top","bottom","float","display","zIndex"]),a=i.picked,o=i.omitted,u=E(E({display:"inline-block"},a),{cursor:"not-allowed",width:e.props.block?"100%":null}),s=Gi(e,{style:E(E({},o),{pointerEvents:"none"}),className:null});return t.createElement("span",{style:u,className:je()(e.props.className,"".concat(n,"-disabled-compatible-wrapper"))},s)}return e}var YM=t.forwardRef((function(e,n){var r,i=t.useContext(Bn),a=i.getPopupContainer,o=i.getPrefixCls,u=i.direction,c=s(zM(!1,{value:e.visible,defaultValue:e.defaultVisible}),2),l=c[0],f=c[1],h=function(){var t=e.title,n=e.overlay;return!t&&!n&&0!==t},d=function(){var t=e.builtinPlacements,n=e.arrowPointAtCenter,r=e.autoAdjustOverflow;return t||function(e){var t=e.arrowWidth,n=void 0===t?4:t,r=e.horizontalArrowShift,i=void 0===r?16:r,a=e.verticalArrowShift,o=void 0===a?8:a,u=e.autoAdjustOverflow,s=e.arrowPointAtCenter,c={left:{points:["cr","cl"],offset:[-4,0]},right:{points:["cl","cr"],offset:[4,0]},top:{points:["bc","tc"],offset:[0,-4]},bottom:{points:["tc","bc"],offset:[0,4]},topLeft:{points:["bl","tc"],offset:[-(i+n),-4]},leftTop:{points:["tr","cl"],offset:[-4,-(o+n)]},topRight:{points:["br","tc"],offset:[i+n,-4]},rightTop:{points:["tl","cr"],offset:[4,-(o+n)]},bottomRight:{points:["tr","bc"],offset:[i+n,4]},rightBottom:{points:["bl","cr"],offset:[4,o+n]},bottomLeft:{points:["tl","bc"],offset:[-(i+n),4]},leftBottom:{points:["br","cl"],offset:[-4,o+n]}};return Object.keys(c).forEach((function(e){c[e]=s?E(E({},c[e]),{overflow:KM(u),targetOffset:WM}):E(E({},MM[e]),{overflow:KM(u)}),c[e].ignoreShake=!0})),c}({arrowPointAtCenter:n,autoAdjustOverflow:r})},p=e.getPopupContainer,v=GM(e,["getPopupContainer"]),m=e.prefixCls,y=e.openClassName,g=e.getTooltipContainer,b=e.overlayClassName,k=e.color,w=e.overlayInnerStyle,x=e.children,_=o("tooltip",m),S=o(),I=l;!("visible"in e)&&h()&&(I=!1);var T,C=QM(Ki(x)?x:t.createElement("span",null,x),_),N=C.props,A=je()(N.className,Pe({},y||"".concat(_,"-open"),!0)),O=je()(b,(Pe(r={},"".concat(_,"-rtl"),"rtl"===u),Pe(r,"".concat(_,"-").concat(k),k&&$M.test(k)),r)),P=w;return k&&!$M.test(k)&&(P=E(E({},w),{background:k}),T={"--antd-arrow-background-color":k}),t.createElement(jM,E({},v,{prefixCls:_,overlayClassName:O,getTooltipContainer:p||g||a,ref:n,builtinPlacements:d(),overlay:function(){var t=e.title,n=e.overlay;return 0===t?t:n||t||""}(),visible:I,onVisibleChange:function(t){var n;f(!h()&&t),h()||null===(n=e.onVisibleChange)||void 0===n||n.call(e,t)},onPopupAlign:function(e,t){var n=d(),r=Object.keys(n).find((function(e){return n[e].points[0]===t.points[0]&&n[e].points[1]===t.points[1]}));if(r){var i=e.getBoundingClientRect(),a={top:"50%",left:"50%"};r.indexOf("top")>=0||r.indexOf("Bottom")>=0?a.top="".concat(i.height-t.offset[1],"px"):(r.indexOf("Top")>=0||r.indexOf("bottom")>=0)&&(a.top="".concat(-t.offset[1],"px")),r.indexOf("left")>=0||r.indexOf("Right")>=0?a.left="".concat(i.width-t.offset[0],"px"):(r.indexOf("right")>=0||r.indexOf("Left")>=0)&&(a.left="".concat(-t.offset[0],"px")),e.style.transformOrigin="".concat(a.left," ").concat(a.top)}},overlayInnerStyle:P,arrowContent:t.createElement("span",{className:"".concat(_,"-arrow-content"),style:T}),motion:{motionName:LP(S,"zoom-big-fast",e.transitionName),motionDeadline:1e3}}),I?Gi(C,{className:A}):C)}));YM.defaultProps={placement:"top",mouseEnterDelay:.1,mouseLeaveDelay:.1,arrowPointAtCenter:!1,autoAdjustOverflow:!0};var XM=YM,JM=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};var ZM=function(e){var n=e.prefixCls,r=e.label,i=e.htmlFor,a=e.labelCol,o=e.labelAlign,u=e.colon,c=e.required,l=e.requiredMark,f=e.tooltip,h=function(e,n){var r=t.useContext(NR),i=t.useMemo((function(){var t=n||DR[e||"global"],i=e&&r?r[e]:{};return E(E({},"function"===typeof t?t():t),i||{})}),[e,n,r]);return[i]}("Form"),d=s(h,1)[0];return r?t.createElement(wi.Consumer,{key:"label"},(function(e){var s,h,p=e.vertical,v=e.labelAlign,m=e.labelCol,y=e.labelWrap,g=e.colon,b=a||m||{},k=o||v,w="".concat(n,"-item-label"),x=je()(w,"left"===k&&"".concat(w,"-left"),b.className,Pe({},"".concat(w,"-wrap"),!!y)),_=r,S=!0===u||!1!==g&&!1!==u;S&&!p&&"string"===typeof r&&""!==r.trim()&&(_=r.replace(/[:|\uff1a]\s*$/,""));var I=function(e){return e?"object"!==Ue(e)||t.isValidElement(e)?{title:e}:e:null}(f);if(I){var T=I.icon,C=void 0===T?t.createElement(CR,null):T,N=JM(I,["icon"]),A=t.createElement(XM,E({},N),t.cloneElement(C,{className:"".concat(n,"-item-tooltip"),title:""}));_=t.createElement(t.Fragment,null,_,A)}"optional"!==l||c||(_=t.createElement(t.Fragment,null,_,t.createElement("span",{className:"".concat(n,"-item-optional"),title:""},(null===d||void 0===d?void 0:d.optional)||(null===(h=RR.Form)||void 0===h?void 0:h.optional))));var O=je()((Pe(s={},"".concat(n,"-item-required"),c),Pe(s,"".concat(n,"-item-required-mark-optional"),"optional"===l),Pe(s,"".concat(n,"-item-no-colon"),!S),s));return t.createElement(_R,E({},b,{className:x}),t.createElement("label",{htmlFor:i,className:O,title:"string"===typeof r?r:""},_))})):null};function eL(e){var n=s(t.useState(e),2),r=n[0],i=n[1];return t.useEffect((function(){var t=setTimeout((function(){i(e)}),e.length?0:10);return function(){clearTimeout(t)}}),[e]),r}var tL=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},nL=(Ii("success","warning","error","validating",""),t.memo((function(e){return e.children}),(function(e,t){return e.value===t.value&&e.update===t.update})));var rL={success:iR,warning:lR,error:uR,validating:la};var iL=function(e){var n=e.name,r=e.noStyle,i=e.dependencies,a=e.prefixCls,o=e.style,u=e.className,c=e.shouldUpdate,l=e.hasFeedback,f=e.help,h=e.rules,d=e.validateStatus,p=e.children,v=e.required,m=e.label,y=e.messageVariables,g=e.trigger,b=void 0===g?"onChange":g,k=e.validateTrigger,w=e.hidden,x=tL(e,["name","noStyle","dependencies","prefixCls","style","className","shouldUpdate","hasFeedback","help","rules","validateStatus","children","required","label","messageVariables","trigger","validateTrigger","hidden"]),_=(0,t.useContext)(Bn).getPrefixCls,S=(0,t.useContext)(wi),I=S.name,T=S.requiredMark,C="function"===typeof p,N=(0,t.useContext)(xi),A=(0,t.useContext)($n).validateTrigger,O=void 0!==k?k:A,P=function(e){return!(void 0===e||null===e)}(n),R=_("form",a),D=t.useContext(ri),M=t.useRef(),L=function(e){var n=s(t.useState(e),2),r=n[0],i=n[1],a=(0,t.useRef)(null),o=(0,t.useRef)([]),u=(0,t.useRef)(!1);return t.useEffect((function(){return u.current=!1,function(){u.current=!0,Zt.cancel(a.current),a.current=null}}),[]),[r,function(e){u.current||(null===a.current&&(o.current=[],a.current=Zt((function(){a.current=null,i((function(e){var t=e;return o.current.forEach((function(e){t=e(t)})),t}))}))),o.current.push(e))}]}({}),F=s(L,2),j=F[0],V=F[1],U=s(Ra((function(){return{errors:[],warnings:[],touched:!1,validating:!1,name:[]}})),2),z=U[0],B=U[1],q=function(e,t){V((function(n){var r=E({},n),i=[].concat(ln(e.name.slice(0,-1)),ln(t)).join("__SPLIT__");return e.destroy?delete r[i]:r[i]=e,r}))},H=s(t.useMemo((function(){var e=ln(z.errors),t=ln(z.warnings);return Object.values(j).forEach((function(n){e.push.apply(e,ln(n.errors||[])),t.push.apply(t,ln(n.warnings||[]))})),[e,t]}),[j,z.errors,z.warnings]),2),W=H[0],K=H[1],G=eL(W),$=eL(K),Q=function(){var e=t.useContext(wi).itemRef,n=t.useRef({});return function(t,r){var i=r&&"object"===Ue(r)&&r.ref,a=t.join("_");return n.current.name===a&&n.current.originRef===i||(n.current.name=a,n.current.originRef=i,n.current.ref=Qi(e(t),i)),n.current.ref}}(),Y="";void 0!==d?Y=d:(null===z||void 0===z?void 0:z.validating)?Y="validating":G.length?Y="error":$.length?Y="warning":(null===z||void 0===z?void 0:z.touched)&&(Y="success");var X=(0,t.useMemo)((function(){var e;if(l){var n=Y&&rL[Y];e=n?t.createElement("span",{className:je()("".concat(R,"-item-feedback-icon"),"".concat(R,"-item-feedback-icon-").concat(Y))},t.createElement(n,null)):null}return{status:Y,hasFeedback:l,feedbackIcon:e,isFormItemInput:!0}}),[Y,l]);function J(n,i,a){var s;if(r&&!w)return n;var c=(Pe(s={},"".concat(R,"-item"),!0),Pe(s,"".concat(R,"-item-with-help"),void 0!==f&&null!==f||G.length||$.length),Pe(s,"".concat(u),!!u),Pe(s,"".concat(R,"-item-has-feedback"),Y&&l),Pe(s,"".concat(R,"-item-has-success"),"success"===Y),Pe(s,"".concat(R,"-item-has-warning"),"warning"===Y),Pe(s,"".concat(R,"-item-has-error"),"error"===Y),Pe(s,"".concat(R,"-item-is-validating"),"validating"===Y),Pe(s,"".concat(R,"-item-hidden"),w),s);return t.createElement(kR,E({className:je()(c),style:o,key:"row"},Sn(x,["colon","extra","fieldKey","requiredMark","getValueFromEvent","getValueProps","htmlFor","id","initialValue","isListField","labelAlign","labelWrap","labelCol","normalize","preserve","tooltip","validateFirst","valuePropName","wrapperCol","_internalItemRender"])),t.createElement(ZM,E({htmlFor:i,required:a,requiredMark:T},e,{prefixCls:R})),t.createElement(SR,E({},e,z,{errors:G,warnings:$,prefixCls:R,status:Y,help:f}),t.createElement(xi.Provider,{value:q},t.createElement(_i.Provider,{value:X},n))))}if(!P&&!C&&!i)return J(p);var Z={};return"string"===typeof m?Z.label=m:n&&(Z.label=String(n)),y&&(Z=E(E({},Z),y)),t.createElement(ni,E({},e,{messageVariables:Z,trigger:b,validateTrigger:O,onMetaChange:function(e){var t=null===D||void 0===D?void 0:D.getKey(e.name);if(B(e.destroy?{errors:[],warnings:[],touched:!1,validating:!1,name:[]}:e,!0),r&&N){var n=e.name;if(e.destroy)n=M.current||n;else if(void 0!==t){var i=s(t,2),a=i[0],o=i[1];n=[a].concat(ln(o)),M.current=n}N(e,n)}}}),(function(r,a,o){var u=QP(n).length&&a?a.name:[],s=YP(u,I),l=void 0!==v?v:!(!h||!h.some((function(e){if(e&&"object"===Ue(e)&&e.required&&!e.warningOnly)return!0;if("function"===typeof e){var t=e(o);return t&&t.required&&!t.warningOnly}return!1}))),f=E({},r),d=null;if(Array.isArray(p)&&P)d=p;else if(C&&(!c&&!i||P));else if(!i||C||P)if(Ki(p)){var m=E(E({},p.props),f);m.id||(m.id=s),Yi(p)&&(m.ref=Q(u,p)),new Set([].concat(ln(QP(b)),ln(QP(O)))).forEach((function(e){m[e]=function(){for(var t,n,r,i,a,o=arguments.length,u=new Array(o),s=0;s<o;s++)u[s]=arguments[s];null===(r=f[e])||void 0===r||(t=r).call.apply(t,[f].concat(u)),null===(a=(i=p.props)[e])||void 0===a||(n=a).call.apply(n,[i].concat(u))}})),d=t.createElement(nL,{value:f[e.valuePropName||"value"],update:p},Gi(p,m))}else d=C&&(c||i)&&!P?p(o):p;else;return J(d,s,l)}))},aL=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},oL=function(e){var n=e.prefixCls,r=e.children,i=aL(e,["prefixCls","children"]),a=(0,t.useContext(Bn).getPrefixCls)("form",n),o=t.useMemo((function(){return{prefixCls:a,status:"error"}}),[a]);return t.createElement(ii,E({},i),(function(e,n,i){return t.createElement(Ei.Provider,{value:o},r(e.map((function(e){return E(E({},e),{fieldKey:e.key})})),n,{errors:i.errors,warnings:i.warnings}))}))};var uL=tR;uL.Item=iL,uL.List=oL,uL.ErrorList=UP,uL.useForm=JP,uL.useFormInstance=function(){return(0,t.useContext)(wi).form},uL.useWatch=gi,uL.Provider=function(e){var n=Sn(e,["prefixCls"]);return t.createElement(di,E({},n))},uL.create=function(){};var sL=uL,cL=function(e){var n,r=(0,t.useContext)(Bn),i=r.getPrefixCls,a=r.direction,o=e.prefixCls,u=e.className,s=void 0===u?"":u,c=i("input-group",o),l=je()(c,(Pe(n={},"".concat(c,"-lg"),"large"===e.size),Pe(n,"".concat(c,"-sm"),"small"===e.size),Pe(n,"".concat(c,"-compact"),e.compact),Pe(n,"".concat(c,"-rtl"),"rtl"===a),n),s),f=(0,t.useContext)(_i),h=(0,t.useMemo)((function(){return E(E({},f),{isFormItemInput:!1})}),[f]);return t.createElement("span",{className:l,style:e.style,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onFocus:e.onFocus,onBlur:e.onBlur},t.createElement(_i.Provider,{value:h},e.children))};function lL(e){return!(!e.addonBefore&&!e.addonAfter)}function fL(e){return!!(e.prefix||e.suffix||e.allowClear)}function hL(e,t,n,r){if(n){var i=t;if("click"===t.type){var a=e.cloneNode(!0);return i=Object.create(t,{target:{value:a},currentTarget:{value:a}}),a.value="",void n(i)}if(void 0!==r)return i=Object.create(t,{target:{value:e},currentTarget:{value:e}}),e.value=r,void n(i);n(i)}}function dL(e){return"undefined"===typeof e||null===e?"":String(e)}var pL=function(e){var n=e.inputElement,r=e.prefixCls,i=e.prefix,a=e.suffix,o=e.addonBefore,u=e.addonAfter,s=e.className,c=e.style,l=e.affixWrapperClassName,f=e.groupClassName,h=e.wrapperClassName,d=e.disabled,p=e.readOnly,v=e.focused,m=e.triggerFocus,y=e.allowClear,g=e.value,b=e.handleReset,k=e.hidden,w=(0,t.useRef)(null),x=(0,t.cloneElement)(n,{value:g,hidden:k});if(fL(e)){var E,_="".concat(r,"-affix-wrapper"),S=je()(_,(Pe(E={},"".concat(_,"-disabled"),d),Pe(E,"".concat(_,"-focused"),v),Pe(E,"".concat(_,"-readonly"),p),Pe(E,"".concat(_,"-input-with-clear-btn"),a&&y&&g),E),!lL(e)&&s,l),I=(a||y)&&t.createElement("span",{className:"".concat(r,"-suffix")},function(){var e;if(!y)return null;var n=!d&&!p&&g,i="".concat(r,"-clear-icon"),o="object"===Ue(y)&&(null===y||void 0===y?void 0:y.clearIcon)?y.clearIcon:"\u2716";return t.createElement("span",{onClick:b,onMouseDown:function(e){return e.preventDefault()},className:je()(i,(e={},Pe(e,"".concat(i,"-hidden"),!n),Pe(e,"".concat(i,"-has-suffix"),!!a),e)),role:"button",tabIndex:-1},o)}(),a);x=t.createElement("span",{className:S,style:c,hidden:!lL(e)&&k,onMouseDown:function(e){var t;(null===(t=w.current)||void 0===t?void 0:t.contains(e.target))&&(null===m||void 0===m||m())},ref:w},i&&t.createElement("span",{className:"".concat(r,"-prefix")},i),(0,t.cloneElement)(n,{style:null,value:g,hidden:null}),I)}if(lL(e)){var T="".concat(r,"-group"),C="".concat(T,"-addon"),N=je()("".concat(r,"-wrapper"),T,h),A=je()("".concat(r,"-group-wrapper"),s,f);return t.createElement("span",{className:A,style:c,hidden:k},t.createElement("span",{className:N},o&&t.createElement("span",{className:C},o),(0,t.cloneElement)(x,{style:null,hidden:null}),u&&t.createElement("span",{className:C},u)))}return x},vL=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","type","inputClassName"],mL=(0,t.forwardRef)((function(e,n){var r=e.autoComplete,i=e.onChange,a=e.onFocus,o=e.onBlur,u=e.onPressEnter,c=e.onKeyDown,l=e.prefixCls,f=void 0===l?"rc-input":l,h=e.disabled,d=e.htmlSize,p=e.className,v=e.maxLength,m=e.suffix,y=e.showCount,g=e.type,b=void 0===g?"text":g,k=e.inputClassName,w=Le(e,vL),x=s(zM(e.defaultValue,{value:e.value}),2),E=x[0],_=x[1],S=s((0,t.useState)(!1),2),I=S[0],T=S[1],C=(0,t.useRef)(null),N=function(e){C.current&&function(e,t){if(e){e.focus(t);var n=(t||{}).cursor;if(n){var r=e.value.length;switch(n){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(r,r);break;default:e.setSelectionRange(0,r)}}}}(C.current,e)};(0,t.useImperativeHandle)(n,(function(){return{focus:N,blur:function(){var e;null===(e=C.current)||void 0===e||e.blur()},setSelectionRange:function(e,t,n){var r;null===(r=C.current)||void 0===r||r.setSelectionRange(e,t,n)},select:function(){var e;null===(e=C.current)||void 0===e||e.select()},input:C.current}})),(0,t.useEffect)((function(){T((function(e){return(!e||!h)&&e}))}),[h]);var A=function(t){void 0===e.value&&_(t.target.value),C.current&&hL(C.current,t,i)},O=function(e){u&&"Enter"===e.key&&u(e),null===c||void 0===c||c(e)},P=function(e){T(!0),null===a||void 0===a||a(e)},R=function(e){T(!1),null===o||void 0===o||o(e)};return t.createElement(pL,De(De({},w),{},{prefixCls:f,className:p,inputElement:function(){var n=Sn(e,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","affixWrapperClassName","groupClassName","inputClassName","wrapperClassName","htmlSize"]);return t.createElement("input",De(De({autoComplete:r},n),{},{onChange:A,onFocus:P,onBlur:R,onKeyDown:O,className:je()(f,Pe({},"".concat(f,"-disabled"),h),k,!lL(e)&&!fL(e)&&p),ref:C,size:d,type:b}))}(),handleReset:function(e){_(""),N(),C.current&&hL(C.current,e,i)},value:dL(E),focused:I,triggerFocus:N,suffix:function(){var e=Number(v)>0;if(m||y){var n=ln(dL(E)).length,r="object"===Ue(y)?y.formatter({count:n,maxLength:v}):"".concat(n).concat(e?" / ".concat(v):"");return t.createElement(t.Fragment,null,!!y&&t.createElement("span",{className:je()("".concat(f,"-show-count-suffix"),Pe({},"".concat(f,"-show-count-has-suffix"),!!m))},r),m)}return null}(),disabled:h}))})),yL=mL;Ii("warning","error","");function gL(e,t,n){var r;return je()((Pe(r={},"".concat(e,"-status-success"),"success"===t),Pe(r,"".concat(e,"-status-warning"),"warning"===t),Pe(r,"".concat(e,"-status-error"),"error"===t),Pe(r,"".concat(e,"-status-validating"),"validating"===t),Pe(r,"".concat(e,"-has-feedback"),n),r))}var bL=function(e,t){return t||e};var kL=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function wL(e,t,n,r){if(n){var i=t;if("click"===t.type){var a=e.cloneNode(!0);return i=Object.create(t,{target:{value:a},currentTarget:{value:a}}),a.value="",void n(i)}if(void 0!==r)return i=Object.create(t,{target:{value:e},currentTarget:{value:e}}),e.value=r,void n(i);n(i)}}var xL=(0,t.forwardRef)((function(e,n){var r,i,a,o=e.prefixCls,u=e.bordered,s=void 0===u||u,c=e.status,l=e.size,f=e.disabled,h=e.onBlur,d=e.onFocus,p=e.suffix,v=e.allowClear,m=e.addonAfter,y=e.addonBefore,g=kL(e,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore"]),b=t.useContext(Bn),k=b.getPrefixCls,w=b.direction,x=b.input,_=k("input",o),S=(0,t.useRef)(null),I=t.useContext(Wi),T=l||I,C=t.useContext(Bi),N=f||C,A=(0,t.useContext)(_i),O=A.status,P=A.hasFeedback,R=A.feedbackIcon,D=bL(O,c),M=function(e){return!!(e.prefix||e.suffix||e.allowClear)}(e)||!!P,L=(0,t.useRef)(M);(0,t.useEffect)((function(){M&&L.current,L.current=M}),[M]);var F=(0,t.useRef)([]),j=function(){F.current.push(window.setTimeout((function(){var e,t,n,r;(null===(e=S.current)||void 0===e?void 0:e.input)&&"password"===(null===(t=S.current)||void 0===t?void 0:t.input.getAttribute("type"))&&(null===(n=S.current)||void 0===n?void 0:n.input.hasAttribute("value"))&&(null===(r=S.current)||void 0===r||r.input.removeAttribute("value"))})))};(0,t.useEffect)((function(){return j(),function(){return F.current.forEach((function(e){return window.clearTimeout(e)}))}}),[]);var V,U=(P||p)&&t.createElement(t.Fragment,null,p,P&&R);return"object"===Ue(v)&&(null===v||void 0===v?void 0:v.clearIcon)?V=v:v&&(V={clearIcon:t.createElement(uR,null)}),t.createElement(yL,E({ref:Qi(n,S),prefixCls:_,autoComplete:null===x||void 0===x?void 0:x.autoComplete},g,{disabled:N||void 0,onBlur:function(e){j(),null===h||void 0===h||h(e)},onFocus:function(e){j(),null===d||void 0===d||d(e)},suffix:U,allowClear:V,addonAfter:m&&t.createElement(Si,{override:!0,status:!0},m),addonBefore:y&&t.createElement(Si,{override:!0,status:!0},y),inputClassName:je()((r={},Pe(r,"".concat(_,"-sm"),"small"===T),Pe(r,"".concat(_,"-lg"),"large"===T),Pe(r,"".concat(_,"-rtl"),"rtl"===w),Pe(r,"".concat(_,"-borderless"),!s),r),!M&&gL(_,D)),affixWrapperClassName:je()((i={},Pe(i,"".concat(_,"-affix-wrapper-sm"),"small"===T),Pe(i,"".concat(_,"-affix-wrapper-lg"),"large"===T),Pe(i,"".concat(_,"-affix-wrapper-rtl"),"rtl"===w),Pe(i,"".concat(_,"-affix-wrapper-borderless"),!s),i),gL("".concat(_,"-affix-wrapper"),D,P)),wrapperClassName:je()(Pe({},"".concat(_,"-group-rtl"),"rtl"===w)),groupClassName:je()((a={},Pe(a,"".concat(_,"-group-wrapper-sm"),"small"===T),Pe(a,"".concat(_,"-group-wrapper-lg"),"large"===T),Pe(a,"".concat(_,"-group-wrapper-rtl"),"rtl"===w),a),gL("".concat(_,"-group-wrapper"),D,P))}))})),EL=xL,_L={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},SL=function(e,n){return t.createElement(Lt,De(De({},e),{},{ref:n,icon:_L}))};SL.displayName="EyeInvisibleOutlined";var IL=t.forwardRef(SL),TL={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},CL=function(e,n){return t.createElement(Lt,De(De({},e),{},{ref:n,icon:TL}))};CL.displayName="EyeOutlined";var NL=t.forwardRef(CL),AL=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},OL={click:"onClick",hover:"onMouseOver"},PL=t.forwardRef((function(e,n){var r=s((0,t.useState)(!1),2),i=r[0],a=r[1],o=function(){e.disabled||a(!i)},u=function(r){var a=r.getPrefixCls,u=e.className,s=e.prefixCls,c=e.inputPrefixCls,l=e.size,f=e.visibilityToggle,h=AL(e,["className","prefixCls","inputPrefixCls","size","visibilityToggle"]),d=a("input",c),p=a("input-password",s),v=f&&function(n){var r,a=e.action,u=e.iconRender,s=OL[a]||"",c=(void 0===u?function(){return null}:u)(i),l=(Pe(r={},s,o),Pe(r,"className","".concat(n,"-icon")),Pe(r,"key","passwordIcon"),Pe(r,"onMouseDown",(function(e){e.preventDefault()})),Pe(r,"onMouseUp",(function(e){e.preventDefault()})),r);return t.cloneElement(t.isValidElement(c)?c:t.createElement("span",null,c),l)}(p),m=je()(p,u,Pe({},"".concat(p,"-").concat(l),!!l)),y=E(E({},Sn(h,["suffix","iconRender"])),{type:i?"text":"password",className:m,prefixCls:d,suffix:v});return l&&(y.size=l),t.createElement(EL,E({ref:n},y))};return t.createElement(qn,null,u)}));PL.defaultProps={action:"click",visibilityToggle:!0,iconRender:function(e){return e?t.createElement(NL,null):t.createElement(IL,null)}};var RL=PL,DL={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},ML=function(e,n){return t.createElement(Lt,De(De({},e),{},{ref:n,icon:DL}))};ML.displayName="SearchOutlined";var LL=t.forwardRef(ML),FL=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},jL=t.forwardRef((function(e,n){var r,i,a=e.prefixCls,o=e.inputPrefixCls,u=e.className,s=e.size,c=e.suffix,l=e.enterButton,f=void 0!==l&&l,h=e.addonAfter,d=e.loading,p=e.disabled,v=e.onSearch,m=e.onChange,y=e.onCompositionStart,g=e.onCompositionEnd,b=FL(e,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),k=t.useContext(Bn),w=k.getPrefixCls,x=k.direction,_=t.useContext(Wi),S=t.useRef(!1),I=s||_,T=t.useRef(null),C=function(e){var t;document.activeElement===(null===(t=T.current)||void 0===t?void 0:t.input)&&e.preventDefault()},N=function(e){var t,n;v&&v(null===(n=null===(t=T.current)||void 0===t?void 0:t.input)||void 0===n?void 0:n.value,e)},A=w("input-search",a),O=w("input",o),P="boolean"===typeof f?t.createElement(LL,null):null,R="".concat(A,"-button"),D=f||{},M=D.type&&!0===D.type.__ANT_BUTTON;i=M||"button"===D.type?Gi(D,E({onMouseDown:C,onClick:function(e){var t,n;null===(n=null===(t=null===D||void 0===D?void 0:D.props)||void 0===t?void 0:t.onClick)||void 0===n||n.call(t,e),N(e)},key:"enterButton"},M?{className:R,size:I}:{})):t.createElement(lo,{className:R,type:f?"primary":void 0,size:I,disabled:p,key:"enterButton",onMouseDown:C,onClick:N,loading:d,icon:P},f),h&&(i=[i,Gi(h,{key:"addonAfter"})]);var L=je()(A,(Pe(r={},"".concat(A,"-rtl"),"rtl"===x),Pe(r,"".concat(A,"-").concat(I),!!I),Pe(r,"".concat(A,"-with-button"),!!f),r),u);return t.createElement(EL,E({ref:Qi(T,n),onPressEnter:function(e){S.current||N(e)}},b,{size:I,onCompositionStart:function(e){S.current=!0,null===y||void 0===y||y(e)},onCompositionEnd:function(e){S.current=!1,null===g||void 0===g||g(e)},prefixCls:O,addonAfter:i,suffix:c,onChange:function(e){e&&e.target&&"click"===e.type&&v&&v(e.target.value,e),m&&m(e)},className:L,disabled:p}))}));var VL=jL,UL=new Map;var zL=new lM((function(e){e.forEach((function(e){var t,n=e.target;null===(t=UL.get(n))||void 0===t||t.forEach((function(e){return e(n)}))}))}));var BL=function(e){Bt(n,e);var t=Gt(n);function n(){return Vt(this,n),t.apply(this,arguments)}return zt(n,[{key:"render",value:function(){return this.props.children}}]),n}(t.Component),qL=t.createContext(null);function HL(e){var n=e.children,r=e.disabled,i=t.useRef(null),a=t.useRef(null),o=t.useContext(qL),u="function"===typeof n,s=u?n(i):n,c=t.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),l=!u&&t.isValidElement(s)&&Yi(s),f=l?s.ref:null,h=t.useMemo((function(){return Qi(f,i)}),[f,i]),d=t.useRef(e);d.current=e;var p=t.useCallback((function(e){var t=d.current,n=t.onResize,r=t.data,i=e.getBoundingClientRect(),a=i.width,u=i.height,s=e.offsetWidth,l=e.offsetHeight,f=Math.floor(a),h=Math.floor(u);if(c.current.width!==f||c.current.height!==h||c.current.offsetWidth!==s||c.current.offsetHeight!==l){var p={width:f,height:h,offsetWidth:s,offsetHeight:l};c.current=p;var v=s===Math.round(a)?a:s,m=l===Math.round(u)?u:l,y=De(De({},p),{},{offsetWidth:v,offsetHeight:m});null===o||void 0===o||o(y,e,r),n&&Promise.resolve().then((function(){n(y,e)}))}}),[]);return t.useEffect((function(){var e=fa(i.current)||fa(a.current);return e&&!r&&function(e,t){UL.has(e)||(UL.set(e,new Set),zL.observe(e)),UL.get(e).add(t)}(e,p),function(){return function(e,t){UL.has(e)&&(UL.get(e).delete(t),UL.get(e).size||(zL.unobserve(e),UL.delete(e)))}(e,p)}}),[i.current,r]),t.createElement(BL,{ref:a},l?t.cloneElement(s,{ref:h}):s)}function WL(e){var n=e.children;return("function"===typeof n?[n]:Wn(n)).map((function(n,r){var i=(null===n||void 0===n?void 0:n.key)||"".concat("rc-observer-key","-").concat(r);return t.createElement(HL,E({},e,{key:i}),n)}))}WL.Collection=function(e){var n=e.children,r=e.onBatchResize,i=t.useRef(0),a=t.useRef([]),o=t.useContext(qL),u=t.useCallback((function(e,t,n){i.current+=1;var u=i.current;a.current.push({size:e,element:t,data:n}),Promise.resolve().then((function(){u===i.current&&(null===r||void 0===r||r(a.current),a.current=[])})),null===o||void 0===o||o(e,t,n)}),[r,o]);return t.createElement(qL.Provider,{value:u},n)};var KL,GL=WL,$L="\n  min-height:0 !important;\n  max-height:none !important;\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important\n",QL=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break"],YL={};function XL(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(t&&YL[n])return YL[n];var r=window.getComputedStyle(e),i=r.getPropertyValue("box-sizing")||r.getPropertyValue("-moz-box-sizing")||r.getPropertyValue("-webkit-box-sizing"),a=parseFloat(r.getPropertyValue("padding-bottom"))+parseFloat(r.getPropertyValue("padding-top")),o=parseFloat(r.getPropertyValue("border-bottom-width"))+parseFloat(r.getPropertyValue("border-top-width")),u=QL.map((function(e){return"".concat(e,":").concat(r.getPropertyValue(e))})).join(";"),s={sizingStyle:u,paddingSize:a,borderSize:o,boxSizing:i};return t&&n&&(YL[n]=s),s}var JL,ZL=n(9613),eF=n.n(ZL);!function(e){e[e.NONE=0]="NONE",e[e.RESIZING=1]="RESIZING",e[e.RESIZED=2]="RESIZED"}(JL||(JL={}));var tF=function(e){Bt(r,e);var n=Gt(r);function r(e){var i;return Vt(this,r),(i=n.call(this,e)).nextFrameActionId=void 0,i.resizeFrameId=void 0,i.textArea=void 0,i.saveTextArea=function(e){i.textArea=e},i.handleResize=function(e){var t=i.state.resizeStatus,n=i.props,r=n.autoSize,a=n.onResize;t===JL.NONE&&("function"===typeof a&&a(e),r&&i.resizeOnNextFrame())},i.resizeOnNextFrame=function(){cancelAnimationFrame(i.nextFrameActionId),i.nextFrameActionId=requestAnimationFrame(i.resizeTextarea)},i.resizeTextarea=function(){var e=i.props.autoSize;if(e&&i.textArea){var t=e.minRows,n=e.maxRows,r=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;KL||((KL=document.createElement("textarea")).setAttribute("tab-index","-1"),KL.setAttribute("aria-hidden","true"),document.body.appendChild(KL)),e.getAttribute("wrap")?KL.setAttribute("wrap",e.getAttribute("wrap")):KL.removeAttribute("wrap");var i=XL(e,t),a=i.paddingSize,o=i.borderSize,u=i.boxSizing,s=i.sizingStyle;KL.setAttribute("style","".concat(s,";").concat($L)),KL.value=e.value||e.placeholder||"";var c,l=Number.MIN_SAFE_INTEGER,f=Number.MAX_SAFE_INTEGER,h=KL.scrollHeight;if("border-box"===u?h+=o:"content-box"===u&&(h-=a),null!==n||null!==r){KL.value=" ";var d=KL.scrollHeight-a;null!==n&&(l=d*n,"border-box"===u&&(l=l+a+o),h=Math.max(l,h)),null!==r&&(f=d*r,"border-box"===u&&(f=f+a+o),c=h>f?"":"hidden",h=Math.min(f,h))}return{height:h,minHeight:l,maxHeight:f,overflowY:c,resize:"none"}}(i.textArea,!1,t,n);i.setState({textareaStyles:r,resizeStatus:JL.RESIZING},(function(){cancelAnimationFrame(i.resizeFrameId),i.resizeFrameId=requestAnimationFrame((function(){i.setState({resizeStatus:JL.RESIZED},(function(){i.resizeFrameId=requestAnimationFrame((function(){i.setState({resizeStatus:JL.NONE}),i.fixFirefoxAutoScroll()}))}))}))}))}},i.renderTextArea=function(){var e=i.props,n=e.prefixCls,r=void 0===n?"rc-textarea":n,a=e.autoSize,o=e.onResize,u=e.className,s=e.disabled,c=i.state,l=c.textareaStyles,f=c.resizeStatus,h=Sn(i.props,["prefixCls","onPressEnter","autoSize","defaultValue","onResize"]),d=je()(r,u,Pe({},"".concat(r,"-disabled"),s));"value"in h&&(h.value=h.value||"");var p=De(De(De({},i.props.style),l),f===JL.RESIZING?{overflowX:"hidden",overflowY:"hidden"}:null);return t.createElement(GL,{onResize:i.handleResize,disabled:!(a||o)},t.createElement("textarea",E({},h,{className:d,style:p,ref:i.saveTextArea})))},i.state={textareaStyles:{},resizeStatus:JL.NONE},i}return zt(r,[{key:"componentDidUpdate",value:function(e){e.value===this.props.value&&eF()(e.autoSize,this.props.autoSize)||this.resizeTextarea()}},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.nextFrameActionId),cancelAnimationFrame(this.resizeFrameId)}},{key:"fixFirefoxAutoScroll",value:function(){try{if(document.activeElement===this.textArea){var e=this.textArea.selectionStart,t=this.textArea.selectionEnd;this.textArea.setSelectionRange(e,t)}}catch(BP){}}},{key:"render",value:function(){return this.renderTextArea()}}]),r}(t.Component),nF=tF,rF=function(e){Bt(r,e);var n=Gt(r);function r(e){var t;Vt(this,r),(t=n.call(this,e)).resizableTextArea=void 0,t.focus=function(){t.resizableTextArea.textArea.focus()},t.saveTextArea=function(e){t.resizableTextArea=e},t.handleChange=function(e){var n=t.props.onChange;t.setValue(e.target.value,(function(){t.resizableTextArea.resizeTextarea()})),n&&n(e)},t.handleKeyDown=function(e){var n=t.props,r=n.onPressEnter,i=n.onKeyDown;13===e.keyCode&&r&&r(e),i&&i(e)};var i="undefined"===typeof e.value||null===e.value?e.defaultValue:e.value;return t.state={value:i},t}return zt(r,[{key:"setValue",value:function(e,t){"value"in this.props||this.setState({value:e},t)}},{key:"blur",value:function(){this.resizableTextArea.textArea.blur()}},{key:"render",value:function(){return t.createElement(nF,E({},this.props,{value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,ref:this.saveTextArea}))}}],[{key:"getDerivedStateFromProps",value:function(e){return"value"in e?{value:e.value}:null}}]),r}(t.Component),iF=rF,aF=Ii("text","input");var oF=function(e){Bt(r,e);var n=Gt(r);function r(){return Vt(this,r),n.apply(this,arguments)}return zt(r,[{key:"renderClearIcon",value:function(e){var n,r=this.props,i=r.value,a=r.disabled,o=r.readOnly,u=r.handleReset,s=r.suffix,c=!a&&!o&&i,l="".concat(e,"-clear-icon");return t.createElement(uR,{onClick:u,onMouseDown:function(e){return e.preventDefault()},className:je()((n={},Pe(n,"".concat(l,"-hidden"),!c),Pe(n,"".concat(l,"-has-suffix"),!!s),n),l),role:"button"})}},{key:"renderTextAreaWithClearIcon",value:function(e,n,r){var i,a=this.props,o=a.value,u=a.allowClear,s=a.className,c=a.style,l=a.direction,f=a.bordered,h=a.hidden,d=a.status,p=r.status,v=r.hasFeedback;if(!u)return Gi(n,{value:o});var m,y=je()("".concat(e,"-affix-wrapper"),"".concat(e,"-affix-wrapper-textarea-with-clear-btn"),gL("".concat(e,"-affix-wrapper"),bL(p,d),v),(Pe(i={},"".concat(e,"-affix-wrapper-rtl"),"rtl"===l),Pe(i,"".concat(e,"-affix-wrapper-borderless"),!f),Pe(i,"".concat(s),!((m=this.props).addonBefore||m.addonAfter)&&s),i));return t.createElement("span",{className:y,style:c,hidden:h},Gi(n,{style:null,value:o}),this.renderClearIcon(e))}},{key:"render",value:function(){var e=this;return t.createElement(_i.Consumer,null,(function(t){var n=e.props,r=n.prefixCls,i=n.inputType,a=n.element;if(i===aF[0])return e.renderTextAreaWithClearIcon(r,a,t)}))}}]),r}(t.Component),uF=oF,sF=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function cF(e,t){return ln(e||"").slice(0,t).join("")}function lF(e,t,n,r){var i=n;return e?i=cF(n,r):ln(t||"").length<n.length&&ln(n||"").length>r&&(i=t),i}var fF=t.forwardRef((function(e,n){var r,i=e.prefixCls,a=e.bordered,o=void 0===a||a,u=e.showCount,c=void 0!==u&&u,l=e.maxLength,f=e.className,h=e.style,d=e.size,p=e.disabled,v=e.onCompositionStart,m=e.onCompositionEnd,y=e.onChange,g=e.status,b=sF(e,["prefixCls","bordered","showCount","maxLength","className","style","size","disabled","onCompositionStart","onCompositionEnd","onChange","status"]),k=t.useContext(Bn),w=k.getPrefixCls,x=k.direction,_=t.useContext(Wi),S=t.useContext(Bi),I=p||S,T=t.useContext(_i),C=T.status,N=T.hasFeedback,A=T.isFormItemInput,O=T.feedbackIcon,P=bL(C,g),R=t.useRef(null),D=t.useRef(null),M=s(t.useState(!1),2),L=M[0],F=M[1],j=t.useRef(),V=t.useRef(0),U=s(zM(b.defaultValue,{value:b.value}),2),z=U[0],B=U[1],q=b.hidden,H=function(e,t){void 0===b.value&&(B(e),null===t||void 0===t||t())},W=Number(l)>0,K=w("input",i);t.useImperativeHandle(n,(function(){var e;return{resizableTextArea:null===(e=R.current)||void 0===e?void 0:e.resizableTextArea,focus:function(e){var t,n;!function(e,t){if(e){e.focus(t);var n=(t||{}).cursor;if(n){var r=e.value.length;switch(n){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(r,r);break;default:e.setSelectionRange(0,r)}}}}(null===(n=null===(t=R.current)||void 0===t?void 0:t.resizableTextArea)||void 0===n?void 0:n.textArea,e)},blur:function(){var e;return null===(e=R.current)||void 0===e?void 0:e.blur()}}}));var G=t.createElement(iF,E({},Sn(b,["allowClear"]),{disabled:I,className:je()((r={},Pe(r,"".concat(K,"-borderless"),!o),Pe(r,f,f&&!c),Pe(r,"".concat(K,"-sm"),"small"===_||"small"===d),Pe(r,"".concat(K,"-lg"),"large"===_||"large"===d),r),gL(K,P)),style:c?void 0:h,prefixCls:K,onCompositionStart:function(e){F(!0),j.current=z,V.current=e.currentTarget.selectionStart,null===v||void 0===v||v(e)},onChange:function(e){var t=e.target.value;!L&&W&&(t=lF(e.target.selectionStart>=l+1||e.target.selectionStart===t.length||!e.target.selectionStart,z,t,l));H(t),wL(e.currentTarget,e,y,t)},onCompositionEnd:function(e){var t;F(!1);var n=e.currentTarget.value;W&&(n=lF(V.current>=l+1||V.current===(null===(t=j.current)||void 0===t?void 0:t.length),j.current,n,l));n!==z&&(H(n),wL(e.currentTarget,e,y,n)),null===m||void 0===m||m(e)},ref:R})),$=function(e){return"undefined"===typeof e||null===e?"":String(e)}(z);L||!W||null!==b.value&&void 0!==b.value||($=cF($,l));var Q=t.createElement(uF,E({disabled:I},b,{prefixCls:K,direction:x,inputType:"text",value:$,element:G,handleReset:function(e){var t,n,r;H(""),null===(t=R.current)||void 0===t||t.focus(),wL(null===(r=null===(n=R.current)||void 0===n?void 0:n.resizableTextArea)||void 0===r?void 0:r.textArea,e,y)},ref:D,bordered:o,status:g,style:c?void 0:h}));if(c||N){var Y,X=ln($).length,J="";return J="object"===Ue(c)?c.formatter({count:X,maxLength:l}):"".concat(X).concat(W?" / ".concat(l):""),t.createElement("div",{hidden:q,className:je()("".concat(K,"-textarea"),(Y={},Pe(Y,"".concat(K,"-textarea-rtl"),"rtl"===x),Pe(Y,"".concat(K,"-textarea-show-count"),c),Pe(Y,"".concat(K,"-textarea-in-form-item"),A),Y),gL("".concat(K,"-textarea"),P,N),f),style:h,"data-count":J},Q,N&&t.createElement("span",{className:"".concat(K,"-textarea-suffix")},O))}return Q})),hF=fF,dF=EL;dF.Group=cL,dF.Search=VL,dF.TextArea=hF,dF.Password=RL;var pF=dF,vF=function(e){var t=e.error;return""===t?null:(0,fo.jsx)("div",{className:"text-danger fs-4 mx-auto",style:{width:"200px",color:"red"},children:t})},mF=function(){var e=s((0,t.useState)(""),2),n=e[0],r=e[1],i=s((0,t.useState)(""),2),a=i[0],o=i[1],u=s((0,t.useState)(!1),2),c=(u[0],u[1]),l=s((0,t.useState)(""),2),f=(l[0],l[1]),h=we();return(0,fo.jsx)("div",{className:"all-box",children:(0,fo.jsx)("div",{className:"sign-up-bar",children:(0,fo.jsxs)(sL,{onSubmit:function(e){c(!0),e.preventDefault(),JT(_P,n,a).then((function(e){var t=e.user;console.log(t),h.push("/")})).catch((function(e){f("Please add Valid input")}))},name:"basic",labelCol:{span:8},wrapperCol:{span:11},initialValues:{remember:!0},onFinish:function(e){console.log("Success:",e)},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",children:[(0,fo.jsx)(sL.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username!"}],children:(0,fo.jsx)(pF,{})}),(0,fo.jsx)(sL.Item,{label:"Email",name:"email",rules:[{required:!0,message:"Please input your Email!",type:"email"}],onChange:function(e){return r(e.target.value)},children:(0,fo.jsx)(pF,{})}),(0,fo.jsx)(sL.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],onChange:function(e){return o(e.target.value)},children:(0,fo.jsx)(pF.Password,{})}),(0,fo.jsx)(sL.Item,{wrapperCol:{offset:8,span:9},children:(0,fo.jsx)(lo,{type:"primary",htmlType:"submit",children:"Submit"})})]})})})},yF=function(){return(0,fo.jsx)("div",{className:"signup-title",children:(0,fo.jsx)("div",{className:"salinaka",children:"Sign up to Salinaka"})})},gF=function(){return(0,fo.jsx)("div",{className:"al-account",children:(0,fo.jsxs)("div",{className:"already",children:["Already have an account?",(0,fo.jsx)(Ne,{className:"button-in",to:"/sign-in",children:"Sign in"})]})})},bF=function(){return(0,fo.jsxs)("div",{className:"sign-up",children:[(0,fo.jsx)(NP,{}),(0,fo.jsx)(mF,{}),(0,fo.jsx)(OP,{}),(0,fo.jsx)(yF,{}),(0,fo.jsx)(gF,{})]})},kF=function(){var e=we();return(0,fo.jsx)("div",{className:"another-navbar",children:(0,fo.jsxs)("div",{className:"navbar-ano",children:[(0,fo.jsx)("img",{src:"https://salinaka-ecommerce.web.app/images/logo-full.059e10fa5fedbfb65165e7565ed3936f.png",alt:"",onClick:function(){return e.push("/")}}),(0,fo.jsxs)("ul",{className:"navigation-bar",children:[(0,fo.jsx)("ui",{className:"home",onClick:function(){return e.push("/")},children:"Home"}),(0,fo.jsx)("ui",{className:"home",onClick:function(){return e.push("/shop-page")},children:"Shop"}),(0,fo.jsx)("ui",{className:"home",children:"Featured"}),(0,fo.jsx)("ui",{className:"home",children:"Recommended"})]}),(0,fo.jsx)("div",{className:"logo-search",children:(0,fo.jsx)("input",{className:"serach-type",type:"search",placeholder:"Search product.."})}),(0,fo.jsx)("div",{className:"logo",children:(0,fo.jsx)(b,{})}),(0,fo.jsx)("div",{className:"cart-bag",children:(0,fo.jsx)(k,{size:"22px"})}),(0,fo.jsx)(Ne,{className:"sign-up",to:"/sign-up",children:"Sign-up"})]})})},wF=function(){return(0,fo.jsxs)("div",{className:"facebook",children:[(0,fo.jsxs)("div",{className:"but-face",children:[(0,fo.jsx)(AP,{}),"Continue with Facebook"]}),(0,fo.jsxs)("div",{className:"but-goo",children:[(0,fo.jsx)(g,{}),"Continue with Google"]}),(0,fo.jsxs)("div",{className:"but-git",children:[(0,fo.jsx)(m,{}),"Continue with Github"]}),(0,fo.jsx)("div",{className:"or-style",children:"Or"})]})},xF=function(){var e=s((0,t.useState)(""),2),n=(e[0],e[1]),r=s((0,t.useState)(""),2),i=(r[0],r[1]),a=s((0,t.useState)(!1),2),o=(a[0],a[1],s((0,t.useState)(""),2)),u=o[0];o[1],we();return(0,fo.jsx)("div",{className:"all-box",children:(0,fo.jsx)("div",{className:"sign-up-bar",children:(0,fo.jsxs)(sL,{name:"basic",labelCol:{span:8},wrapperCol:{span:11},initialValues:{remember:!0},onFinish:function(e){console.log("Success:",e)},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",children:[(0,fo.jsx)(sL.Item,{label:"Email",name:"email",rules:[{required:!0,message:"Please input your email!"}],type:"email",placeholder:"john Doe",onChange:function(e){return n(e.target.value)},children:(0,fo.jsx)(pF,{})}),(0,fo.jsx)(sL.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],type:"password",placeholder:"Your password",onChange:function(e){return i(e.target.value)},children:(0,fo.jsx)(pF.Password,{})}),(0,fo.jsxs)(sL.Item,{wrapperCol:{offset:8,span:9},children:[(0,fo.jsx)(lo,{className:"button-up",type:"primary ",htmlType:"submit",children:"Sign In"}),(0,fo.jsx)("div",{style:{width:"100%",textAlign:"center"},children:(0,fo.jsx)(vF,{error:u})})]})]})})})},EF=function(){return(0,fo.jsx)("div",{className:"signup-title",children:(0,fo.jsx)("div",{className:"salinaka",children:"Sign in to Salinaka"})})},_F=function(){return(0,fo.jsx)("div",{className:"al-account",children:(0,fo.jsxs)("div",{className:"already",children:["Don't have an account?",(0,fo.jsx)(Ne,{className:"button-up",to:"sign-up",children:"Sign up"})]})})},SF=function(){return(0,fo.jsxs)("div",{className:"sign-in",children:[(0,fo.jsx)(kF,{}),(0,fo.jsx)(xF,{}),(0,fo.jsx)(wF,{}),(0,fo.jsx)(EF,{}),(0,fo.jsx)(_F,{})]})},IF=function(){var e=we(),n=s((0,t.useState)(""),2),r=n[0],i=n[1],a=s((0,t.useState)(""),2);a[0],a[1];return(0,fo.jsxs)("div",{className:"navbar-shop",children:[(0,fo.jsx)("img",{src:"https://salinaka-ecommerce.web.app/images/logo-full.059e10fa5fedbfb65165e7565ed3936f.png",alt:"",onClick:function(){return e.push("/")}}),(0,fo.jsxs)("ul",{className:"navigation-bar",children:[(0,fo.jsx)("ui",{className:"home",onClick:function(){return e.push("/")},children:"Home"}),(0,fo.jsx)("ui",{className:"home",onClick:function(){return e.push("/shop-page")},children:"Shop"}),(0,fo.jsx)("ui",{className:"home",children:"Featured"}),(0,fo.jsx)("ui",{className:"home",children:"Recommended"})]}),(0,fo.jsx)("form",{className:"logo-search",onSubmit:function(t){t.preventDefault(),e.push("/search?product=".concat(r)),i("")},children:(0,fo.jsx)("input",{className:"serach-type",type:"search",placeholder:"Search product..",onChange:function(e){return i(e.target.value)},value:r})}),(0,fo.jsxs)("div",{className:"all-in",children:[(0,fo.jsxs)("div",{className:"filter",children:["Filter ",(0,fo.jsx)(y,{})]}),(0,fo.jsx)("div",{className:"logo",children:(0,fo.jsx)(b,{})}),(0,fo.jsx)("div",{className:"cart-bag",children:(0,fo.jsx)(k,{size:"22px"})}),(0,fo.jsxs)("div",{className:"sign-up-in",children:[(0,fo.jsx)(Ne,{className:"sign-up",to:"/sign-up",children:"Sign-up"}),(0,fo.jsx)(Ne,{className:"sign-in",to:"/sign-in",children:"Sign-in"})]})]})]})},TF=function(){var e,n=s((0,t.useState)(""),2),r=n[0],i=n[1],a=s((0,t.useState)(!1),2),o=a[0],u=a[1];(0,t.useEffect)((function(){c()}),[]),(0,t.useEffect)((function(){}),[r]);var c=function(){m_(Wx(EP,"Search Product")).then((function(e){var t=e.docs.map((function(e){return e.data()}));i(t)})).catch((function(e){return console.log(e.message)}))};return(0,fo.jsx)("div",{className:"fetch-shop",children:(0,fo.jsx)("div",{className:"fetch-item",onMouseOver:function(){u(!0)},onMouseOut:function(){u(!1)},children:null===(e=r[0])||void 0===e?void 0:e.Shop.map((function(e){return(0,fo.jsxs)("div",{className:"fetch-img",children:[(0,fo.jsx)("img",{src:e.imageUrl,alt:""},e.id),(0,fo.jsxs)("div",{className:"name-sub",children:[(0,fo.jsx)("div",{className:"fetch-shop-name",children:e.name},e.id),(0,fo.jsx)("div",{className:"fetch-shop-subName",children:e.subName},e.id),(0,fo.jsxs)("div",{className:"fetch-shop-price",children:["$",e.price,".00"]},e.id),o&&(0,fo.jsx)("div",{className:"fetch-shop-cart",children:e.cart},e.id)]})]})}))})})},CF=function(){return(0,fo.jsxs)("div",{className:"shop-page",children:[(0,fo.jsx)(TF,{}),(0,fo.jsx)(IF,{})]})},NF=function(){var e=we(),n=s((0,t.useState)(""),2),r=n[0],i=n[1],a=s((0,t.useState)(""),2);a[0],a[1];return(0,fo.jsxs)("div",{className:"search-data",children:[(0,fo.jsx)("img",{src:"https://salinaka-ecommerce.web.app/images/logo-full.059e10fa5fedbfb65165e7565ed3936f.png",alt:"",onClick:function(){return e.push("/")}}),(0,fo.jsxs)("ul",{className:"navigation-bar",children:[(0,fo.jsx)("ui",{className:"home",onClick:function(){return e.push("/")},children:"Home"}),(0,fo.jsx)("ui",{className:"home",onClick:function(){return e.push("/shop-page")},children:"Shop"}),(0,fo.jsx)("ui",{className:"home",children:"Featured"}),(0,fo.jsx)("ui",{className:"home",children:"Recommended"})]}),(0,fo.jsx)("form",{className:"logo-search",onSubmit:function(t){t.preventDefault(),e.push("/search?product=".concat(r)),i("")},children:(0,fo.jsx)("input",{className:"serach-type",type:"search",placeholder:"Search product..",onChange:function(e){return i(e.target.value)},value:r})}),(0,fo.jsxs)("div",{className:"all-in",children:[(0,fo.jsx)("div",{className:"logo",children:(0,fo.jsx)(b,{})}),(0,fo.jsx)("div",{className:"cart-bag",children:(0,fo.jsx)(k,{size:"22px"})}),(0,fo.jsxs)("div",{className:"sign-up-in",children:[(0,fo.jsx)(Ne,{className:"sign-up",to:"/sign-up",children:"Sign-up"}),(0,fo.jsx)(Ne,{className:"sign-in",to:"/sign-in",children:"Sign-in"})]})]})]})},AF=function(){var e=new URLSearchParams(xe().search),n=e.get("product"),r=s((0,t.useState)(""),2),i=r[0],a=r[1];(0,t.useEffect)((function(){o()}),[]);var o=function(){m_(Wx(EP,"Search Product")).then((function(e){var t=e.docs.map((function(e){return e.data()}))[0].Shop.find((function(e){return e.name===n}));a(t)})).catch((function(e){return console.log(e.message)}))};return(0,fo.jsxs)("div",{children:[(0,fo.jsx)(NF,{}),(0,fo.jsx)("div",{className:"change-data",children:i?(0,fo.jsx)("div",{className:"fetch-shop",children:(0,fo.jsx)("div",{className:"fetch-item",children:(0,fo.jsxs)("div",{className:"fetch-img",children:[(0,fo.jsx)("img",{src:i.imageUrl,alt:""},i.id),(0,fo.jsxs)("div",{className:"name-sub",children:[(0,fo.jsx)("div",{className:"fetch-shop-name",children:i.name},i.id),(0,fo.jsx)("div",{className:"fetch-shop-subName",children:i.subName},i.id),(0,fo.jsxs)("div",{className:"fetch-shop-price",children:["$",i.price,".00"]},i.id)]})]})})}):(0,fo.jsxs)("h2",{children:["No Search Found with the Name : ",e.get("product")]})})]})},OF=function(){var e=we(),n=s((0,t.useState)(""),2),r=n[0],i=n[1],a=s((0,t.useState)(""),2);a[0],a[1];return(0,fo.jsxs)("div",{className:"navbar-shop",children:[(0,fo.jsx)("img",{src:"https://salinaka-ecommerce.web.app/images/logo-full.059e10fa5fedbfb65165e7565ed3936f.png",alt:"",onClick:function(){return e.push("/")}}),(0,fo.jsxs)("ul",{className:"navigation-bar",children:[(0,fo.jsx)("ui",{className:"home",onClick:function(){return e.push("/")},children:"Home"}),(0,fo.jsx)("ui",{className:"home",onClick:function(){return e.push("/shop-page")},children:"Shop"}),(0,fo.jsx)("ui",{className:"home",children:"Featured"}),(0,fo.jsx)("ui",{className:"home",children:"Recommended"})]}),(0,fo.jsx)("form",{className:"logo-search",onSubmit:function(t){t.preventDefault(),e.push("/search?product=".concat(r)),i("")},children:(0,fo.jsx)("input",{className:"serach-type",type:"search",placeholder:"Search product..",onChange:function(e){i(e.target.value)},value:r})}),(0,fo.jsxs)("div",{className:"all-in",children:[(0,fo.jsx)("div",{className:"logo",children:(0,fo.jsx)(b,{})}),(0,fo.jsx)("div",{className:"cart-bag",children:(0,fo.jsx)(k,{size:"22px"})}),(0,fo.jsxs)("div",{className:"sign-up-in",children:[(0,fo.jsx)(Ne,{className:"sign-up",to:"/sign-up",children:"Sign-up"}),(0,fo.jsx)(Ne,{className:"sign-in",to:"/sign-in",children:"Sign-in"})]})]})]})},PF=function(){var e,n=s((0,t.useState)(""),2),r=n[0],i=n[1];(0,t.useEffect)((function(){a()}),[]),(0,t.useEffect)((function(){}),[r]);var a=function(){m_(Wx(EP,"Featured Products")).then((function(e){var t=e.docs.map((function(e){return e.data()}));i(t)})).catch((function(e){return console.log(e.message)}))};return(0,fo.jsx)("div",{className:"fetch-the",children:(0,fo.jsx)("div",{className:"fetch-item",children:null===(e=r[0])||void 0===e?void 0:e.title.map((function(e){return(0,fo.jsxs)("div",{className:"fetch",children:[(0,fo.jsx)("img",{src:e.imageUrl,alt:""},e.id),(0,fo.jsxs)("div",{className:"name-sub",children:[(0,fo.jsx)("div",{className:"fetch-name",children:e.name},e.id),(0,fo.jsx)("div",{className:"fetch-subName",children:e.subName},e.id)]})]})}))})})},RF=function(){return(0,fo.jsxs)("div",{className:"details-for",children:[(0,fo.jsx)(OF,{}),(0,fo.jsx)(PF,{})]})};var DF=function(){return(0,fo.jsx)("div",{className:"App",children:(0,fo.jsxs)(be,{children:[(0,fo.jsx)(de,{exact:!0,path:"/",component:CP}),(0,fo.jsx)(de,{path:"/sign-up",component:bF}),(0,fo.jsx)(de,{path:"/sign-in",component:SF}),(0,fo.jsx)(de,{path:"/Shop-page",component:CF}),(0,fo.jsx)(de,{path:"/search",component:AF}),(0,fo.jsx)(de,{path:"/product/:id",component:RF})]})})},MF=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};r.createRoot(document.getElementById("root")).render((0,fo.jsx)(t.StrictMode,{children:(0,fo.jsx)(Ee,{basename:"/eye-web",children:(0,fo.jsx)(DF,{})})})),MF()}()}();
//# sourceMappingURL=main.753b6c00.js.map